(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Kd={exports:{}},Dl={};var cv;function $A(){if(cv)return Dl;cv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return Dl.Fragment=e,Dl.jsx=n,Dl.jsxs=n,Dl}var hv;function JA(){return hv||(hv=1,Kd.exports=$A()),Kd.exports}var S=JA(),Qd={exports:{}},ve={};var fv;function ZA(){if(fv)return ve;fv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),O=Symbol.iterator;function K(M){return M===null||typeof M!="object"?null:(M=O&&M[O]||M["@@iterator"],typeof M=="function"?M:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,ne={};function fe(M,Q,W){this.props=M,this.context=Q,this.refs=ne,this.updater=W||J}fe.prototype.isReactComponent={},fe.prototype.setState=function(M,Q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Q,"setState")},fe.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Te(){}Te.prototype=fe.prototype;function ye(M,Q,W){this.props=M,this.context=Q,this.refs=ne,this.updater=W||J}var Qe=ye.prototype=new Te;Qe.constructor=ye,te(Qe,fe.prototype),Qe.isPureReactComponent=!0;var at=Array.isArray;function ke(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(M,Q,W){var ie=W.ref;return{$$typeof:s,type:M,key:Q,ref:ie!==void 0?ie:null,props:W}}function V(M,Q){return C(M.type,Q,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function P(M){var Q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(W){return Q[W]})}var I=/\/+/g;function Ye(M,Q){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):Q.toString(36)}function yt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ke,ke):(M.status="pending",M.then(function(Q){M.status==="pending"&&(M.status="fulfilled",M.value=Q)},function(Q){M.status==="pending"&&(M.status="rejected",M.reason=Q)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,Q,W,ie,ge){var be=typeof M;(be==="undefined"||be==="boolean")&&(M=null);var Re=!1;if(M===null)Re=!0;else switch(be){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(M.$$typeof){case s:case e:Re=!0;break;case T:return Re=M._init,H(Re(M._payload),Q,W,ie,ge)}}if(Re)return ge=ge(M),Re=ie===""?"."+Ye(M,0):ie,at(ge)?(W="",Re!=null&&(W=Re.replace(I,"$&/")+"/"),H(ge,Q,W,"",function(Fi){return Fi})):ge!=null&&(D(ge)&&(ge=V(ge,W+(ge.key==null||M&&M.key===ge.key?"":(""+ge.key).replace(I,"$&/")+"/")+Re)),Q.push(ge)),1;Re=0;var _t=ie===""?".":ie+":";if(at(M))for(var Ze=0;Ze<M.length;Ze++)ie=M[Ze],be=_t+Ye(ie,Ze),Re+=H(ie,Q,W,be,ge);else if(Ze=K(M),typeof Ze=="function")for(M=Ze.call(M),Ze=0;!(ie=M.next()).done;)ie=ie.value,be=_t+Ye(ie,Ze++),Re+=H(ie,Q,W,be,ge);else if(be==="object"){if(typeof M.then=="function")return H(yt(M),Q,W,ie,ge);throw Q=String(M),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Re}function ee(M,Q,W){if(M==null)return M;var ie=[],ge=0;return H(M,ie,"","",function(be){return Q.call(W,be,ge++)}),ie}function ue(M){if(M._status===-1){var Q=M._result;Q=Q(),Q.then(function(W){(M._status===0||M._status===-1)&&(M._status=1,M._result=W)},function(W){(M._status===0||M._status===-1)&&(M._status=2,M._result=W)}),M._status===-1&&(M._status=0,M._result=Q)}if(M._status===1)return M._result.default;throw M._result}var Pe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},ze={map:ee,forEach:function(M,Q,W){ee(M,function(){Q.apply(this,arguments)},W)},count:function(M){var Q=0;return ee(M,function(){Q++}),Q},toArray:function(M){return ee(M,function(Q){return Q})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return ve.Activity=A,ve.Children=ze,ve.Component=fe,ve.Fragment=n,ve.Profiler=l,ve.PureComponent=ye,ve.StrictMode=r,ve.Suspense=_,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,ve.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},ve.cache=function(M){return function(){return M.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(M,Q,W){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ie=te({},M.props),ge=M.key;if(Q!=null)for(be in Q.key!==void 0&&(ge=""+Q.key),Q)!w.call(Q,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&Q.ref===void 0||(ie[be]=Q[be]);var be=arguments.length-2;if(be===1)ie.children=W;else if(1<be){for(var Re=Array(be),_t=0;_t<be;_t++)Re[_t]=arguments[_t+2];ie.children=Re}return C(M.type,ge,ie)},ve.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},ve.createElement=function(M,Q,W){var ie,ge={},be=null;if(Q!=null)for(ie in Q.key!==void 0&&(be=""+Q.key),Q)w.call(Q,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ge[ie]=Q[ie]);var Re=arguments.length-2;if(Re===1)ge.children=W;else if(1<Re){for(var _t=Array(Re),Ze=0;Ze<Re;Ze++)_t[Ze]=arguments[Ze+2];ge.children=_t}if(M&&M.defaultProps)for(ie in Re=M.defaultProps,Re)ge[ie]===void 0&&(ge[ie]=Re[ie]);return C(M,be,ge)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(M){return{$$typeof:p,render:M}},ve.isValidElement=D,ve.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:ue}},ve.memo=function(M,Q){return{$$typeof:g,type:M,compare:Q===void 0?null:Q}},ve.startTransition=function(M){var Q=N.T,W={};N.T=W;try{var ie=M(),ge=N.S;ge!==null&&ge(W,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ke,Pe)}catch(be){Pe(be)}finally{Q!==null&&W.types!==null&&(Q.types=W.types),N.T=Q}},ve.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},ve.use=function(M){return N.H.use(M)},ve.useActionState=function(M,Q,W){return N.H.useActionState(M,Q,W)},ve.useCallback=function(M,Q){return N.H.useCallback(M,Q)},ve.useContext=function(M){return N.H.useContext(M)},ve.useDebugValue=function(){},ve.useDeferredValue=function(M,Q){return N.H.useDeferredValue(M,Q)},ve.useEffect=function(M,Q){return N.H.useEffect(M,Q)},ve.useEffectEvent=function(M){return N.H.useEffectEvent(M)},ve.useId=function(){return N.H.useId()},ve.useImperativeHandle=function(M,Q,W){return N.H.useImperativeHandle(M,Q,W)},ve.useInsertionEffect=function(M,Q){return N.H.useInsertionEffect(M,Q)},ve.useLayoutEffect=function(M,Q){return N.H.useLayoutEffect(M,Q)},ve.useMemo=function(M,Q){return N.H.useMemo(M,Q)},ve.useOptimistic=function(M,Q){return N.H.useOptimistic(M,Q)},ve.useReducer=function(M,Q,W){return N.H.useReducer(M,Q,W)},ve.useRef=function(M){return N.H.useRef(M)},ve.useState=function(M){return N.H.useState(M)},ve.useSyncExternalStore=function(M,Q,W){return N.H.useSyncExternalStore(M,Q,W)},ve.useTransition=function(){return N.H.useTransition()},ve.version="19.2.3",ve}var dv;function qm(){return dv||(dv=1,Qd.exports=ZA()),Qd.exports}var we=qm(),Yd={exports:{}},Ol={},Xd={exports:{}},$d={};var mv;function WA(){return mv||(mv=1,(function(s){function e(H,ee){var ue=H.length;H.push(ee);e:for(;0<ue;){var Pe=ue-1>>>1,ze=H[Pe];if(0<l(ze,ee))H[Pe]=ee,H[ue]=ze,ue=Pe;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ee=H[0],ue=H.pop();if(ue!==ee){H[0]=ue;e:for(var Pe=0,ze=H.length,M=ze>>>1;Pe<M;){var Q=2*(Pe+1)-1,W=H[Q],ie=Q+1,ge=H[ie];if(0>l(W,ue))ie<ze&&0>l(ge,W)?(H[Pe]=ge,H[ie]=ue,Pe=ie):(H[Pe]=W,H[Q]=ue,Pe=Q);else if(ie<ze&&0>l(ge,ue))H[Pe]=ge,H[ie]=ue,Pe=ie;else break e}}return ee}function l(H,ee){var ue=H.sortIndex-ee.sortIndex;return ue!==0?ue:H.id-ee.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],g=[],T=1,A=null,O=3,K=!1,J=!1,te=!1,ne=!1,fe=typeof setTimeout=="function"?setTimeout:null,Te=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;function Qe(H){for(var ee=n(g);ee!==null;){if(ee.callback===null)r(g);else if(ee.startTime<=H)r(g),ee.sortIndex=ee.expirationTime,e(_,ee);else break;ee=n(g)}}function at(H){if(te=!1,Qe(H),!J)if(n(_)!==null)J=!0,ke||(ke=!0,P());else{var ee=n(g);ee!==null&&yt(at,ee.startTime-H)}}var ke=!1,N=-1,w=5,C=-1;function V(){return ne?!0:!(s.unstable_now()-C<w)}function D(){if(ne=!1,ke){var H=s.unstable_now();C=H;var ee=!0;try{e:{J=!1,te&&(te=!1,Te(N),N=-1),K=!0;var ue=O;try{t:{for(Qe(H),A=n(_);A!==null&&!(A.expirationTime>H&&V());){var Pe=A.callback;if(typeof Pe=="function"){A.callback=null,O=A.priorityLevel;var ze=Pe(A.expirationTime<=H);if(H=s.unstable_now(),typeof ze=="function"){A.callback=ze,Qe(H),ee=!0;break t}A===n(_)&&r(_),Qe(H)}else r(_);A=n(_)}if(A!==null)ee=!0;else{var M=n(g);M!==null&&yt(at,M.startTime-H),ee=!1}}break e}finally{A=null,O=ue,K=!1}ee=void 0}}finally{ee?P():ke=!1}}}var P;if(typeof ye=="function")P=function(){ye(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ye=I.port2;I.port1.onmessage=D,P=function(){Ye.postMessage(null)}}else P=function(){fe(D,0)};function yt(H,ee){N=fe(function(){H(s.unstable_now())},ee)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(H){switch(O){case 1:case 2:case 3:var ee=3;break;default:ee=O}var ue=O;O=ee;try{return H()}finally{O=ue}},s.unstable_requestPaint=function(){ne=!0},s.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ue=O;O=H;try{return ee()}finally{O=ue}},s.unstable_scheduleCallback=function(H,ee,ue){var Pe=s.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Pe+ue:Pe):ue=Pe,H){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=ue+ze,H={id:T++,callback:ee,priorityLevel:H,startTime:ue,expirationTime:ze,sortIndex:-1},ue>Pe?(H.sortIndex=ue,e(g,H),n(_)===null&&H===n(g)&&(te?(Te(N),N=-1):te=!0,yt(at,ue-Pe))):(H.sortIndex=ze,e(_,H),J||K||(J=!0,ke||(ke=!0,P()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var ee=O;return function(){var ue=O;O=ee;try{return H.apply(this,arguments)}finally{O=ue}}}})($d)),$d}var pv;function eS(){return pv||(pv=1,Xd.exports=WA()),Xd.exports}var Jd={exports:{}},Zt={};var gv;function tS(){if(gv)return Zt;gv=1;var s=qm();function e(_){var g="https://react.dev/errors/"+_;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(_,g,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:g,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,g){if(_==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zt.createPortal=function(_,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(_,g,null,T)},Zt.flushSync=function(_){var g=d.T,T=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=g,r.p=T,r.d.f()}},Zt.preconnect=function(_,g){typeof _=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(_,g))},Zt.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Zt.preinit=function(_,g){if(typeof _=="string"&&g&&typeof g.as=="string"){var T=g.as,A=p(T,g.crossOrigin),O=typeof g.integrity=="string"?g.integrity:void 0,K=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?r.d.S(_,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:O,fetchPriority:K}):T==="script"&&r.d.X(_,{crossOrigin:A,integrity:O,fetchPriority:K,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zt.preinitModule=function(_,g){if(typeof _=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=p(g.as,g.crossOrigin);r.d.M(_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(_)},Zt.preload=function(_,g){if(typeof _=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,A=p(T,g.crossOrigin);r.d.L(_,T,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zt.preloadModule=function(_,g){if(typeof _=="string")if(g){var T=p(g.as,g.crossOrigin);r.d.m(_,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(_)},Zt.requestFormReset=function(_){r.d.r(_)},Zt.unstable_batchedUpdates=function(_,g){return _(g)},Zt.useFormState=function(_,g,T){return d.H.useFormState(_,g,T)},Zt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var yv;function nS(){if(yv)return Jd.exports;yv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Jd.exports=tS(),Jd.exports}var _v;function iS(){if(_v)return Ol;_v=1;var s=eS(),e=qm(),n=nS();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function _(t){if(u(t)!==t)throw Error(r(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===o)return _(h),i;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var A=Object.assign,O=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),Te=Symbol.for("react.consumer"),ye=Symbol.for("react.context"),Qe=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case te:return"Fragment";case fe:return"Profiler";case ne:return"StrictMode";case at:return"Suspense";case ke:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case ye:return t.displayName||"Context";case Te:return(t._context.displayName||"Context")+".Consumer";case Qe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:Ye(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return Ye(t(i))}catch{}}return null}var yt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Pe=[],ze=-1;function M(t){return{current:t}}function Q(t){0>ze||(t.current=Pe[ze],Pe[ze]=null,ze--)}function W(t,i){ze++,Pe[ze]=t.current,t.current=i}var ie=M(null),ge=M(null),be=M(null),Re=M(null);function _t(t,i){switch(W(be,i),W(ge,t),W(ie,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?M_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=M_(i),t=V_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(ie),W(ie,t)}function Ze(){Q(ie),Q(ge),Q(be)}function Fi(t){t.memoizedState!==null&&W(Re,t);var i=ie.current,a=V_(i,t.type);i!==a&&(W(ge,t),W(ie,a))}function Ts(t){ge.current===t&&(Q(ie),Q(ge)),Re.current===t&&(Q(Re),Rl._currentValue=ue)}var gr,Gi;function gn(t){if(gr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);gr=i&&i[1]||"",Gi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gr+t+Gi}var da=!1;function Kn(t,i){if(!t||da)return"";da=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){j=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var F=`
`+R[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{da=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?gn(a):""}function bs(t,i){switch(t.tag){case 26:case 27:case 5:return gn(t.type);case 16:return gn("Lazy");case 13:return t.child!==i&&i!==null?gn("Suspense Fallback"):gn("Suspense");case 19:return gn("SuspenseList");case 0:case 15:return Kn(t.type,!1);case 11:return Kn(t.type.render,!1);case 1:return Kn(t.type,!0);case 31:return gn("Activity");default:return""}}function yr(t){try{var i="",a=null;do i+=bs(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var dt=Object.prototype.hasOwnProperty,Ge=s.unstable_scheduleCallback,fi=s.unstable_cancelCallback,_r=s.unstable_shouldYield,ma=s.unstable_requestPaint,qt=s.unstable_now,se=s.unstable_getCurrentPriorityLevel,je=s.unstable_ImmediatePriority,on=s.unstable_UserBlockingPriority,yn=s.unstable_NormalPriority,pa=s.unstable_LowPriority,mu=s.unstable_IdlePriority,pu=s.log,gu=s.unstable_setDisableYieldValue,Qn=null,Ht=null;function Nn(t){if(typeof pu=="function"&&gu(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Qn,t)}catch{}}var vt=Math.clz32?Math.clz32:_u,yu=Math.log,ga=Math.LN2;function _u(t){return t>>>=0,t===0?32:31-(yu(t)/ga|0)|0}var di=256,vr=262144,St=4194304;function mi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pi(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=mi(o):(y&=E,y!==0?h=mi(y):a||(a=E&~t,a!==0&&(h=mi(a))))):(E=o&~f,E!==0?h=mi(E):y!==0?h=mi(y):a||(a=o&~t,a!==0&&(h=mi(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Yn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Xh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vu(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function gi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Er(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function $h(t,i,a,o,h,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(a=y&~a;0<a;){var F=31-vt(a),Y=1<<F;E[F]=0,R[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}a&=~Y}o!==0&&Tr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~i))}function Tr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-vt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Oo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-vt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function Mo(t,i){var a=i&-i;return a=(a&42)!==0?1:br(a),(a&(t.suspendedLanes|i))!==0?0:a}function br(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Eu(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:iv(t.type))}function Xn(t,i){var a=ee.p;try{return ee.p=t,i()}finally{ee.p=a}}var $n=Math.random().toString(36).slice(2),wt="__reactFiber$"+$n,Ut="__reactProps$"+$n,yi="__reactContainer$"+$n,ya="__reactEvents$"+$n,Jh="__reactListeners$"+$n,Tu="__reactHandles$"+$n,bu="__reactResources$"+$n,_i="__reactMarker$"+$n;function _a(t){delete t[wt],delete t[Ut],delete t[ya],delete t[Jh],delete t[Tu]}function vi(t){var i=t[wt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[yi]||a[wt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=B_(t);t!==null;){if(a=t[wt])return a;t=B_(t)}return i}t=a,a=t.parentNode}return null}function xn(t){if(t=t[wt]||t[yi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function _n(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Ei(t){var i=t[bu];return i||(i=t[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function It(t){t[_i]=!0}var Vo=new Set,ko={};function Ti(t,i){bi(t,i),bi(t+"Capture",i)}function bi(t,i){for(ko[t]=i,t=0;t<i.length;t++)Vo.add(i[t])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},Uo={};function Au(t){return dt.call(Uo,t)?!0:dt.call(Lo,t)?!1:Po.test(t)?Uo[t]=!0:(Lo[t]=!0,!1)}function va(t,i,a){if(Au(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function vn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Rt(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function As(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function zo(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=As(t)?"checked":"value";t._valueTracker=zo(t,i,""+t[i])}}function Ar(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=As(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function Ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Sr=/[\n"\\]/g;function ln(t){return t.replace(Sr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ea(t,i,a,o,h,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),i!=null?y==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+zt(i)):t.value!==""+zt(i)&&(t.value=""+zt(i)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),i!=null?jo(t,y,zt(i)):a!=null?jo(t,y,zt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+zt(E):t.removeAttribute("name")}function Su(t,i,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+zt(a):"",i=i!=null?""+zt(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Xe(t)}function jo(t,i,a){i==="number"&&Ai(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ss(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function wu(t,i,a){if(i!=null&&(i=""+zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+zt(a):""}function ws(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(yt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=zt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Xe(t)}function un(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Iu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bo(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Iu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function qo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Bo(t,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Bo(t,f,i[f])}function Ta(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return Is.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Jn(){}var Ho=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rs=null,Si=null;function wr(t){var i=xn(t);if(i&&(t=i.stateNode)){var a=t[Ut]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ea(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[Ut]||null;if(!h)throw Error(r(90));Ea(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&Ar(o)}break e;case"textarea":wu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ss(t,!!a.multiple,i,!1)}}}var Aa=!1;function Cs(t,i,a){if(Aa)return t(i,a);Aa=!0;try{var o=t(i);return o}finally{if(Aa=!1,(Rs!==null||Si!==null)&&(Ec(),Rs&&(i=Rs,t=Si,Si=Rs=null,wr(i),t)))for(i=0;i<t.length;i++)wr(t[i])}}function Zn(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Ut]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(On)try{var We={};Object.defineProperty(We,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Ir=!1}var wi=null,Fo=null,Rr=null;function Go(){if(Rr)return Rr;var t,i=Fo,a=i.length,o,h="value"in wi?wi.value:wi.textContent,f=h.length;for(t=0;t<a&&i[t]===h[t];t++);var y=a-t;for(o=1;o<=y&&i[a-o]===h[f-o];o++);return Rr=h.slice(t,1<o?1-o:void 0)}function Cr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Qi(){return!0}function Wn(){return!1}function Ft(t){function i(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qi:Wn,this.isPropagationStopped=Wn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),i}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Ft(Yi),Ns=A({},Yi,{view:0,detail:0}),Ko=Ft(Ns),xs,Sa,Ri,wa=A({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(xs=t.screenX-Ri.screenX,Sa=t.screenY-Ri.screenY):Sa=xs=0,Ri=t),xs)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),Qo=Ft(wa),Nr=A({},wa,{dataTransfer:0}),Cu=Ft(Nr),Nu=A({},Ns,{relatedTarget:0}),xr=Ft(Nu),Yo=A({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),xu=Ft(Yo),Ia=A({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Du=Ft(Ia),Ou=A({},Yi,{data:0}),Ci=Ft(Ou),Mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ku[t])?!!i[t]:!1}function Ds(){return Pu}var sn=A({},Ns,{key:function(t){if(t.key){var i=Mu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Cr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(t){return t.type==="keypress"?Cr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lu=Ft(sn),Uu=A({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=Ft(Uu),c=A({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),m=Ft(c),v=A({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ft(v),L=A({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ft(L),Z=A({},Yi,{newState:0,oldState:0}),Ae=Ft(Z),Et=[9,13,27,32],He=On&&"CompositionEvent"in window,ct=null;On&&"documentMode"in document&&(ct=document.documentMode);var Mn=On&&"TextEvent"in window&&!ct,Ni=On&&(!He||ct&&8<ct&&11>=ct),ei=" ",ti=!1;function Dr(t,i){switch(t){case"keyup":return Et.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ra(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ca=!1;function Eb(t,i){switch(t){case"compositionend":return Ra(i);case"keypress":return i.which!==32?null:(ti=!0,ei);case"textInput":return t=i.data,t===ei&&ti?null:t;default:return null}}function Tb(t,i){if(Ca)return t==="compositionend"||!He&&Dr(t,i)?(t=Go(),Rr=Fo=wi=null,Ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ni&&i.locale!=="ko"?null:i.data;default:return null}}var bb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!bb[t.type]:i==="textarea"}function Gp(t,i,a,o){Rs?Si?Si.push(o):Si=[o]:Rs=o,i=Rc(i,"onChange"),0<i.length&&(a=new Ii("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Xo=null,$o=null;function Ab(t){R_(t,0)}function zu(t){var i=_n(t);if(Ar(i))return t}function Kp(t,i){if(t==="change")return i}var Qp=!1;if(On){var Zh;if(On){var Wh="oninput"in document;if(!Wh){var Yp=document.createElement("div");Yp.setAttribute("oninput","return;"),Wh=typeof Yp.oninput=="function"}Zh=Wh}else Zh=!1;Qp=Zh&&(!document.documentMode||9<document.documentMode)}function Xp(){Xo&&(Xo.detachEvent("onpropertychange",$p),$o=Xo=null)}function $p(t){if(t.propertyName==="value"&&zu($o)){var i=[];Gp(i,$o,t,Dn(t)),Cs(Ab,i)}}function Sb(t,i,a){t==="focusin"?(Xp(),Xo=i,$o=a,Xo.attachEvent("onpropertychange",$p)):t==="focusout"&&Xp()}function wb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu($o)}function Ib(t,i){if(t==="click")return zu(i)}function Rb(t,i){if(t==="input"||t==="change")return zu(i)}function Cb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var En=typeof Object.is=="function"?Object.is:Cb;function Jo(t,i){if(En(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!dt.call(i,h)||!En(t[h],i[h]))return!1}return!0}function Jp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zp(t,i){var a=Jp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jp(a)}}function Wp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Wp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function eg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ai(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ai(t.document)}return i}function ef(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Nb=On&&"documentMode"in document&&11>=document.documentMode,Na=null,tf=null,Zo=null,nf=!1;function tg(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nf||Na==null||Na!==Ai(o)||(o=Na,"selectionStart"in o&&ef(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Zo&&Jo(Zo,o)||(Zo=o,o=Rc(tf,"onSelect"),0<o.length&&(i=new Ii("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=Na)))}function Or(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var xa={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},sf={},ng={};On&&(ng=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Mr(t){if(sf[t])return sf[t];if(!xa[t])return t;var i=xa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in ng)return sf[t]=i[a];return t}var ig=Mr("animationend"),sg=Mr("animationiteration"),rg=Mr("animationstart"),xb=Mr("transitionrun"),Db=Mr("transitionstart"),Ob=Mr("transitioncancel"),ag=Mr("transitionend"),og=new Map,rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rf.push("scrollEnd");function ni(t,i){og.set(t,i),Ti(i,[t])}var ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],Da=0,af=0;function Bu(){for(var t=Da,i=af=Da=0;i<t;){var a=Vn[i];Vn[i++]=null;var o=Vn[i];Vn[i++]=null;var h=Vn[i];Vn[i++]=null;var f=Vn[i];if(Vn[i++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&lg(a,h,f)}}function qu(t,i,a,o){Vn[Da++]=t,Vn[Da++]=i,Vn[Da++]=a,Vn[Da++]=o,af|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function of(t,i,a,o){return qu(t,i,a,o),Hu(t)}function Vr(t,i){return qu(t,null,null,i),Hu(t)}function lg(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-vt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Hu(t){if(50<El)throw El=0,gd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Oa={};function Mb(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,i,a,o){return new Mb(t,i,a,o)}function lf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $i(t,i){var a=t.alternate;return a===null?(a=Tn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ug(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Fu(t,i,a,o,h,f){var y=0;if(o=t,typeof t=="function")lf(t)&&(y=1);else if(typeof t=="string")y=UA(t,a,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Tn(31,a,i,h),t.elementType=C,t.lanes=f,t;case te:return kr(a.children,h,f,i);case ne:y=8,h|=24;break;case fe:return t=Tn(12,a,i,h|2),t.elementType=fe,t.lanes=f,t;case at:return t=Tn(13,a,i,h),t.elementType=at,t.lanes=f,t;case ke:return t=Tn(19,a,i,h),t.elementType=ke,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ye:y=10;break e;case Te:y=9;break e;case Qe:y=11;break e;case N:y=14;break e;case w:y=16,o=null;break e}y=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=Tn(y,a,i,h),i.elementType=t,i.type=o,i.lanes=f,i}function kr(t,i,a,o){return t=Tn(7,t,o,i),t.lanes=a,t}function uf(t,i,a){return t=Tn(6,t,null,i),t.lanes=a,t}function cg(t){var i=Tn(18,null,null,0);return i.stateNode=t,i}function cf(t,i,a){return i=Tn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var hg=new WeakMap;function kn(t,i){if(typeof t=="object"&&t!==null){var a=hg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:yr(i)},hg.set(t,i),i)}return{value:t,source:i,stack:yr(i)}}var Ma=[],Va=0,Gu=null,Wo=0,Pn=[],Ln=0,Os=null,xi=1,Di="";function Ji(t,i){Ma[Va++]=Wo,Ma[Va++]=Gu,Gu=t,Wo=i}function fg(t,i,a){Pn[Ln++]=xi,Pn[Ln++]=Di,Pn[Ln++]=Os,Os=t;var o=xi;t=Di;var h=32-vt(o)-1;o&=~(1<<h),a+=1;var f=32-vt(i)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,xi=1<<32-vt(i)+h|a<<h|o,Di=f+t}else xi=1<<f|a<<h|o,Di=t}function hf(t){t.return!==null&&(Ji(t,1),fg(t,1,0))}function ff(t){for(;t===Gu;)Gu=Ma[--Va],Ma[Va]=null,Wo=Ma[--Va],Ma[Va]=null;for(;t===Os;)Os=Pn[--Ln],Pn[Ln]=null,Di=Pn[--Ln],Pn[Ln]=null,xi=Pn[--Ln],Pn[Ln]=null}function dg(t,i){Pn[Ln++]=xi,Pn[Ln++]=Di,Pn[Ln++]=Os,xi=i.id,Di=i.overflow,Os=t}var Gt=null,ot=null,Le=!1,Ms=null,Un=!1,df=Error(r(519));function Vs(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(kn(i,t)),df}function mg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[wt]=t,i[Ut]=o,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<bl.length;a++)Ne(bl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),Su(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),ws(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||D_(i.textContent,a)?(o.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),o.onScroll!=null&&Ne("scroll",i),o.onScrollEnd!=null&&Ne("scrollend",i),o.onClick!=null&&(i.onclick=Jn),i=!0):i=!1,i||Vs(t,!0)}function pg(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Gt=Gt.return}}function ka(t){if(t!==Gt)return!1;if(!Le)return pg(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Dd(t.type,t.memoizedProps)),a=!a),a&&ot&&Vs(t),pg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ot=j_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ot=j_(t)}else i===27?(i=ot,Ys(t.type)?(t=Pd,Pd=null,ot=t):ot=i):ot=Gt?jn(t.stateNode.nextSibling):null;return!0}function Pr(){ot=Gt=null,Le=!1}function mf(){var t=Ms;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Ms=null),t}function el(t){Ms===null?Ms=[t]:Ms.push(t)}var pf=M(null),Lr=null,Zi=null;function ks(t,i,a){W(pf,i._currentValue),i._currentValue=a}function Wi(t){t._currentValue=pf.current,Q(pf)}function gf(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function yf(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var R=0;R<i.length;R++)if(E.context===i[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),gf(f.return,a,t),o||(y=null);break e}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),gf(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Pa(t,i,a,o){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=h.type;En(h.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(h===Re.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}h=h.return}t!==null&&yf(i,t,a,o),i.flags|=262144}function Ku(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ur(t){Lr=t,Zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return gg(Lr,t)}function Qu(t,i){return Lr===null&&Ur(t),gg(t,i)}function gg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Zi===null){if(t===null)throw Error(r(308));Zi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Zi=Zi.next=i;return a}var Vb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},kb=s.unstable_scheduleCallback,Pb=s.unstable_NormalPriority,Ct={$$typeof:ye,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _f(){return{controller:new Vb,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&kb(Pb,function(){t.controller.abort()})}var nl=null,vf=0,La=0,Ua=null;function Lb(t,i){if(nl===null){var a=nl=[];vf=0,La=bd(),Ua={status:"pending",value:void 0,then:function(o){a.push(o)}}}return vf++,i.then(yg,yg),i}function yg(){if(--vf===0&&nl!==null){Ua!==null&&(Ua.status="fulfilled");var t=nl;nl=null,La=0,Ua=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Ub(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var _g=H.S;H.S=function(t,i){t_=qt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Lb(t,i),_g!==null&&_g(t,i)};var zr=M(null);function Ef(){var t=zr.current;return t!==null?t:it.pooledCache}function Yu(t,i){i===null?W(zr,zr.current):W(zr,i.pool)}function vg(){var t=Ef();return t===null?null:{parent:Ct._currentValue,pool:t}}var za=Error(r(460)),Tf=Error(r(474)),Xu=Error(r(542)),$u={then:function(){}};function Eg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Tg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Jn,Jn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ag(t),t;default:if(typeof i.status=="string")i.then(Jn,Jn);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ag(t),t}throw Br=i,za}}function jr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Br=a,za):a}}var Br=null;function bg(){if(Br===null)throw Error(r(459));var t=Br;return Br=null,t}function Ag(t){if(t===za||t===Xu)throw Error(r(483))}var ja=null,il=0;function Ju(t){var i=il;return il+=1,ja===null&&(ja=[]),Tg(ja,t,i)}function sl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Zu(t,i){throw i.$$typeof===O?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Sg(t){function i(k,x){if(t){var U=k.deletions;U===null?(k.deletions=[x],k.flags|=16):U.push(x)}}function a(k,x){if(!t)return null;for(;x!==null;)i(k,x),x=x.sibling;return null}function o(k){for(var x=new Map;k!==null;)k.key!==null?x.set(k.key,k):x.set(k.index,k),k=k.sibling;return x}function h(k,x){return k=$i(k,x),k.index=0,k.sibling=null,k}function f(k,x,U){return k.index=U,t?(U=k.alternate,U!==null?(U=U.index,U<x?(k.flags|=67108866,x):U):(k.flags|=67108866,x)):(k.flags|=1048576,x)}function y(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,x,U,G){return x===null||x.tag!==6?(x=uf(U,k.mode,G),x.return=k,x):(x=h(x,U),x.return=k,x)}function R(k,x,U,G){var ce=U.type;return ce===te?F(k,x,U.props.children,G,U.key):x!==null&&(x.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&jr(ce)===x.type)?(x=h(x,U.props),sl(x,U),x.return=k,x):(x=Fu(U.type,U.key,U.props,null,k.mode,G),sl(x,U),x.return=k,x)}function z(k,x,U,G){return x===null||x.tag!==4||x.stateNode.containerInfo!==U.containerInfo||x.stateNode.implementation!==U.implementation?(x=cf(U,k.mode,G),x.return=k,x):(x=h(x,U.children||[]),x.return=k,x)}function F(k,x,U,G,ce){return x===null||x.tag!==7?(x=kr(U,k.mode,G,ce),x.return=k,x):(x=h(x,U),x.return=k,x)}function Y(k,x,U){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=uf(""+x,k.mode,U),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case K:return U=Fu(x.type,x.key,x.props,null,k.mode,U),sl(U,x),U.return=k,U;case J:return x=cf(x,k.mode,U),x.return=k,x;case w:return x=jr(x),Y(k,x,U)}if(yt(x)||P(x))return x=kr(x,k.mode,U,null),x.return=k,x;if(typeof x.then=="function")return Y(k,Ju(x),U);if(x.$$typeof===ye)return Y(k,Qu(k,x),U);Zu(k,x)}return null}function j(k,x,U,G){var ce=x!==null?x.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ce!==null?null:E(k,x,""+U,G);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case K:return U.key===ce?R(k,x,U,G):null;case J:return U.key===ce?z(k,x,U,G):null;case w:return U=jr(U),j(k,x,U,G)}if(yt(U)||P(U))return ce!==null?null:F(k,x,U,G,null);if(typeof U.then=="function")return j(k,x,Ju(U),G);if(U.$$typeof===ye)return j(k,x,Qu(k,U),G);Zu(k,U)}return null}function q(k,x,U,G,ce){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return k=k.get(U)||null,E(x,k,""+G,ce);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case K:return k=k.get(G.key===null?U:G.key)||null,R(x,k,G,ce);case J:return k=k.get(G.key===null?U:G.key)||null,z(x,k,G,ce);case w:return G=jr(G),q(k,x,U,G,ce)}if(yt(G)||P(G))return k=k.get(U)||null,F(x,k,G,ce,null);if(typeof G.then=="function")return q(k,x,U,Ju(G),ce);if(G.$$typeof===ye)return q(k,x,U,Qu(x,G),ce);Zu(x,G)}return null}function oe(k,x,U,G){for(var ce=null,Be=null,le=x,Ie=x=0,De=null;le!==null&&Ie<U.length;Ie++){le.index>Ie?(De=le,le=null):De=le.sibling;var qe=j(k,le,U[Ie],G);if(qe===null){le===null&&(le=De);break}t&&le&&qe.alternate===null&&i(k,le),x=f(qe,x,Ie),Be===null?ce=qe:Be.sibling=qe,Be=qe,le=De}if(Ie===U.length)return a(k,le),Le&&Ji(k,Ie),ce;if(le===null){for(;Ie<U.length;Ie++)le=Y(k,U[Ie],G),le!==null&&(x=f(le,x,Ie),Be===null?ce=le:Be.sibling=le,Be=le);return Le&&Ji(k,Ie),ce}for(le=o(le);Ie<U.length;Ie++)De=q(le,k,Ie,U[Ie],G),De!==null&&(t&&De.alternate!==null&&le.delete(De.key===null?Ie:De.key),x=f(De,x,Ie),Be===null?ce=De:Be.sibling=De,Be=De);return t&&le.forEach(function(Ws){return i(k,Ws)}),Le&&Ji(k,Ie),ce}function de(k,x,U,G){if(U==null)throw Error(r(151));for(var ce=null,Be=null,le=x,Ie=x=0,De=null,qe=U.next();le!==null&&!qe.done;Ie++,qe=U.next()){le.index>Ie?(De=le,le=null):De=le.sibling;var Ws=j(k,le,qe.value,G);if(Ws===null){le===null&&(le=De);break}t&&le&&Ws.alternate===null&&i(k,le),x=f(Ws,x,Ie),Be===null?ce=Ws:Be.sibling=Ws,Be=Ws,le=De}if(qe.done)return a(k,le),Le&&Ji(k,Ie),ce;if(le===null){for(;!qe.done;Ie++,qe=U.next())qe=Y(k,qe.value,G),qe!==null&&(x=f(qe,x,Ie),Be===null?ce=qe:Be.sibling=qe,Be=qe);return Le&&Ji(k,Ie),ce}for(le=o(le);!qe.done;Ie++,qe=U.next())qe=q(le,k,Ie,qe.value,G),qe!==null&&(t&&qe.alternate!==null&&le.delete(qe.key===null?Ie:qe.key),x=f(qe,x,Ie),Be===null?ce=qe:Be.sibling=qe,Be=qe);return t&&le.forEach(function(XA){return i(k,XA)}),Le&&Ji(k,Ie),ce}function nt(k,x,U,G){if(typeof U=="object"&&U!==null&&U.type===te&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case K:e:{for(var ce=U.key;x!==null;){if(x.key===ce){if(ce=U.type,ce===te){if(x.tag===7){a(k,x.sibling),G=h(x,U.props.children),G.return=k,k=G;break e}}else if(x.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&jr(ce)===x.type){a(k,x.sibling),G=h(x,U.props),sl(G,U),G.return=k,k=G;break e}a(k,x);break}else i(k,x);x=x.sibling}U.type===te?(G=kr(U.props.children,k.mode,G,U.key),G.return=k,k=G):(G=Fu(U.type,U.key,U.props,null,k.mode,G),sl(G,U),G.return=k,k=G)}return y(k);case J:e:{for(ce=U.key;x!==null;){if(x.key===ce)if(x.tag===4&&x.stateNode.containerInfo===U.containerInfo&&x.stateNode.implementation===U.implementation){a(k,x.sibling),G=h(x,U.children||[]),G.return=k,k=G;break e}else{a(k,x);break}else i(k,x);x=x.sibling}G=cf(U,k.mode,G),G.return=k,k=G}return y(k);case w:return U=jr(U),nt(k,x,U,G)}if(yt(U))return oe(k,x,U,G);if(P(U)){if(ce=P(U),typeof ce!="function")throw Error(r(150));return U=ce.call(U),de(k,x,U,G)}if(typeof U.then=="function")return nt(k,x,Ju(U),G);if(U.$$typeof===ye)return nt(k,x,Qu(k,U),G);Zu(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,x!==null&&x.tag===6?(a(k,x.sibling),G=h(x,U),G.return=k,k=G):(a(k,x),G=uf(U,k.mode,G),G.return=k,k=G),y(k)):a(k,x)}return function(k,x,U,G){try{il=0;var ce=nt(k,x,U,G);return ja=null,ce}catch(le){if(le===za||le===Xu)throw le;var Be=Tn(29,le,null,k.mode);return Be.lanes=G,Be.return=k,Be}}}var qr=Sg(!0),wg=Sg(!1),Ps=!1;function bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Af(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ls(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Us(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Fe&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Hu(t),lg(t,null,a),i}return qu(t,o,i,a),Hu(t)}function rl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Oo(t,a)}}function Sf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var wf=!1;function al(){if(wf){var t=Ua;if(t!==null)throw t}}function ol(t,i,a,o){wf=!1;var h=t.updateQueue;Ps=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,y===null?f=z:y.next=z,y=R;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==y&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;y=0,F=z=R=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(xe&j)===j:(o&j)===j){j!==0&&j===La&&(wf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=t,de=E;j=i;var nt=a;switch(de.tag){case 1:if(oe=de.payload,typeof oe=="function"){Y=oe.call(nt,Y,j);break e}Y=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=de.payload,j=typeof oe=="function"?oe.call(nt,Y,j):oe,j==null)break e;Y=A({},Y,j);break e;case 2:Ps=!0}}j=E.callback,j!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=q,R=Y):F=F.next=q,y|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Hs|=y,t.lanes=y,t.memoizedState=Y}}function Ig(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Rg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ig(a[t],i)}var Ba=M(null),Wu=M(0);function Cg(t,i){t=ls,W(Wu,t),W(Ba,i),ls=t|i.baseLanes}function If(){W(Wu,ls),W(Ba,Ba.current)}function Rf(){ls=Wu.current,Q(Ba),Q(Wu)}var bn=M(null),zn=null;function zs(t){var i=t.alternate;W(Tt,Tt.current&1),W(bn,t),zn===null&&(i===null||Ba.current!==null||i.memoizedState!==null)&&(zn=t)}function Cf(t){W(Tt,Tt.current),W(bn,t),zn===null&&(zn=t)}function Ng(t){t.tag===22?(W(Tt,Tt.current),W(bn,t),zn===null&&(zn=t)):js()}function js(){W(Tt,Tt.current),W(bn,bn.current)}function An(t){Q(bn),zn===t&&(zn=null),Q(Tt)}var Tt=M(0);function ec(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Vd(a)||kd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var es=0,Se=null,et=null,Nt=null,tc=!1,qa=!1,Hr=!1,nc=0,ll=0,Ha=null,zb=0;function mt(){throw Error(r(321))}function Nf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!En(t[a],i[a]))return!1;return!0}function xf(t,i,a,o,h,f){return es=f,Se=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=t===null||t.memoizedState===null?fy:Gf,Hr=!1,f=a(o,h),Hr=!1,qa&&(f=Dg(i,a,o,h)),xg(t),f}function xg(t){H.H=hl;var i=et!==null&&et.next!==null;if(es=0,Nt=et=Se=null,tc=!1,ll=0,Ha=null,i)throw Error(r(300));t===null||xt||(t=t.dependencies,t!==null&&Ku(t)&&(xt=!0))}function Dg(t,i,a,o){Se=t;var h=0;do{if(qa&&(Ha=null),ll=0,qa=!1,25<=h)throw Error(r(301));if(h+=1,Nt=et=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=dy,f=i(a,o)}while(qa);return f}function jb(){var t=H.H,i=t.useState()[0];return i=typeof i.then=="function"?ul(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Se.flags|=1024),i}function Df(){var t=nc!==0;return nc=0,t}function Of(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Mf(t){if(tc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}tc=!1}es=0,Nt=et=Se=null,qa=!1,ll=nc=0,Ha=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Se.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function bt(){if(et===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=Nt===null?Se.memoizedState:Nt.next;if(i!==null)Nt=i,et=t;else{if(t===null)throw Se.alternate===null?Error(r(467)):Error(r(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Nt===null?Se.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var i=ll;return ll+=1,Ha===null&&(Ha=[]),t=Tg(Ha,t,i),i=Se,(Nt===null?i.memoizedState:Nt.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?fy:Gf),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===ye)return Kt(t)}throw Error(r(438,String(t)))}function Vf(t){var i=null,a=Se.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Se.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ic(),Se.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=V;return i.index++,a}function ts(t,i){return typeof i=="function"?i(t):i}function rc(t){var i=bt();return kf(i,et,t)}function kf(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}i.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var E=y=null,R=null,z=i,F=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(xe&Y)===Y:(es&Y)===Y){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===La&&(F=!0);else if((es&j)===j){z=z.next,j===La&&(F=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Y,y=f):R=R.next=Y,Se.lanes|=j,Hs|=j;Y=z.action,Hr&&a(f,Y),f=z.hasEagerState?z.eagerState:a(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,y=f):R=R.next=j,Se.lanes|=Y,Hs|=Y;z=z.next}while(z!==null&&z!==i);if(R===null?y=f:R.next=E,!En(f,t.memoizedState)&&(xt=!0,F&&(a=Ua,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Pf(t){var i=bt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);En(f,i.memoizedState)||(xt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Og(t,i,a){var o=Se,h=bt(),f=Le;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var y=!En((et||h).memoizedState,a);if(y&&(h.memoizedState=a,xt=!0),h=h.queue,zf(kg.bind(null,o,h,t),[t]),h.getSnapshot!==i||y||Nt!==null&&Nt.memoizedState.tag&1){if(o.flags|=2048,Fa(9,{destroy:void 0},Vg.bind(null,o,h,a,i),null),it===null)throw Error(r(349));f||(es&127)!==0||Mg(o,i,a)}return a}function Mg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Se.updateQueue,i===null?(i=ic(),Se.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Vg(t,i,a,o){i.value=a,i.getSnapshot=o,Pg(i)&&Lg(t)}function kg(t,i,a){return a(function(){Pg(i)&&Lg(t)})}function Pg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!En(t,a)}catch{return!0}}function Lg(t){var i=Vr(t,2);i!==null&&mn(i,t,2)}function Lf(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Hr){Nn(!0);try{a()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:t},i}function Ug(t,i,a,o){return t.baseState=a,kf(t,et,typeof o=="function"?o:ts)}function Bb(t,i,a,o,h){if(lc(t))throw Error(r(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,zg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function zg(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var f=H.T,y={};H.T=y;try{var E=a(h,o),R=H.S;R!==null&&R(y,E),jg(t,i,E)}catch(z){Uf(t,i,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),H.T=f}}else try{f=a(h,o),jg(t,i,f)}catch(z){Uf(t,i,z)}}function jg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Bg(t,i,o)},function(o){return Uf(t,i,o)}):Bg(t,i,a)}function Bg(t,i,a){i.status="fulfilled",i.value=a,qg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,zg(t,a)))}function Uf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,qg(i),i=i.next;while(i!==o)}t.action=null}function qg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Hg(t,i){return i}function Fg(t,i){if(Le){var a=it.formState;if(a!==null){e:{var o=Se;if(Le){if(ot){t:{for(var h=ot,f=Un;h.nodeType!==8;){if(!f){h=null;break t}if(h=jn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ot=jn(h.nextSibling),o=h.data==="F!";break e}}Vs(o)}o=!1}o&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hg,lastRenderedState:i},a.queue=o,a=uy.bind(null,Se,o),o.dispatch=a,o=Lf(!1),f=Ff.bind(null,Se,!1,o.queue),o=rn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=Bb.bind(null,Se,h,f,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function Gg(t){var i=bt();return Kg(i,et,t)}function Kg(t,i,a){if(i=kf(t,i,Hg)[0],t=rc(ts)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=ul(i)}catch(y){throw y===za?Xu:y}else o=i;i=bt();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Se.flags|=2048,Fa(9,{destroy:void 0},qb.bind(null,h,a),null)),[o,f,t]}function qb(t,i){t.action=i}function Qg(t){var i=bt(),a=et;if(a!==null)return Kg(i,a,t);bt(),i=i.memoizedState,a=bt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Fa(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=Se.updateQueue,i===null&&(i=ic(),Se.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Yg(){return bt().memoizedState}function ac(t,i,a,o){var h=rn();Se.flags|=t,h.memoizedState=Fa(1|i,{destroy:void 0},a,o===void 0?null:o)}function oc(t,i,a,o){var h=bt();o=o===void 0?null:o;var f=h.memoizedState.inst;et!==null&&o!==null&&Nf(o,et.memoizedState.deps)?h.memoizedState=Fa(i,f,a,o):(Se.flags|=t,h.memoizedState=Fa(1|i,f,a,o))}function Xg(t,i){ac(8390656,8,t,i)}function zf(t,i){oc(2048,8,t,i)}function Hb(t){Se.flags|=4;var i=Se.updateQueue;if(i===null)i=ic(),Se.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function $g(t){var i=bt().memoizedState;return Hb({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Jg(t,i){return oc(4,2,t,i)}function Zg(t,i){return oc(4,4,t,i)}function Wg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ey(t,i,a){a=a!=null?a.concat([t]):null,oc(4,4,Wg.bind(null,i,t),a)}function jf(){}function ty(t,i){var a=bt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Nf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function ny(t,i){var a=bt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Nf(i,o[1]))return o[0];if(o=t(),Hr){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[o,i],o}function Bf(t,i,a){return a===void 0||(es&1073741824)!==0&&(xe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=i_(),Se.lanes|=t,Hs|=t,a)}function iy(t,i,a,o){return En(a,i)?a:Ba.current!==null?(t=Bf(t,a,o),En(t,i)||(xt=!0),t):(es&42)===0||(es&1073741824)!==0&&(xe&261930)===0?(xt=!0,t.memoizedState=a):(t=i_(),Se.lanes|=t,Hs|=t,i)}function sy(t,i,a,o,h){var f=ee.p;ee.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,Ff(t,!1,i,a);try{var R=h(),z=H.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=Ub(R,o);cl(t,i,F,In(t))}else cl(t,i,o,In(t))}catch(Y){cl(t,i,{then:function(){},status:"rejected",reason:Y},In())}finally{ee.p=f,y!==null&&E.types!==null&&(y.types=E.types),H.T=y}}function Fb(){}function qf(t,i,a,o){if(t.tag!==5)throw Error(r(476));var h=ry(t).queue;sy(t,h,i,ue,a===null?Fb:function(){return ay(t),a(o)})}function ry(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:ue},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ay(t){var i=ry(t);i.next===null&&(i=t.alternate.memoizedState),cl(t,i.next.queue,{},In())}function Hf(){return Kt(Rl)}function oy(){return bt().memoizedState}function ly(){return bt().memoizedState}function Gb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=In();t=Ls(a);var o=Us(i,t,a);o!==null&&(mn(o,i,a),rl(o,i,a)),i={cache:_f()},t.payload=i;return}i=i.return}}function Kb(t,i,a){var o=In();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},lc(t)?cy(i,a):(a=of(t,i,a,o),a!==null&&(mn(a,t,o),hy(a,i,o)))}function uy(t,i,a){var o=In();cl(t,i,a,o)}function cl(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(lc(t))cy(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var y=i.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,En(E,y))return qu(t,i,h,0),it===null&&Bu(),!1}catch{}if(a=of(t,i,h,o),a!==null)return mn(a,t,o),hy(a,i,o),!0}return!1}function Ff(t,i,a,o){if(o={lane:2,revertLane:bd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},lc(t)){if(i)throw Error(r(479))}else i=of(t,a,o,2),i!==null&&mn(i,t,2)}function lc(t){var i=t.alternate;return t===Se||i!==null&&i===Se}function cy(t,i){qa=tc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function hy(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Oo(t,a)}}var hl={readContext:Kt,use:sc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};hl.useEffectEvent=mt;var fy={readContext:Kt,use:sc,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:Xg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ac(4194308,4,Wg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ac(4194308,4,t,i)},useInsertionEffect:function(t,i){ac(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var o=t();if(Hr){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=rn();if(a!==void 0){var h=a(i);if(Hr){Nn(!0);try{a(i)}finally{Nn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Kb.bind(null,Se,t),[o.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=Lf(t);var i=t.queue,a=uy.bind(null,Se,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:jf,useDeferredValue:function(t,i){var a=rn();return Bf(a,t,i)},useTransition:function(){var t=Lf(!1);return t=sy.bind(null,Se,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Se,h=rn();if(Le){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),it===null)throw Error(r(349));(xe&127)!==0||Mg(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Xg(kg.bind(null,o,f,t),[t]),o.flags|=2048,Fa(9,{destroy:void 0},Vg.bind(null,o,f,a,i),null),a},useId:function(){var t=rn(),i=it.identifierPrefix;if(Le){var a=Di,o=xi;a=(o&~(1<<32-vt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=nc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=zb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Hf,useFormState:Fg,useActionState:Fg,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Ff.bind(null,Se,!0,a),a.dispatch=i,[t,i]},useMemoCache:Vf,useCacheRefresh:function(){return rn().memoizedState=Gb.bind(null,Se)},useEffectEvent:function(t){var i=rn(),a={impl:t};return i.memoizedState=a,function(){if((Fe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Gf={readContext:Kt,use:sc,useCallback:ty,useContext:Kt,useEffect:zf,useImperativeHandle:ey,useInsertionEffect:Jg,useLayoutEffect:Zg,useMemo:ny,useReducer:rc,useRef:Yg,useState:function(){return rc(ts)},useDebugValue:jf,useDeferredValue:function(t,i){var a=bt();return iy(a,et.memoizedState,t,i)},useTransition:function(){var t=rc(ts)[0],i=bt().memoizedState;return[typeof t=="boolean"?t:ul(t),i]},useSyncExternalStore:Og,useId:oy,useHostTransitionStatus:Hf,useFormState:Gg,useActionState:Gg,useOptimistic:function(t,i){var a=bt();return Ug(a,et,t,i)},useMemoCache:Vf,useCacheRefresh:ly};Gf.useEffectEvent=$g;var dy={readContext:Kt,use:sc,useCallback:ty,useContext:Kt,useEffect:zf,useImperativeHandle:ey,useInsertionEffect:Jg,useLayoutEffect:Zg,useMemo:ny,useReducer:Pf,useRef:Yg,useState:function(){return Pf(ts)},useDebugValue:jf,useDeferredValue:function(t,i){var a=bt();return et===null?Bf(a,t,i):iy(a,et.memoizedState,t,i)},useTransition:function(){var t=Pf(ts)[0],i=bt().memoizedState;return[typeof t=="boolean"?t:ul(t),i]},useSyncExternalStore:Og,useId:oy,useHostTransitionStatus:Hf,useFormState:Qg,useActionState:Qg,useOptimistic:function(t,i){var a=bt();return et!==null?Ug(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Vf,useCacheRefresh:ly};dy.useEffectEvent=$g;function Kf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:A({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Qf={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=In(),h=Ls(o);h.payload=i,a!=null&&(h.callback=a),i=Us(t,h,o),i!==null&&(mn(i,t,o),rl(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=In(),h=Ls(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Us(t,h,o),i!==null&&(mn(i,t,o),rl(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=In(),o=Ls(a);o.tag=2,i!=null&&(o.callback=i),i=Us(t,o,a),i!==null&&(mn(i,t,a),rl(i,t,a))}};function my(t,i,a,o,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,y):i.prototype&&i.prototype.isPureReactComponent?!Jo(a,o)||!Jo(h,f):!0}function py(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&Qf.enqueueReplaceState(i,i.state,null)}function Fr(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function gy(t){ju(t)}function yy(t){console.error(t)}function _y(t){ju(t)}function uc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function vy(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Yf(t,i,a){return a=Ls(a),a.tag=3,a.payload={element:null},a.callback=function(){uc(t,i)},a}function Ey(t){return t=Ls(t),t.tag=3,t}function Ty(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){vy(i,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){vy(i,a,o),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function Qb(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Pa(i,a,h,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return zn===null?Tc():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===$u?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),vd(t,o,h)),!1;case 22:return a.flags|=65536,o===$u?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),vd(t,o,h)),!1}throw Error(r(435,a.tag))}return vd(t,o,h),Tc(),!1}if(Le)return i=bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==df&&(t=Error(r(422),{cause:o}),el(kn(t,a)))):(o!==df&&(i=Error(r(423),{cause:o}),el(kn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=kn(o,a),h=Yf(t.stateNode,o,h),Sf(t,h),pt!==4&&(pt=2)),!1;var f=Error(r(520),{cause:o});if(f=kn(f,a),vl===null?vl=[f]:vl.push(f),pt!==4&&(pt=2),i===null)return!0;o=kn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Yf(a.stateNode,o,t),Sf(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Fs===null||!Fs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ey(h),Ty(h,t,a,o),Sf(a,h),!1}a=a.return}while(a!==null);return!1}var Xf=Error(r(461)),xt=!1;function Qt(t,i,a,o){i.child=t===null?wg(i,null,a,o):qr(i,t.child,a,o)}function by(t,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Ur(i),o=xf(t,i,a,y,f,h),E=Df(),t!==null&&!xt?(Of(t,i,h),ns(t,i,h)):(Le&&E&&hf(i),i.flags|=1,Qt(t,i,o,h),i.child)}function Ay(t,i,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!lf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Sy(t,i,f,o,h)):(t=Fu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!id(t,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Jo,a(y,o)&&t.ref===i.ref)return ns(t,i,h)}return i.flags|=1,t=$i(f,o),t.ref=i.ref,t.return=i,i.child=t}function Sy(t,i,a,o,h){if(t!==null){var f=t.memoizedProps;if(Jo(f,o)&&t.ref===i.ref)if(xt=!1,i.pendingProps=o=f,id(t,h))(t.flags&131072)!==0&&(xt=!0);else return i.lanes=t.lanes,ns(t,i,h)}return $f(t,i,a,o,h)}function wy(t,i,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return Iy(t,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(i,f!==null?f.cachePool:null),f!==null?Cg(i,f):If(),Ng(i);else return o=i.lanes=536870912,Iy(t,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Yu(i,f.cachePool),Cg(i,f),js(),i.memoizedState=null):(t!==null&&Yu(i,null),If(),js());return Qt(t,i,h,a),i.child}function fl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Iy(t,i,a,o,h){var f=Ef();return f=f===null?null:{parent:Ct._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Yu(i,null),If(),Ng(i),t!==null&&Pa(t,i,o,!0),i.childLanes=h,null}function cc(t,i){return i=fc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Ry(t,i,a){return qr(i,t.child,null,a),t=cc(i,i.pendingProps),t.flags|=2,An(i),i.memoizedState=null,t}function Yb(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(o.mode==="hidden")return t=cc(i,o),i.lanes=536870912,fl(null,t);if(Cf(i),(t=ot)?(t=z_(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Os!==null?{id:xi,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=cg(t),a.return=i,i.child=a,Gt=i,ot=null)):t=null,t===null)throw Vs(i);return i.lanes=536870912,null}return cc(i,o)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(Cf(i),h)if(i.flags&256)i.flags&=-257,i=Ry(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(xt||Pa(t,i,a,!1),h=(a&t.childLanes)!==0,xt||h){if(o=it,o!==null&&(y=Mo(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Vr(t,y),mn(o,t,y),Xf;Tc(),i=Ry(t,i,a)}else t=f.treeContext,ot=jn(y.nextSibling),Gt=i,Le=!0,Ms=null,Un=!1,t!==null&&dg(i,t),i=cc(i,o),i.flags|=4096;return i}return t=$i(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function hc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function $f(t,i,a,o,h){return Ur(i),a=xf(t,i,a,o,void 0,h),o=Df(),t!==null&&!xt?(Of(t,i,h),ns(t,i,h)):(Le&&o&&hf(i),i.flags|=1,Qt(t,i,a,h),i.child)}function Cy(t,i,a,o,h,f){return Ur(i),i.updateQueue=null,a=Dg(i,o,a,h),xg(t),o=Df(),t!==null&&!xt?(Of(t,i,f),ns(t,i,f)):(Le&&o&&hf(i),i.flags|=1,Qt(t,i,a,f),i.child)}function Ny(t,i,a,o,h){if(Ur(i),i.stateNode===null){var f=Oa,y=a.contextType;typeof y=="object"&&y!==null&&(f=Kt(y)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Qf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},bf(i),y=a.contextType,f.context=typeof y=="object"&&y!==null?Kt(y):Oa,f.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Kf(i,a,y,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Qf.enqueueReplaceState(f,f.state,null),ol(i,o,f,h),al(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var E=i.memoizedProps,R=Fr(a,E);f.props=R;var z=f.context,F=a.contextType;y=Oa,typeof F=="object"&&F!==null&&(y=Kt(F));var Y=a.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&py(i,f,o,y),Ps=!1;var j=i.memoizedState;f.state=j,ol(i,o,f,h),al(),z=i.memoizedState,E||j!==z||Ps?(typeof Y=="function"&&(Kf(i,a,Y,o),z=i.memoizedState),(R=Ps||my(i,a,R,o,j,z,y))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),f.props=o,f.state=z,f.context=y,o=R):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,Af(t,i),y=i.memoizedProps,F=Fr(a,y),f.props=F,Y=i.pendingProps,j=f.context,z=a.contextType,R=Oa,typeof z=="object"&&z!==null&&(R=Kt(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||j!==R)&&py(i,f,o,R),Ps=!1,j=i.memoizedState,f.state=j,ol(i,o,f,h),al();var q=i.memoizedState;y!==Y||j!==q||Ps||t!==null&&t.dependencies!==null&&Ku(t.dependencies)?(typeof E=="function"&&(Kf(i,a,E,o),q=i.memoizedState),(F=Ps||my(i,a,F,o,j,q,R)||t!==null&&t.dependencies!==null&&Ku(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=q),f.props=o,f.state=q,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,hc(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=qr(i,t.child,null,h),i.child=qr(i,null,a,h)):Qt(t,i,a,h),i.memoizedState=f.state,t=i.child):t=ns(t,i,h),t}function xy(t,i,a,o){return Pr(),i.flags|=256,Qt(t,i,a,o),i.child}var Jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zf(t){return{baseLanes:t,cachePool:vg()}}function Wf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=wn),t}function Dy(t,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Tt.current&2)!==0),y&&(h=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(h?zs(i):js(),(t=ot)?(t=z_(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Os!==null?{id:xi,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=cg(t),a.return=i,i.child=a,Gt=i,ot=null)):t=null,t===null)throw Vs(i);return kd(t)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(js(),h=i.mode,E=fc({mode:"hidden",children:E},h),o=kr(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=Zf(a),o.childLanes=Wf(t,y,a),i.memoizedState=Jf,fl(null,o)):(zs(i),ed(i,E))}var R=t.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)i.flags&256?(zs(i),i.flags&=-257,i=td(t,i,a)):i.memoizedState!==null?(js(),i.child=t.child,i.flags|=128,i=null):(js(),E=o.fallback,h=i.mode,o=fc({mode:"visible",children:o.children},h),E=kr(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,qr(i,t.child,null,a),o=i.child,o.memoizedState=Zf(a),o.childLanes=Wf(t,y,a),i.memoizedState=Jf,i=fl(null,o));else if(zs(i),kd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,o=Error(r(419)),o.stack="",o.digest=y,el({value:o,source:null,stack:null}),i=td(t,i,a)}else if(xt||Pa(t,i,a,!1),y=(a&t.childLanes)!==0,xt||y){if(y=it,y!==null&&(o=Mo(y,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Vr(t,o),mn(y,t,o),Xf;Vd(E)||Tc(),i=td(t,i,a)}else Vd(E)?(i.flags|=192,i.child=t.child,i=null):(t=R.treeContext,ot=jn(E.nextSibling),Gt=i,Le=!0,Ms=null,Un=!1,t!==null&&dg(i,t),i=ed(i,o.children),i.flags|=4096);return i}return h?(js(),E=o.fallback,h=i.mode,R=t.child,z=R.sibling,o=$i(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=$i(z,E):(E=kr(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,fl(null,o),o=i.child,E=t.child.memoizedState,E===null?E=Zf(a):(h=E.cachePool,h!==null?(R=Ct._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=vg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Wf(t,y,a),i.memoizedState=Jf,fl(t.child,o)):(zs(i),a=t.child,t=a.sibling,a=$i(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(y=i.deletions,y===null?(i.deletions=[t],i.flags|=16):y.push(t)),i.child=a,i.memoizedState=null,a)}function ed(t,i){return i=fc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function fc(t,i){return t=Tn(22,t,null,i),t.lanes=0,t}function td(t,i,a){return qr(i,t.child,null,a),t=ed(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Oy(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),gf(t.return,i,a)}function nd(t,i,a,o,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function My(t,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=Tt.current,E=(y&2)!==0;if(E?(y=y&1|2,i.flags|=128):y&=1,W(Tt,y),Qt(t,i,o,a),o=Le?Wo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Oy(t,a,i);else if(t.tag===19)Oy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&ec(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),nd(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&ec(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}nd(i,!0,a,null,f,o);break;case"together":nd(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function ns(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Hs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Pa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=$i(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=$i(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function id(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ku(t)))}function Xb(t,i,a){switch(i.tag){case 3:_t(i,i.stateNode.containerInfo),ks(i,Ct,t.memoizedState.cache),Pr();break;case 27:case 5:Fi(i);break;case 4:_t(i,i.stateNode.containerInfo);break;case 10:ks(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Cf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(zs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Dy(t,i,a):(zs(i),t=ns(t,i,a),t!==null?t.sibling:null);zs(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Pa(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return My(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(Tt,Tt.current),o)break;return null;case 22:return i.lanes=0,wy(t,i,a,i.pendingProps);case 24:ks(i,Ct,t.memoizedState.cache)}return ns(t,i,a)}function Vy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)xt=!0;else{if(!id(t,a)&&(i.flags&128)===0)return xt=!1,Xb(t,i,a);xt=(t.flags&131072)!==0}else xt=!1,Le&&(i.flags&1048576)!==0&&fg(i,Wo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=jr(i.elementType),i.type=t,typeof t=="function")lf(t)?(o=Fr(t,o),i.tag=1,i=Ny(null,i,t,o,a)):(i.tag=0,i=$f(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Qe){i.tag=11,i=by(null,i,t,o,a);break e}else if(h===N){i.tag=14,i=Ay(null,i,t,o,a);break e}}throw i=Ye(t)||t,Error(r(306,i,""))}}return i;case 0:return $f(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Fr(o,i.pendingProps),Ny(t,i,o,h,a);case 3:e:{if(_t(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,Af(t,i),ol(i,o,null,a);var y=i.memoizedState;if(o=y.cache,ks(i,Ct,o),o!==f.cache&&yf(i,[Ct],a,!0),al(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=xy(t,i,o,a);break e}else if(o!==h){h=kn(Error(r(424)),i),el(h),i=xy(t,i,o,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ot=jn(t.firstChild),Gt=i,Le=!0,Ms=null,Un=!0,a=wg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Pr(),o===h){i=ns(t,i,a);break e}Qt(t,i,o,a)}i=i.child}return i;case 26:return hc(t,i),t===null?(a=G_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,o=Cc(be.current).createElement(a),o[wt]=i,o[Ut]=t,Yt(o,a,t),It(o),i.stateNode=o):i.memoizedState=G_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Fi(i),t===null&&Le&&(o=i.stateNode=q_(i.type,i.pendingProps,be.current),Gt=i,Un=!0,h=ot,Ys(i.type)?(Pd=h,ot=jn(o.firstChild)):ot=h),Qt(t,i,i.pendingProps.children,a),hc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((h=o=ot)&&(o=wA(o,i.type,i.pendingProps,Un),o!==null?(i.stateNode=o,Gt=i,ot=jn(o.firstChild),Un=!1,h=!0):h=!1),h||Vs(i)),Fi(i),h=i.type,f=i.pendingProps,y=t!==null?t.memoizedProps:null,o=f.children,Dd(h,f)?o=null:y!==null&&Dd(h,y)&&(i.flags|=32),i.memoizedState!==null&&(h=xf(t,i,jb,null,null,a),Rl._currentValue=h),hc(t,i),Qt(t,i,o,a),i.child;case 6:return t===null&&Le&&((t=a=ot)&&(a=IA(a,i.pendingProps,Un),a!==null?(i.stateNode=a,Gt=i,ot=null,t=!0):t=!1),t||Vs(i)),null;case 13:return Dy(t,i,a);case 4:return _t(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=qr(i,null,o,a):Qt(t,i,o,a),i.child;case 11:return by(t,i,i.type,i.pendingProps,a);case 7:return Qt(t,i,i.pendingProps,a),i.child;case 8:return Qt(t,i,i.pendingProps.children,a),i.child;case 12:return Qt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,ks(i,i.type,o.value),Qt(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Ur(i),h=Kt(h),o=o(h),i.flags|=1,Qt(t,i,o,a),i.child;case 14:return Ay(t,i,i.type,i.pendingProps,a);case 15:return Sy(t,i,i.type,i.pendingProps,a);case 19:return My(t,i,a);case 31:return Yb(t,i,a);case 22:return wy(t,i,a,i.pendingProps);case 24:return Ur(i),o=Kt(Ct),t===null?(h=Ef(),h===null&&(h=it,f=_f(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},bf(i),ks(i,Ct,h)):((t.lanes&a)!==0&&(Af(t,i),ol(i,null,null,a),al()),h=t.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ks(i,Ct,o)):(o=f.cache,ks(i,Ct,o),o!==h.cache&&yf(i,[Ct],a,!0))),Qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function is(t){t.flags|=4}function sd(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(o_())t.flags|=8192;else throw Br=$u,Tf}else t.flags&=-16777217}function ky(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!$_(i))if(o_())t.flags|=8192;else throw Br=$u,Tf}function dc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?vu():536870912,t.lanes|=i,Ya|=i)}function dl(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function $b(t,i,a){var o=i.pendingProps;switch(ff(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Wi(Ct),Ze(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ka(i)?is(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,mf())),lt(i),null;case 26:var h=i.type,f=i.memoizedState;return t===null?(is(i),f!==null?(lt(i),ky(i,f)):(lt(i),sd(i,h,null,o,a))):f?f!==t.memoizedState?(is(i),lt(i),ky(i,f)):(lt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&is(i),lt(i),sd(i,h,t,o,a)),null;case 27:if(Ts(i),a=be.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&is(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return lt(i),null}t=ie.current,ka(i)?mg(i):(t=q_(h,o,a),i.stateNode=t,is(i))}return lt(i),null;case 5:if(Ts(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&is(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return lt(i),null}if(f=ie.current,ka(i))mg(i);else{var y=Cc(be.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[wt]=i,f[Ut]=o;e:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break e;for(;y.sibling===null;){if(y.return===null||y.return===i)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=f;e:switch(Yt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&is(i)}}return lt(i),sd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&is(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=be.current,ka(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=Gt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[wt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||D_(t.nodeValue,a)),t||Vs(i,!0)}else t=Cc(t).createTextNode(o),t[wt]=i,i.stateNode=t}return lt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=ka(i),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[wt]=i}else Pr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),t=!1}else a=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(An(i),i):(An(i),null);if((i.flags&128)!==0)throw Error(r(558))}return lt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ka(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[wt]=i}else Pr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),h=!1}else h=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(An(i),i):(An(i),null)}return An(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),dc(i,i.updateQueue),lt(i),null);case 4:return Ze(),t===null&&Id(i.stateNode.containerInfo),lt(i),null;case 10:return Wi(i.type),lt(i),null;case 19:if(Q(Tt),o=i.memoizedState,o===null)return lt(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)dl(o,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=ec(t),f!==null){for(i.flags|=128,dl(o,!1),t=f.updateQueue,i.updateQueue=t,dc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)ug(a,t),a=a.sibling;return W(Tt,Tt.current&1|2),Le&&Ji(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&qt()>_c&&(i.flags|=128,h=!0,dl(o,!1),i.lanes=4194304)}else{if(!h)if(t=ec(f),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,dc(i,t),dl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Le)return lt(i),null}else 2*qt()-o.renderingStartTime>_c&&a!==536870912&&(i.flags|=128,h=!0,dl(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(t=o.last,t!==null?t.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=qt(),t.sibling=null,a=Tt.current,W(Tt,h?a&1|2:a&1),Le&&Ji(i,o.treeForkCount),t):(lt(i),null);case 22:case 23:return An(i),Rf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),a=i.updateQueue,a!==null&&dc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&Q(zr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Wi(Ct),lt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function Jb(t,i){switch(ff(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Wi(Ct),Ze(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ts(i),null;case 31:if(i.memoizedState!==null){if(An(i),i.alternate===null)throw Error(r(340));Pr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(An(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Pr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Q(Tt),null;case 4:return Ze(),null;case 10:return Wi(i.type),null;case 22:case 23:return An(i),Rf(),t!==null&&Q(zr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Wi(Ct),null;case 25:return null;default:return null}}function Py(t,i){switch(ff(i),i.tag){case 3:Wi(Ct),Ze();break;case 26:case 27:case 5:Ts(i);break;case 4:Ze();break;case 31:i.memoizedState!==null&&An(i);break;case 13:An(i);break;case 19:Q(Tt);break;case 10:Wi(i.type);break;case 22:case 23:An(i),Rf(),t!==null&&Q(zr);break;case 24:Wi(Ct)}}function ml(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){Je(i,i.return,E)}}function Bs(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=i;var R=a,z=E;try{z()}catch(F){Je(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){Je(i,i.return,F)}}function Ly(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Rg(i,a)}catch(o){Je(t,t.return,o)}}}function Uy(t,i,a){a.props=Fr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Je(t,i,o)}}function pl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Je(t,i,h)}}function Oi(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Je(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,i,h)}else a.current=null}function zy(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function rd(t,i,a){try{var o=t.stateNode;vA(o,t.type,a,i),o[Ut]=i}catch(h){Je(t,t.return,h)}}function jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ys(t.type)||t.tag===4}function ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ys(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function od(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Jn));else if(o!==4&&(o===27&&Ys(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(od(t,i,a),t=t.sibling;t!==null;)od(t,i,a),t=t.sibling}function mc(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&Ys(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(mc(t,i,a),t=t.sibling;t!==null;)mc(t,i,a),t=t.sibling}function By(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Yt(i,o,a),i[wt]=t,i[Ut]=a}catch(f){Je(t,t.return,f)}}var ss=!1,Dt=!1,ld=!1,qy=typeof WeakSet=="function"?WeakSet:Set,jt=null;function Zb(t,i){if(t=t.containerInfo,Nd=kc,t=eg(t),ef(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,E=-1,R=-1,z=0,F=0,Y=t,j=null;t:for(;;){for(var q;Y!==a||h!==0&&Y.nodeType!==3||(E=y+h),Y!==f||o!==0&&Y.nodeType!==3||(R=y+o),Y.nodeType===3&&(y+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===t)break t;if(j===a&&++z===h&&(E=y),j===f&&++F===o&&(R=y),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(xd={focusedElem:t,selectionRange:a},kc=!1,jt=i;jt!==null;)if(i=jt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,jt=t;else for(;jt!==null;){switch(i=jt,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var oe=Fr(a.type,h);t=o.getSnapshotBeforeUpdate(oe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(de){Je(a,a.return,de)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Md(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,jt=t;break}jt=i.return}}function Hy(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:as(t,a),o&4&&ml(5,a);break;case 1:if(as(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(y){Je(a,a.return,y)}else{var h=Fr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Je(a,a.return,y)}}o&64&&Ly(a),o&512&&pl(a,a.return);break;case 3:if(as(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Rg(t,i)}catch(y){Je(a,a.return,y)}}break;case 27:i===null&&o&4&&By(a);case 26:case 5:as(t,a),i===null&&o&4&&zy(a),o&512&&pl(a,a.return);break;case 12:as(t,a);break;case 31:as(t,a),o&4&&Ky(t,a);break;case 13:as(t,a),o&4&&Qy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=oA.bind(null,a),RA(t,a))));break;case 22:if(o=a.memoizedState!==null||ss,!o){i=i!==null&&i.memoizedState!==null||Dt,h=ss;var f=Dt;ss=o,(Dt=i)&&!f?os(t,a,(a.subtreeFlags&8772)!==0):as(t,a),ss=h,Dt=f}break;case 30:break;default:as(t,a)}}function Fy(t){var i=t.alternate;i!==null&&(t.alternate=null,Fy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&_a(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,cn=!1;function rs(t,i,a){for(a=a.child;a!==null;)Gy(t,i,a),a=a.sibling}function Gy(t,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Qn,a)}catch{}switch(a.tag){case 26:Dt||Oi(a,i),rs(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Dt||Oi(a,i);var o=ht,h=cn;Ys(a.type)&&(ht=a.stateNode,cn=!1),rs(t,i,a),Sl(a.stateNode),ht=o,cn=h;break;case 5:Dt||Oi(a,i);case 6:if(o=ht,h=cn,ht=null,rs(t,i,a),ht=o,cn=h,ht!==null)if(cn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(f){Je(a,i,f)}else try{ht.removeChild(a.stateNode)}catch(f){Je(a,i,f)}break;case 18:ht!==null&&(cn?(t=ht,L_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),no(t)):L_(ht,a.stateNode));break;case 4:o=ht,h=cn,ht=a.stateNode.containerInfo,cn=!0,rs(t,i,a),ht=o,cn=h;break;case 0:case 11:case 14:case 15:Bs(2,a,i),Dt||Bs(4,a,i),rs(t,i,a);break;case 1:Dt||(Oi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Uy(a,i,o)),rs(t,i,a);break;case 21:rs(t,i,a);break;case 22:Dt=(o=Dt)||a.memoizedState!==null,rs(t,i,a),Dt=o;break;default:rs(t,i,a)}}function Ky(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{no(t)}catch(a){Je(i,i.return,a)}}}function Qy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{no(t)}catch(a){Je(i,i.return,a)}}function Wb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new qy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new qy),i;default:throw Error(r(435,t.tag))}}function pc(t,i){var a=Wb(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=lA.bind(null,t,o);o.then(h,h)}})}function hn(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,y=i,E=y;e:for(;E!==null;){switch(E.tag){case 27:if(Ys(E.type)){ht=E.stateNode,cn=!1;break e}break;case 5:ht=E.stateNode,cn=!1;break e;case 3:case 4:ht=E.stateNode.containerInfo,cn=!0;break e}E=E.return}if(ht===null)throw Error(r(160));Gy(f,y,h),ht=null,cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Yy(i,t),i=i.sibling}var ii=null;function Yy(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(i,t),fn(t),o&4&&(Bs(3,t,t.return),ml(3,t),Bs(5,t,t.return));break;case 1:hn(i,t),fn(t),o&512&&(Dt||a===null||Oi(a,a.return)),o&64&&ss&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ii;if(hn(i,t),fn(t),o&512&&(Dt||a===null||Oi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[_i]||f[wt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Yt(f,o,a),f[wt]=t,It(f),o=f;break e;case"link":var y=Y_("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break t}}f=h.createElement(o),Yt(f,o,a),h.head.appendChild(f);break;case"meta":if(y=Y_("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break t}}f=h.createElement(o),Yt(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[wt]=t,It(f),o=f}t.stateNode=o}else X_(h,t.type,t.stateNode);else t.stateNode=Q_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?X_(h,t.type,t.stateNode):Q_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&rd(t,t.memoizedProps,a.memoizedProps)}break;case 27:hn(i,t),fn(t),o&512&&(Dt||a===null||Oi(a,a.return)),a!==null&&o&4&&rd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,t),fn(t),o&512&&(Dt||a===null||Oi(a,a.return)),t.flags&32){h=t.stateNode;try{un(h,"")}catch(oe){Je(t,t.return,oe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,rd(t,h,a!==null?a.memoizedProps:h)),o&1024&&(ld=!0);break;case 6:if(hn(i,t),fn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(oe){Je(t,t.return,oe)}}break;case 3:if(Dc=null,h=ii,ii=Nc(i.containerInfo),hn(i,t),ii=h,fn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{no(i.containerInfo)}catch(oe){Je(t,t.return,oe)}ld&&(ld=!1,Xy(t));break;case 4:o=ii,ii=Nc(t.stateNode.containerInfo),hn(i,t),fn(t),ii=o;break;case 12:hn(i,t),fn(t);break;case 31:hn(i,t),fn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 13:hn(i,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yc=qt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 22:h=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=ss,F=Dt;if(ss=z||h,Dt=F||R,hn(i,t),Dt=F,ss=z,fn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||ss||Dt||Gr(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(f=R.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(oe){Je(R,R.return,oe)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(oe){Je(R,R.return,oe)}}}else if(i.tag===18){if(a===null){R=i;try{var q=R.stateNode;h?U_(q,!0):U_(R.stateNode,!1)}catch(oe){Je(R,R.return,oe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,pc(t,a))));break;case 19:hn(i,t),fn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 30:break;case 21:break;default:hn(i,t),fn(t)}}function fn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(jy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=ad(t);mc(t,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(un(y,""),a.flags&=-33);var E=ad(t);mc(t,E,y);break;case 3:case 4:var R=a.stateNode.containerInfo,z=ad(t);od(t,z,R);break;default:throw Error(r(161))}}catch(F){Je(t,t.return,F)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Xy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Xy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function as(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Hy(t,i.alternate,i),i=i.sibling}function Gr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Bs(4,i,i.return),Gr(i);break;case 1:Oi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Uy(i,i.return,a),Gr(i);break;case 27:Sl(i.stateNode);case 26:case 5:Oi(i,i.return),Gr(i);break;case 22:i.memoizedState===null&&Gr(i);break;case 30:Gr(i);break;default:Gr(i)}t=t.sibling}}function os(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,f=i,y=f.flags;switch(f.tag){case 0:case 11:case 15:os(h,f,a),ml(4,f);break;case 1:if(os(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Je(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Ig(R[h],E)}catch(z){Je(o,o.return,z)}}a&&y&64&&Ly(f),pl(f,f.return);break;case 27:By(f);case 26:case 5:os(h,f,a),a&&o===null&&y&4&&zy(f),pl(f,f.return);break;case 12:os(h,f,a);break;case 31:os(h,f,a),a&&y&4&&Ky(h,f);break;case 13:os(h,f,a),a&&y&4&&Qy(h,f);break;case 22:f.memoizedState===null&&os(h,f,a),pl(f,f.return);break;case 30:break;default:os(h,f,a)}i=i.sibling}}function ud(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&tl(a))}function cd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&tl(t))}function si(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$y(t,i,a,o),i=i.sibling}function $y(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:si(t,i,a,o),h&2048&&ml(9,i);break;case 1:si(t,i,a,o);break;case 3:si(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&tl(t)));break;case 12:if(h&2048){si(t,i,a,o),t=i.stateNode;try{var f=i.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Je(i,i.return,R)}}else si(t,i,a,o);break;case 31:si(t,i,a,o);break;case 13:si(t,i,a,o);break;case 23:break;case 22:f=i.stateNode,y=i.alternate,i.memoizedState!==null?f._visibility&2?si(t,i,a,o):gl(t,i):f._visibility&2?si(t,i,a,o):(f._visibility|=2,Ga(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&ud(y,i);break;case 24:si(t,i,a,o),h&2048&&cd(i.alternate,i);break;default:si(t,i,a,o)}}function Ga(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,y=i,E=a,R=o,z=y.flags;switch(y.tag){case 0:case 11:case 15:Ga(f,y,E,R,h),ml(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?Ga(f,y,E,R,h):gl(f,y):(F._visibility|=2,Ga(f,y,E,R,h)),h&&z&2048&&ud(y.alternate,y);break;case 24:Ga(f,y,E,R,h),h&&z&2048&&cd(y.alternate,y);break;default:Ga(f,y,E,R,h)}i=i.sibling}}function gl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:gl(a,o),h&2048&&ud(o.alternate,o);break;case 24:gl(a,o),h&2048&&cd(o.alternate,o);break;default:gl(a,o)}i=i.sibling}}var yl=8192;function Ka(t,i,a){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)Jy(t,i,a),t=t.sibling}function Jy(t,i,a){switch(t.tag){case 26:Ka(t,i,a),t.flags&yl&&t.memoizedState!==null&&zA(a,ii,t.memoizedState,t.memoizedProps);break;case 5:Ka(t,i,a);break;case 3:case 4:var o=ii;ii=Nc(t.stateNode.containerInfo),Ka(t,i,a),ii=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=yl,yl=16777216,Ka(t,i,a),yl=o):Ka(t,i,a));break;default:Ka(t,i,a)}}function Zy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function _l(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];jt=o,e_(o,t)}Zy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wy(t),t=t.sibling}function Wy(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&Bs(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,gc(t)):_l(t);break;default:_l(t)}}function gc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];jt=o,e_(o,t)}Zy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Bs(8,i,i.return),gc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,gc(i));break;default:gc(i)}t=t.sibling}}function e_(t,i){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:Bs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:tl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,jt=o;else e:for(a=t;jt!==null;){o=jt;var h=o.sibling,f=o.return;if(Fy(o),o===a){jt=null;break e}if(h!==null){h.return=f,jt=h;break e}jt=f}}}var eA={getCacheForType:function(t){var i=Kt(Ct),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Kt(Ct).controller.signal}},tA=typeof WeakMap=="function"?WeakMap:Map,Fe=0,it=null,Ce=null,xe=0,$e=0,Sn=null,qs=!1,Qa=!1,hd=!1,ls=0,pt=0,Hs=0,Kr=0,fd=0,wn=0,Ya=0,vl=null,dn=null,dd=!1,yc=0,t_=0,_c=1/0,vc=null,Fs=null,Pt=0,Gs=null,Xa=null,us=0,md=0,pd=null,n_=null,El=0,gd=null;function In(){return(Fe&2)!==0&&xe!==0?xe&-xe:H.T!==null?bd():Eu()}function i_(){if(wn===0)if((xe&536870912)===0||Le){var t=vr;vr<<=1,(vr&3932160)===0&&(vr=262144),wn=t}else wn=536870912;return t=bn.current,t!==null&&(t.flags|=32),wn}function mn(t,i,a){(t===it&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&($a(t,0),Ks(t,xe,wn,!1)),Er(t,a),((Fe&2)===0||t!==it)&&(t===it&&((Fe&2)===0&&(Kr|=a),pt===4&&Ks(t,xe,wn,!1)),Mi(t))}function s_(t,i,a){if((Fe&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Yn(t,i),h=o?sA(t,i):_d(t,i,!0),f=o;do{if(h===0){Qa&&!o&&Ks(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!nA(a)){h=_d(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;e:{var E=t;h=vl;var R=E.current.memoizedState.isDehydrated;if(R&&($a(E,y).flags|=256),y=_d(E,y,!1),y!==2){if(hd&&!R){E.errorRecoveryDisabledLanes|=f,Kr|=f,h=4;break e}f=dn,dn=h,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){$a(t,0),Ks(t,i,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ks(o,i,wn,!qs);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=yc+300-qt(),10<h)){if(Ks(o,i,wn,!qs),pi(o,0,!0)!==0)break e;us=i,o.timeoutHandle=k_(r_.bind(null,o,a,dn,vc,dd,i,wn,Kr,Ya,qs,f,"Throttled",-0,0),h);break e}r_(o,a,dn,vc,dd,i,wn,Kr,Ya,qs,f,null,-0,0)}}break}while(!0);Mi(t)}function r_(t,i,a,o,h,f,y,E,R,z,F,Y,j,q){if(t.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},Jy(i,f,Y);var oe=(f&62914560)===f?yc-qt():(f&4194048)===f?t_-qt():0;if(oe=jA(Y,oe),oe!==null){us=f,t.cancelPendingCommit=oe(d_.bind(null,t,i,f,a,o,h,y,E,R,F,Y,null,j,q)),Ks(t,f,y,!z);return}}d_(t,i,f,a,o,h,y,E,R)}function nA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!En(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ks(t,i,a,o){i&=~fd,i&=~Kr,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var f=31-vt(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&Tr(t,a,i)}function Ec(){return(Fe&6)===0?(Tl(0),!1):!0}function yd(){if(Ce!==null){if($e===0)var t=Ce.return;else t=Ce,Zi=Lr=null,Mf(t),ja=null,il=0,t=Ce;for(;t!==null;)Py(t.alternate,t),t=t.return;Ce=null}}function $a(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,bA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),us=0,yd(),it=t,Ce=a=$i(t.current,null),xe=i,$e=0,Sn=null,qs=!1,Qa=Yn(t,i),hd=!1,Ya=wn=fd=Kr=Hs=pt=0,dn=vl=null,dd=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-vt(o),f=1<<h;i|=t[h],o&=~f}return ls=i,Bu(),a}function a_(t,i){Se=null,H.H=hl,i===za||i===Xu?(i=bg(),$e=3):i===Tf?(i=bg(),$e=4):$e=i===Xf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,Ce===null&&(pt=1,uc(t,kn(i,t.current)))}function o_(){var t=bn.current;return t===null?!0:(xe&4194048)===xe?zn===null:(xe&62914560)===xe||(xe&536870912)!==0?t===zn:!1}function l_(){var t=H.H;return H.H=hl,t===null?hl:t}function u_(){var t=H.A;return H.A=eA,t}function Tc(){pt=4,qs||(xe&4194048)!==xe&&bn.current!==null||(Qa=!0),(Hs&134217727)===0&&(Kr&134217727)===0||it===null||Ks(it,xe,wn,!1)}function _d(t,i,a){var o=Fe;Fe|=2;var h=l_(),f=u_();(it!==t||xe!==i)&&(vc=null,$a(t,i)),i=!1;var y=pt;e:do try{if($e!==0&&Ce!==null){var E=Ce,R=Sn;switch($e){case 8:yd(),y=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(i=!0);var z=$e;if($e=0,Sn=null,Ja(t,E,R,z),a&&Qa){y=0;break e}break;default:z=$e,$e=0,Sn=null,Ja(t,E,R,z)}}iA(),y=pt;break}catch(F){a_(t,F)}while(!0);return i&&t.shellSuspendCounter++,Zi=Lr=null,Fe=o,H.H=h,H.A=f,Ce===null&&(it=null,xe=0,Bu()),y}function iA(){for(;Ce!==null;)c_(Ce)}function sA(t,i){var a=Fe;Fe|=2;var o=l_(),h=u_();it!==t||xe!==i?(vc=null,_c=qt()+500,$a(t,i)):Qa=Yn(t,i);e:do try{if($e!==0&&Ce!==null){i=Ce;var f=Sn;t:switch($e){case 1:$e=0,Sn=null,Ja(t,i,f,1);break;case 2:case 9:if(Eg(f)){$e=0,Sn=null,h_(i);break}i=function(){$e!==2&&$e!==9||it!==t||($e=7),Mi(t)},f.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Eg(f)?($e=0,Sn=null,h_(i)):($e=0,Sn=null,Ja(t,i,f,7));break;case 5:var y=null;switch(Ce.tag){case 26:y=Ce.memoizedState;case 5:case 27:var E=Ce;if(y?$_(y):E.stateNode.complete){$e=0,Sn=null;var R=E.sibling;if(R!==null)Ce=R;else{var z=E.return;z!==null?(Ce=z,bc(z)):Ce=null}break t}}$e=0,Sn=null,Ja(t,i,f,5);break;case 6:$e=0,Sn=null,Ja(t,i,f,6);break;case 8:yd(),pt=6;break e;default:throw Error(r(462))}}rA();break}catch(F){a_(t,F)}while(!0);return Zi=Lr=null,H.H=o,H.A=h,Fe=a,Ce!==null?0:(it=null,xe=0,Bu(),pt)}function rA(){for(;Ce!==null&&!_r();)c_(Ce)}function c_(t){var i=Vy(t.alternate,t,ls);t.memoizedProps=t.pendingProps,i===null?bc(t):Ce=i}function h_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Cy(a,i,i.pendingProps,i.type,void 0,xe);break;case 11:i=Cy(a,i,i.pendingProps,i.type.render,i.ref,xe);break;case 5:Mf(i);default:Py(a,i),i=Ce=ug(i,ls),i=Vy(a,i,ls)}t.memoizedProps=t.pendingProps,i===null?bc(t):Ce=i}function Ja(t,i,a,o){Zi=Lr=null,Mf(i),ja=null,il=0;var h=i.return;try{if(Qb(t,h,i,a,xe)){pt=1,uc(t,kn(a,t.current)),Ce=null;return}}catch(f){if(h!==null)throw Ce=h,f;pt=1,uc(t,kn(a,t.current)),Ce=null;return}i.flags&32768?(Le||o===1?t=!0:Qa||(xe&536870912)!==0?t=!1:(qs=t=!0,(o===2||o===9||o===3||o===6)&&(o=bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),f_(i,t)):bc(i)}function bc(t){var i=t;do{if((i.flags&32768)!==0){f_(i,qs);return}t=i.return;var a=$b(i.alternate,i,ls);if(a!==null){Ce=a;return}if(i=i.sibling,i!==null){Ce=i;return}Ce=i=t}while(i!==null);pt===0&&(pt=5)}function f_(t,i){do{var a=Jb(t.alternate,t);if(a!==null){a.flags&=32767,Ce=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=a}while(t!==null);pt=6,Ce=null}function d_(t,i,a,o,h,f,y,E,R){t.cancelPendingCommit=null;do Ac();while(Pt!==0);if((Fe&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=af,$h(t,a,f,y,E,R),t===it&&(Ce=it=null,xe=0),Xa=i,Gs=t,us=a,md=f,pd=h,n_=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,uA(yn,function(){return __(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=ee.p,ee.p=2,y=Fe,Fe|=4;try{Zb(t,i,a)}finally{Fe=y,ee.p=h,H.T=o}}Pt=1,m_(),p_(),g_()}}function m_(){if(Pt===1){Pt=0;var t=Gs,i=Xa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=ee.p;ee.p=2;var h=Fe;Fe|=4;try{Yy(i,t);var f=xd,y=eg(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Wp(E.ownerDocument.documentElement,E)){if(R!==null&&ef(E)){var z=R.start,F=R.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),oe=E.textContent.length,de=Math.min(R.start,oe),nt=R.end===void 0?de:Math.min(R.end,oe);!q.extend&&de>nt&&(y=nt,nt=de,de=y);var k=Zp(E,de),x=Zp(E,nt);if(k&&x&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==x.node||q.focusOffset!==x.offset)){var U=Y.createRange();U.setStart(k.node,k.offset),q.removeAllRanges(),de>nt?(q.addRange(U),q.extend(x.node,x.offset)):(U.setEnd(x.node,x.offset),q.addRange(U))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var G=Y[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}kc=!!Nd,xd=Nd=null}finally{Fe=h,ee.p=o,H.T=a}}t.current=i,Pt=2}}function p_(){if(Pt===2){Pt=0;var t=Gs,i=Xa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=ee.p;ee.p=2;var h=Fe;Fe|=4;try{Hy(t,i.alternate,i)}finally{Fe=h,ee.p=o,H.T=a}}Pt=3}}function g_(){if(Pt===4||Pt===3){Pt=0,ma();var t=Gs,i=Xa,a=us,o=n_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pt=5:(Pt=0,Xa=Gs=null,y_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fs=null),Ki(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Qn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=H.T,h=ee.p,ee.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{H.T=i,ee.p=h}}(us&3)!==0&&Ac(),Mi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===gd?El++:(El=0,gd=t):El=0,Tl(0)}}function y_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,tl(i)))}function Ac(){return m_(),p_(),g_(),__()}function __(){if(Pt!==5)return!1;var t=Gs,i=md;md=0;var a=Ki(us),o=H.T,h=ee.p;try{ee.p=32>a?32:a,H.T=null,a=pd,pd=null;var f=Gs,y=us;if(Pt=0,Xa=Gs=null,us=0,(Fe&6)!==0)throw Error(r(331));var E=Fe;if(Fe|=4,Wy(f.current),$y(f,f.current,y,a),Fe=E,Tl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Qn,f)}catch{}return!0}finally{ee.p=h,H.T=o,y_(t,i)}}function v_(t,i,a){i=kn(a,i),i=Yf(t.stateNode,i,2),t=Us(t,i,2),t!==null&&(Er(t,2),Mi(t))}function Je(t,i,a){if(t.tag===3)v_(t,t,a);else for(;i!==null;){if(i.tag===3){v_(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fs===null||!Fs.has(o))){t=kn(a,t),a=Ey(2),o=Us(i,a,2),o!==null&&(Ty(a,o,i,t),Er(o,2),Mi(o));break}}i=i.return}}function vd(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new tA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(hd=!0,h.add(a),t=aA.bind(null,t,i,a),i.then(t,t))}function aA(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(xe&a)===a&&(pt===4||pt===3&&(xe&62914560)===xe&&300>qt()-yc?(Fe&2)===0&&$a(t,0):fd|=a,Ya===xe&&(Ya=0)),Mi(t)}function E_(t,i){i===0&&(i=vu()),t=Vr(t,i),t!==null&&(Er(t,i),Mi(t))}function oA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),E_(t,a)}function lA(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),E_(t,a)}function uA(t,i){return Ge(t,i)}var Sc=null,Za=null,Ed=!1,wc=!1,Td=!1,Qs=0;function Mi(t){t!==Za&&t.next===null&&(Za===null?Sc=Za=t:Za=Za.next=t),wc=!0,Ed||(Ed=!0,hA())}function Tl(t,i){if(!Td&&wc){Td=!0;do for(var a=!1,o=Sc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-vt(42|t)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,S_(o,f))}else f=xe,f=pi(o,o===it?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Yn(o,f)||(a=!0,S_(o,f));o=o.next}while(a);Td=!1}}function cA(){T_()}function T_(){wc=Ed=!1;var t=0;Qs!==0&&TA()&&(t=Qs);for(var i=qt(),a=null,o=Sc;o!==null;){var h=o.next,f=b_(o,i);f===0?(o.next=null,a===null?Sc=h:a.next=h,h===null&&(Za=a)):(a=o,(t!==0||(f&3)!==0)&&(wc=!0)),o=h}Pt!==0&&Pt!==5||Tl(t),Qs!==0&&(Qs=0)}function b_(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-vt(f),E=1<<y,R=h[y];R===-1?((E&a)===0||(E&o)!==0)&&(h[y]=Xh(E,i)):R<=i&&(t.expiredLanes|=E),f&=~E}if(i=it,a=xe,a=pi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&fi(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Yn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&fi(o),Ki(a)){case 2:case 8:a=on;break;case 32:a=yn;break;case 268435456:a=mu;break;default:a=yn}return o=A_.bind(null,t),a=Ge(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&fi(o),t.callbackPriority=2,t.callbackNode=null,2}function A_(t,i){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ac()&&t.callbackNode!==a)return null;var o=xe;return o=pi(t,t===it?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(s_(t,o,i),b_(t,qt()),t.callbackNode!=null&&t.callbackNode===a?A_.bind(null,t):null)}function S_(t,i){if(Ac())return null;s_(t,i,!0)}function hA(){AA(function(){(Fe&6)!==0?Ge(je,cA):T_()})}function bd(){if(Qs===0){var t=La;t===0&&(t=di,di<<=1,(di&261888)===0&&(di=256)),Qs=t}return Qs}function w_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function I_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function fA(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=w_((h[Ut]||null).action),y=o.submitter;y&&(i=(i=y[Ut]||null)?w_(i.formAction):y.getAttribute("formAction"),i!==null&&(f=i,y=null));var E=new Ii("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Qs!==0){var R=y?I_(h,y):new FormData(h);qf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?I_(h,y):new FormData(h),qf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Ad=0;Ad<rf.length;Ad++){var Sd=rf[Ad],dA=Sd.toLowerCase(),mA=Sd[0].toUpperCase()+Sd.slice(1);ni(dA,"on"+mA)}ni(ig,"onAnimationEnd"),ni(sg,"onAnimationIteration"),ni(rg,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(xb,"onTransitionRun"),ni(Db,"onTransitionStart"),ni(Ob,"onTransitionCancel"),ni(ag,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function R_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(i)for(var y=o.length-1;0<=y;y--){var E=o[y],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(F){ju(F)}h.currentTarget=null,f=R}else for(y=0;y<o.length;y++){if(E=o[y],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(F){ju(F)}h.currentTarget=null,f=R}}}}function Ne(t,i){var a=i[ya];a===void 0&&(a=i[ya]=new Set);var o=t+"__bubble";a.has(o)||(C_(i,t,2,!1),a.add(o))}function wd(t,i,a){var o=0;i&&(o|=4),C_(a,t,o,i)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function Id(t){if(!t[Ic]){t[Ic]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(pA.has(a)||wd(a,!1,t),wd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ic]||(i[Ic]=!0,wd("selectionchange",!1,i))}}function C_(t,i,a,o){switch(iv(i)){case 2:var h=HA;break;case 8:h=FA;break;default:h=Bd}a=h.bind(null,i,a,t),h=void 0,!Ir||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Rd(t,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=vi(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){o=f=y;continue e}E=E.parentNode}}o=o.return}Cs(function(){var z=f,F=Dn(a),Y=[];e:{var j=og.get(t);if(j!==void 0){var q=Ii,oe=t;switch(t){case"keypress":if(Cr(a)===0)break e;case"keydown":case"keyup":q=Lu;break;case"focusin":oe="focus",q=xr;break;case"focusout":oe="blur",q=xr;break;case"beforeblur":case"afterblur":q=xr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case ig:case sg:case rg:q=xu;break;case ag:q=b;break;case"scroll":case"scrollend":q=Ko;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Xi;break;case"toggle":case"beforetoggle":q=Ae}var de=(i&4)!==0,nt=!de&&(t==="scroll"||t==="scrollend"),k=de?j!==null?j+"Capture":null:j;de=[];for(var x=z,U;x!==null;){var G=x;if(U=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||U===null||k===null||(G=Zn(x,k),G!=null&&de.push(Al(x,G,U))),nt)break;x=x.return}0<de.length&&(j=new q(j,oe,null,a,F),Y.push({event:j,listeners:de}))}}if((i&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",j&&a!==Ho&&(oe=a.relatedTarget||a.fromElement)&&(vi(oe)||oe[yi]))break e;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(oe=a.relatedTarget||a.toElement,q=z,oe=oe?vi(oe):null,oe!==null&&(nt=u(oe),de=oe.tag,oe!==nt||de!==5&&de!==27&&de!==6)&&(oe=null)):(q=null,oe=z),q!==oe)){if(de=Qo,G="onMouseLeave",k="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(de=Xi,G="onPointerLeave",k="onPointerEnter",x="pointer"),nt=q==null?j:_n(q),U=oe==null?j:_n(oe),j=new de(G,x+"leave",q,a,F),j.target=nt,j.relatedTarget=U,G=null,vi(F)===z&&(de=new de(k,x+"enter",oe,a,F),de.target=U,de.relatedTarget=nt,G=de),nt=G,q&&oe)t:{for(de=gA,k=q,x=oe,U=0,G=k;G;G=de(G))U++;G=0;for(var ce=x;ce;ce=de(ce))G++;for(;0<U-G;)k=de(k),U--;for(;0<G-U;)x=de(x),G--;for(;U--;){if(k===x||x!==null&&k===x.alternate){de=k;break t}k=de(k),x=de(x)}de=null}else de=null;q!==null&&N_(Y,j,q,de,!1),oe!==null&&nt!==null&&N_(Y,nt,oe,de,!0)}}e:{if(j=z?_n(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Be=Kp;else if(Fp(j))if(Qp)Be=Rb;else{Be=wb;var le=Sb}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&Ta(z.elementType)&&(Be=Kp):Be=Ib;if(Be&&(Be=Be(t,z))){Gp(Y,Be,a,F);break e}le&&le(t,j,z),t==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&jo(j,"number",j.value)}switch(le=z?_n(z):window,t){case"focusin":(Fp(le)||le.contentEditable==="true")&&(Na=le,tf=z,Zo=null);break;case"focusout":Zo=tf=Na=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,tg(Y,a,F);break;case"selectionchange":if(Nb)break;case"keydown":case"keyup":tg(Y,a,F)}var Ie;if(He)e:{switch(t){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Ca?Dr(t,a)&&(De="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(Ni&&a.locale!=="ko"&&(Ca||De!=="onCompositionStart"?De==="onCompositionEnd"&&Ca&&(Ie=Go()):(wi=F,Fo="value"in wi?wi.value:wi.textContent,Ca=!0)),le=Rc(z,De),0<le.length&&(De=new Ci(De,t,null,a,F),Y.push({event:De,listeners:le}),Ie?De.data=Ie:(Ie=Ra(a),Ie!==null&&(De.data=Ie)))),(Ie=Mn?Eb(t,a):Tb(t,a))&&(De=Rc(z,"onBeforeInput"),0<De.length&&(le=new Ci("onBeforeInput","beforeinput",null,a,F),Y.push({event:le,listeners:De}),le.data=Ie)),fA(Y,t,z,a,F)}R_(Y,i)})}function Al(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Rc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Zn(t,a),h!=null&&o.unshift(Al(t,h,f)),h=Zn(t,i),h!=null&&o.push(Al(t,h,f))),t.tag===3)return o;t=t.return}return[]}function gA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function N_(t,i,a,o,h){for(var f=i._reactName,y=[];a!==null&&a!==o;){var E=a,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=Zn(a,f),z!=null&&y.unshift(Al(a,z,R))):h||(z=Zn(a,f),z!=null&&y.push(Al(a,z,R)))),a=a.return}y.length!==0&&t.push({event:i,listeners:y})}var yA=/\r\n?/g,_A=/\u0000|\uFFFD/g;function x_(t){return(typeof t=="string"?t:""+t).replace(yA,`
`).replace(_A,"")}function D_(t,i){return i=x_(i),x_(t)===i}function tt(t,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||un(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&un(t,""+o);break;case"className":vn(t,"class",o);break;case"tabIndex":vn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,o);break;case"style":qo(t,o,f);break;case"data":if(i!=="object"){vn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ba(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",h.name,h,null),tt(t,i,"formEncType",h.formEncType,h,null),tt(t,i,"formMethod",h.formMethod,h,null),tt(t,i,"formTarget",h.formTarget,h,null)):(tt(t,i,"encType",h.encType,h,null),tt(t,i,"method",h.method,h,null),tt(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ba(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Jn);break;case"onScroll":o!=null&&Ne("scroll",t);break;case"onScrollEnd":o!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ba(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),va(t,"popover",o);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":va(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ru.get(a)||a,va(t,a,o))}}function Cd(t,i,a,o,h,f){switch(a){case"style":qo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?un(t,o):(typeof o=="number"||typeof o=="bigint")&&un(t,""+o);break;case"onScroll":o!=null&&Ne("scroll",t);break;case"onScrollEnd":o!=null&&Ne("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=t[Ut]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):va(t,a,o)}}}function Yt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,f,y,a,null)}}h&&tt(t,i,"srcSet",a.srcSet,a,null),o&&tt(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var E=f=y=h=null,R=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":y=F;break;case"checked":R=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:tt(t,i,o,F,a,null)}}Su(t,f,E,R,z,y,h,!1);return;case"select":Ne("invalid",t),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:tt(t,i,h,E,a,null)}i=f,a=y,t.multiple=!!o,i!=null?Ss(t,!!o,i,!1):a!=null&&Ss(t,!!o,a,!0);return;case"textarea":Ne("invalid",t),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:tt(t,i,y,E,a,null)}ws(t,o,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null)&&(R==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":tt(t,i,R,o,a,null));return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(o=0;o<bl.length;o++)Ne(bl[o],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,z,o,a,null)}return;default:if(Ta(i)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&Cd(t,i,F,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&tt(t,i,E,o,a,null))}function vA(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,R=null,z=null,F=null;for(q in a){var Y=a[q];if(a.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(q)||tt(t,i,q,null,o,Y)}}for(var j in o){var q=o[j];if(Y=a[j],o.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:q!==Y&&tt(t,i,j,q,o,Y)}}Ea(t,y,E,R,z,F,f,h);return;case"select":q=y=E=j=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||tt(t,i,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&tt(t,i,h,f,o,R)}i=E,a=y,o=q,j!=null?Ss(t,!!a,j,!1):!!o!=!!a&&(i!=null?Ss(t,!!a,i,!0):Ss(t,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:tt(t,i,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&tt(t,i,y,h,o,f)}wu(t,j,q);return;case"option":for(var oe in a)j=a[oe],a.hasOwnProperty(oe)&&j!=null&&!o.hasOwnProperty(oe)&&(oe==="selected"?t.selected=!1:tt(t,i,oe,null,o,j));for(R in o)j=o[R],q=a[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null)&&(R==="selected"?t.selected=j&&typeof j!="function"&&typeof j!="symbol":tt(t,i,R,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in a)j=a[de],a.hasOwnProperty(de)&&j!=null&&!o.hasOwnProperty(de)&&tt(t,i,de,null,o,j);for(z in o)if(j=o[z],q=a[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,i));break;default:tt(t,i,z,j,o,q)}return;default:if(Ta(i)){for(var nt in a)j=a[nt],a.hasOwnProperty(nt)&&j!==void 0&&!o.hasOwnProperty(nt)&&Cd(t,i,nt,void 0,o,j);for(F in o)j=o[F],q=a[F],!o.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||Cd(t,i,F,j,o,q);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&tt(t,i,k,null,o,j);for(Y in o)j=o[Y],q=a[Y],!o.hasOwnProperty(Y)||j===q||j==null&&q==null||tt(t,i,Y,j,o,q)}function O_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function EA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&O_(y)){for(y=0,E=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],z=R.startTime;if(z>E)break;var F=R.transferSize,Y=R.initiatorType;F&&O_(Y)&&(R=R.responseEnd,y+=F*(R<E?1:(E-z)/(R-z)))}if(--o,i+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Nd=null,xd=null;function Cc(t){return t.nodeType===9?t:t.ownerDocument}function M_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Dd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Od=null;function TA(){var t=window.event;return t&&t.type==="popstate"?t===Od?!1:(Od=t,!0):(Od=null,!1)}var k_=typeof setTimeout=="function"?setTimeout:void 0,bA=typeof clearTimeout=="function"?clearTimeout:void 0,P_=typeof Promise=="function"?Promise:void 0,AA=typeof queueMicrotask=="function"?queueMicrotask:typeof P_<"u"?function(t){return P_.resolve(null).then(t).catch(SA)}:k_;function SA(t){setTimeout(function(){throw t})}function Ys(t){return t==="head"}function L_(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),no(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Sl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Sl(a);for(var f=a.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[_i]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&Sl(t.ownerDocument.body);a=h}while(a);no(i)}function U_(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Md(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Md(a),_a(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function wA(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[_i])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function IA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=jn(t.nextSibling),t===null))return null;return t}function z_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=jn(t.nextSibling),t===null))return null;return t}function Vd(t){return t.data==="$?"||t.data==="$~"}function kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function RA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function jn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Pd=null;function j_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return jn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function B_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function q_(t,i,a){switch(i=Cc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Sl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);_a(t)}var Bn=new Map,H_=new Set;function Nc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var cs=ee.d;ee.d={f:CA,r:NA,D:xA,C:DA,L:OA,m:MA,X:kA,S:VA,M:PA};function CA(){var t=cs.f(),i=Ec();return t||i}function NA(t){var i=xn(t);i!==null&&i.tag===5&&i.type==="form"?ay(i):cs.r(t)}var Wa=typeof document>"u"?null:document;function F_(t,i,a){var o=Wa;if(o&&typeof i=="string"&&i){var h=ln(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),H_.has(h)||(H_.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Yt(i,"link",t),It(i),o.head.appendChild(i)))}}function xA(t){cs.D(t),F_("dns-prefetch",t,null)}function DA(t,i){cs.C(t,i),F_("preconnect",t,i)}function OA(t,i,a){cs.L(t,i,a);var o=Wa;if(o&&t&&i){var h='link[rel="preload"][as="'+ln(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ln(a.imageSizes)+'"]')):h+='[href="'+ln(t)+'"]';var f=h;switch(i){case"style":f=eo(t);break;case"script":f=to(t)}Bn.has(f)||(t=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Bn.set(f,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(wl(f))||i==="script"&&o.querySelector(Il(f))||(i=o.createElement("link"),Yt(i,"link",t),It(i),o.head.appendChild(i)))}}function MA(t,i){cs.m(t,i);var a=Wa;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ln(o)+'"][href="'+ln(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=to(t)}if(!Bn.has(f)&&(t=A({rel:"modulepreload",href:t},i),Bn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(f)))return}o=a.createElement("link"),Yt(o,"link",t),It(o),a.head.appendChild(o)}}}function VA(t,i,a){cs.S(t,i,a);var o=Wa;if(o&&t){var h=Ei(o).hoistableStyles,f=eo(t);i=i||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(wl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Bn.get(f))&&Ld(t,a);var R=y=o.createElement("link");It(R),Yt(R,"link",t),R._p=new Promise(function(z,F){R.onload=z,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,xc(y,i,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function kA(t,i){cs.X(t,i);var a=Wa;if(a&&t){var o=Ei(a).hoistableScripts,h=to(t),f=o.get(h);f||(f=a.querySelector(Il(h)),f||(t=A({src:t,async:!0},i),(i=Bn.get(h))&&Ud(t,i),f=a.createElement("script"),It(f),Yt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function PA(t,i){cs.M(t,i);var a=Wa;if(a&&t){var o=Ei(a).hoistableScripts,h=to(t),f=o.get(h);f||(f=a.querySelector(Il(h)),f||(t=A({src:t,async:!0,type:"module"},i),(i=Bn.get(h))&&Ud(t,i),f=a.createElement("script"),It(f),Yt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function G_(t,i,a,o){var h=(h=be.current)?Nc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=eo(a.href),a=Ei(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=eo(a.href);var f=Ei(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(wl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),f||LA(h,t,a,y.state))),i&&o===null)throw Error(r(528,""));return y}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=to(a),a=Ei(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function eo(t){return'href="'+ln(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function K_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function LA(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Yt(i,"link",a),It(i),t.head.appendChild(i))}function to(t){return'[src="'+ln(t)+'"]'}function Il(t){return"script[async]"+t}function Q_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+ln(a.href)+'"]');if(o)return i.instance=o,It(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),It(o),Yt(o,"style",h),xc(o,a.precedence,t),i.instance=o;case"stylesheet":h=eo(a.href);var f=t.querySelector(wl(h));if(f)return i.state.loading|=4,i.instance=f,It(f),f;o=K_(a),(h=Bn.get(h))&&Ld(o,h),f=(t.ownerDocument||t).createElement("link"),It(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Yt(f,"link",o),i.state.loading|=4,xc(f,a.precedence,t),i.instance=f;case"script":return f=to(a.src),(h=t.querySelector(Il(f)))?(i.instance=h,It(h),h):(o=a,(h=Bn.get(f))&&(o=A({},a),Ud(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),It(h),Yt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,xc(o,a.precedence,t));return i.instance}function xc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Ld(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Ud(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Dc=null;function Y_(t,i,a){if(Dc===null){var o=new Map,h=Dc=new Map;h.set(a,o)}else h=Dc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[_i]||f[wt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(i)||"";y=t+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function X_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function UA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function $_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function zA(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=eo(o.href),f=i.querySelector(wl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Oc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,It(f);return}f=i.ownerDocument||i,o=K_(o),(h=Bn.get(h))&&Ld(o,h),f=f.createElement("link"),It(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Yt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Oc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var zd=0;function jA(t,i){return t.stylesheets&&t.count===0&&Vc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&zd===0&&(zd=62500*EA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>zd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mc=null;function Vc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mc=new Map,i.forEach(BA,t),Mc=null,Oc.call(t))}function BA(t,i){if(!(i.state.loading&4)){var a=Mc.get(t);if(a)var o=a.get(null);else{a=new Map,Mc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=i.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=Oc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Rl={$$typeof:ye,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function qA(t,i,a,o,h,f,y,E,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function J_(t,i,a,o,h,f,y,E,R,z,F,Y){return t=new qA(t,i,a,y,R,z,F,Y,E),i=1,f===!0&&(i|=24),f=Tn(3,null,null,i),t.current=f,f.stateNode=t,i=_f(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},bf(f),t}function Z_(t){return t?(t=Oa,t):Oa}function W_(t,i,a,o,h,f){h=Z_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ls(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Us(t,o,i),a!==null&&(mn(a,t,i),rl(a,t,i))}function ev(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function jd(t,i){ev(t,i),(t=t.alternate)&&ev(t,i)}function tv(t){if(t.tag===13||t.tag===31){var i=Vr(t,67108864);i!==null&&mn(i,t,67108864),jd(t,67108864)}}function nv(t){if(t.tag===13||t.tag===31){var i=In();i=br(i);var a=Vr(t,i);a!==null&&mn(a,t,i),jd(t,i)}}var kc=!0;function HA(t,i,a,o){var h=H.T;H.T=null;var f=ee.p;try{ee.p=2,Bd(t,i,a,o)}finally{ee.p=f,H.T=h}}function FA(t,i,a,o){var h=H.T;H.T=null;var f=ee.p;try{ee.p=8,Bd(t,i,a,o)}finally{ee.p=f,H.T=h}}function Bd(t,i,a,o){if(kc){var h=qd(o);if(h===null)Rd(t,i,o,Pc,a),sv(t,o);else if(KA(h,t,i,a,o))o.stopPropagation();else if(sv(t,o),i&4&&-1<GA.indexOf(t)){for(;h!==null;){var f=xn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=mi(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-vt(y);E.entanglements[1]|=R,y&=~R}Mi(f),(Fe&6)===0&&(_c=qt()+500,Tl(0))}}break;case 31:case 13:E=Vr(f,2),E!==null&&mn(E,f,2),Ec(),jd(f,2)}if(f=qd(o),f===null&&Rd(t,i,o,Pc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Rd(t,i,o,null,a)}}function qd(t){return t=Dn(t),Hd(t)}var Pc=null;function Hd(t){if(Pc=null,t=vi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Pc=t,null}function iv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(se()){case je:return 2;case on:return 8;case yn:case pa:return 32;case mu:return 268435456;default:return 32}default:return 32}}var Fd=!1,Xs=null,$s=null,Js=null,Cl=new Map,Nl=new Map,Zs=[],GA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sv(t,i){switch(t){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Cl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(i.pointerId)}}function xl(t,i,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=xn(i),i!==null&&tv(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function KA(t,i,a,o,h){switch(i){case"focusin":return Xs=xl(Xs,t,i,a,o,h),!0;case"dragenter":return $s=xl($s,t,i,a,o,h),!0;case"mouseover":return Js=xl(Js,t,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return Cl.set(f,xl(Cl.get(f)||null,t,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Nl.set(f,xl(Nl.get(f)||null,t,i,a,o,h)),!0}return!1}function rv(t){var i=vi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,Xn(t.priority,function(){nv(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,Xn(t.priority,function(){nv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=qd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Ho=o,a.target.dispatchEvent(o),Ho=null}else return i=xn(a),i!==null&&tv(i),t.blockedOn=a,!1;i.shift()}return!0}function av(t,i,a){Lc(t)&&a.delete(i)}function QA(){Fd=!1,Xs!==null&&Lc(Xs)&&(Xs=null),$s!==null&&Lc($s)&&($s=null),Js!==null&&Lc(Js)&&(Js=null),Cl.forEach(av),Nl.forEach(av)}function Uc(t,i){t.blockedOn===i&&(t.blockedOn=null,Fd||(Fd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,QA)))}var zc=null;function ov(t){zc!==t&&(zc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){zc===t&&(zc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(Hd(o||a)===null)continue;break}var f=xn(a);f!==null&&(t.splice(i,3),i-=3,qf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function no(t){function i(R){return Uc(R,t)}Xs!==null&&Uc(Xs,t),$s!==null&&Uc($s,t),Js!==null&&Uc(Js,t),Cl.forEach(i),Nl.forEach(i);for(var a=0;a<Zs.length;a++){var o=Zs[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Zs.length&&(a=Zs[0],a.blockedOn===null);)rv(a),a.blockedOn===null&&Zs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[Ut]||null;if(typeof f=="function")y||ov(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Ut]||null)E=y.formAction;else if(Hd(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),ov(a)}}}function lv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Gd(t){this._internalRoot=t}jc.prototype.render=Gd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=In();W_(a,o,t,i,null,null)},jc.prototype.unmount=Gd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;W_(t.current,2,null,t,null,null),Ec(),i[yi]=null}};function jc(t){this._internalRoot=t}jc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Eu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Zs.length&&i!==0&&i<Zs[a].priority;a++);Zs.splice(a,0,t),a===0&&rv(t)}};var uv=e.version;if(uv!=="19.2.3")throw Error(r(527,uv,"19.2.3"));ee.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=g(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var YA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{Qn=Bc.inject(YA),Ht=Bc}catch{}}return Ol.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",h=gy,f=yy,y=_y;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=J_(t,1,!1,null,null,a,o,null,h,f,y,lv),t[yi]=i.current,Id(t),new Gd(i)},Ol.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=gy,y=yy,E=_y,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),i=J_(t,1,!0,i,a??null,o,h,R,f,y,E,lv),i.context=Z_(null),a=i.current,o=In(),o=br(o),h=Ls(o),h.callback=null,Us(a,h,o),a=o,i.current.lanes=a,Er(i,a),Mi(i),t[yi]=i.current,Id(t),new jc(i)},Ol.version="19.2.3",Ol}var vv;function sS(){if(vv)return Yd.exports;vv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Yd.exports=iS(),Yd.exports}var rS=sS();const aS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Ev=s=>{const e=oS(s);return e.charAt(0).toUpperCase()+e.slice(1)},hE=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),lS=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var uS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cS=we.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...p},_)=>we.createElement("svg",{ref:_,...uS,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:hE("lucide",l),...!u&&!lS(p)&&{"aria-hidden":"true"},...p},[...d.map(([g,T])=>we.createElement(g,T)),...Array.isArray(u)?u:[u]]));const st=(s,e)=>{const n=we.forwardRef(({className:r,...l},u)=>we.createElement(cS,{ref:u,iconNode:e,className:hE(`lucide-${aS(Ev(s))}`,`lucide-${s}`,r),...l}));return n.displayName=Ev(s),n};const hS=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],fE=st("activity",hS);const fS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],dS=st("award",fS);const mS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],dE=st("book-open",mS);const pS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Zd=st("calendar",pS);const gS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yS=st("chevron-down",gS);const _S=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],vS=st("chevron-up",_S);const ES=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Hm=st("circle-check-big",ES);const TS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],mE=st("external-link",TS);const bS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],pE=st("globe",bS);const AS=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],gE=st("heart",AS);const SS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wS=st("log-out",SS);const IS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],RS=st("mail",IS);const CS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Fm=st("map-pin",CS);const NS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],xS=st("menu",NS);const DS=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],OS=st("microscope",DS);const MS=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],yE=st("monitor",MS);const VS=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],kS=st("pen-line",VS);const PS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Kl=st("phone",PS);const LS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],US=st("save",LS);const zS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],jS=st("shield",zS);const BS=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],qS=st("star",BS);const HS=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],FS=st("stethoscope",HS);const GS=[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]],KS=st("syringe",GS);const QS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Gm=st("user",QS);const YS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],XS=st("users",YS);const $S=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],JS=st("video",$S);const ZS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_E=st("x",ZS),WS=()=>{};var Tv={};const vE=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},ew=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],d=s[n++],p=s[n++],_=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const u=s[n++],d=s[n++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},EE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,g=_?s[l+2]:0,T=u>>2,A=(u&3)<<4|p>>4;let O=(p&15)<<2|g>>6,K=g&63;_||(K=64,d||(O=64)),r.push(n[T],n[A],n[O],n[K])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(vE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):ew(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],p=l<s.length?n[s.charAt(l)]:0;++l;const g=l<s.length?n[s.charAt(l)]:64;++l;const A=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||p==null||g==null||A==null)throw new tw;const O=u<<2|p>>4;if(r.push(O),g!==64){const K=p<<4&240|g>>2;if(r.push(K),A!==64){const J=g<<6&192|A;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class tw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nw=function(s){const e=vE(s);return EE.encodeByteArray(e,!0)},sh=function(s){return nw(s).replace(/\./g,"")},TE=function(s){try{return EE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function iw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const sw=()=>iw().__FIREBASE_DEFAULTS__,rw=()=>{if(typeof process>"u"||typeof Tv>"u")return;const s=Tv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},aw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&TE(s[1]);return e&&JSON.parse(e)},Rh=()=>{try{return WS()||sw()||rw()||aw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},bE=s=>Rh()?.emulatorHosts?.[s],ow=s=>{const e=bE(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},AE=()=>Rh()?.config,SE=s=>Rh()?.[`_${s}`];class lw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function So(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wE(s){return(await fetch(s,{credentials:"include"})).ok}function uw(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[sh(JSON.stringify(n)),sh(JSON.stringify(d)),""].join(".")}const jl={};function cw(){const s={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?s.emulator.push(e):s.prod.push(e);return s}function hw(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let bv=!1;function IE(s,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||jl[s]===e||jl[s]||bv)return;jl[s]=e;function n(O){return`__firebase__banner__${O}`}const r="__firebase__banner",u=cw().prod.length>0;function d(){const O=document.getElementById(r);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,K){O.setAttribute("width","24"),O.setAttribute("id",K),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function g(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{bv=!0,d()},O}function T(O,K){O.setAttribute("id",K),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function A(){const O=hw(r),K=n("text"),J=document.getElementById(K)||document.createElement("span"),te=n("learnmore"),ne=document.getElementById(te)||document.createElement("a"),fe=n("preprendIcon"),Te=document.getElementById(fe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const ye=O.element;p(ye),T(ne,te);const Qe=g();_(Te,fe),ye.append(Te,J,ne,Qe),document.body.appendChild(ye)}u?(J.innerText="Preview backend disconnected.",Te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function dw(){const s=Rh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RE(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function pw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gw(){const s=nn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function yw(){return!dw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CE(){try{return typeof indexedDB=="object"}catch{return!1}}function NE(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}function _w(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const vw="FirebaseError";class hi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vw,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oa.prototype.create)}}class oa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?Ew(u,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new hi(l,p,r)}}function Ew(s,e){return s.replace(Tw,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const Tw=/\{\$([^}]+)}/g;function bw(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ur(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const u=s[l],d=e[l];if(Av(u)&&Av(d)){if(!ur(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function Av(s){return s!==null&&typeof s=="object"}function iu(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function kl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function Aw(s,e){const n=new Sw(s,e);return n.subscribe.bind(n)}class Sw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ww(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=Wd),l.error===void 0&&(l.error=Wd),l.complete===void 0&&(l.complete=Wd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ww(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Wd(){}const Iw=1e3,Rw=2,Cw=14400*1e3,Nw=.5;function Sv(s,e=Iw,n=Rw){const r=e*Math.pow(n,s),l=Math.round(Nw*r*(Math.random()-.5)*2);return Math.min(Cw,r+l)}function gt(s){return s&&s._delegate?s._delegate:s}class ui{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Qr="[DEFAULT]";class xw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ow(e))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=Qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qr){return this.instances.has(e)}getOptions(e=Qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&d.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Dw(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qr){return this.component?this.component.multipleInstances?e:Qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Dw(s){return s===Qr?void 0:s}function Ow(s){return s.instantiationMode==="EAGER"}class Mw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Oe||(Oe={}));const Vw={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},kw=Oe.INFO,Pw={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},Lw=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=Pw[e];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ch{constructor(e){this.name=e,this._logLevel=kw,this._logHandler=Lw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Vw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const Uw=(s,e)=>e.some(n=>s instanceof n);let wv,Iv;function zw(){return wv||(wv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jw(){return Iv||(Iv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xE=new WeakMap,pm=new WeakMap,DE=new WeakMap,em=new WeakMap,Km=new WeakMap;function Bw(s){const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{n(rr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&xE.set(n,s)}).catch(()=>{}),Km.set(e,s),e}function qw(s){if(pm.has(s))return;const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});pm.set(s,e)}let gm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return pm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||DE.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Hw(s){gm=s(gm)}function Fw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(tm(this),e,...n);return DE.set(r,e.sort?e.sort():[e]),rr(r)}:jw().includes(s)?function(...e){return s.apply(tm(this),e),rr(xE.get(this))}:function(...e){return rr(s.apply(tm(this),e))}}function Gw(s){return typeof s=="function"?Fw(s):(s instanceof IDBTransaction&&qw(s),Uw(s,zw())?new Proxy(s,gm):s)}function rr(s){if(s instanceof IDBRequest)return Bw(s);if(em.has(s))return em.get(s);const e=Gw(s);return e!==s&&(em.set(s,e),Km.set(e,s)),e}const tm=s=>Km.get(s);function OE(s,e,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,e),p=rr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(rr(d.result),_.oldVersion,_.newVersion,rr(d.transaction),_)}),n&&d.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),p.then(_=>{u&&_.addEventListener("close",()=>u()),l&&_.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const Kw=["get","getKey","getAll","getAllKeys","count"],Qw=["put","add","delete","clear"],nm=new Map;function Rv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(nm.get(e))return nm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=Qw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||Kw.includes(n)))return;const u=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let g=_.store;return r&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),l&&_.done]))[0]};return nm.set(e,u),u}Hw(s=>({...s,get:(e,n,r)=>Rv(e,n)||s.get(e,n,r),has:(e,n)=>!!Rv(e,n)||s.has(e,n)}));class Yw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Xw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Xw(s){return s.getComponent()?.type==="VERSION"}const ym="@firebase/app",Cv="0.14.7";const ps=new Ch("@firebase/app"),$w="@firebase/app-compat",Jw="@firebase/analytics-compat",Zw="@firebase/analytics",Ww="@firebase/app-check-compat",e2="@firebase/app-check",t2="@firebase/auth",n2="@firebase/auth-compat",i2="@firebase/database",s2="@firebase/data-connect",r2="@firebase/database-compat",a2="@firebase/functions",o2="@firebase/functions-compat",l2="@firebase/installations",u2="@firebase/installations-compat",c2="@firebase/messaging",h2="@firebase/messaging-compat",f2="@firebase/performance",d2="@firebase/performance-compat",m2="@firebase/remote-config",p2="@firebase/remote-config-compat",g2="@firebase/storage",y2="@firebase/storage-compat",_2="@firebase/firestore",v2="@firebase/ai",E2="@firebase/firestore-compat",T2="firebase",b2="12.8.0";const _m="[DEFAULT]",A2={[ym]:"fire-core",[$w]:"fire-core-compat",[Zw]:"fire-analytics",[Jw]:"fire-analytics-compat",[e2]:"fire-app-check",[Ww]:"fire-app-check-compat",[t2]:"fire-auth",[n2]:"fire-auth-compat",[i2]:"fire-rtdb",[s2]:"fire-data-connect",[r2]:"fire-rtdb-compat",[a2]:"fire-fn",[o2]:"fire-fn-compat",[l2]:"fire-iid",[u2]:"fire-iid-compat",[c2]:"fire-fcm",[h2]:"fire-fcm-compat",[f2]:"fire-perf",[d2]:"fire-perf-compat",[m2]:"fire-rc",[p2]:"fire-rc-compat",[g2]:"fire-gcs",[y2]:"fire-gcs-compat",[_2]:"fire-fst",[E2]:"fire-fst-compat",[v2]:"fire-vertex","fire-js":"fire-js",[T2]:"fire-js-all"};const rh=new Map,S2=new Map,vm=new Map;function Nv(s,e){try{s.container.addComponent(e)}catch(n){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Bi(s){const e=s.name;if(vm.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;vm.set(e,s);for(const n of rh.values())Nv(n,s);for(const n of S2.values())Nv(n,s);return!0}function la(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Rn(s){return s==null?!1:s.settings!==void 0}const w2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new oa("app","Firebase",w2);class I2{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const wo=b2;function ME(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:_m,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw ar.create("bad-app-name",{appName:String(l)});if(n||(n=AE()),!n)throw ar.create("no-options");const u=rh.get(l);if(u){if(ur(n,u.options)&&ur(r,u.config))return u;throw ar.create("duplicate-app",{appName:l})}const d=new Mw(l);for(const _ of vm.values())d.addComponent(_);const p=new I2(n,r,d);return rh.set(l,p),p}function Qm(s=_m){const e=rh.get(s);if(!e&&s===_m&&AE())return ME();if(!e)throw ar.create("no-app",{appName:s});return e}function Fn(s,e,n){let r=A2[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(d.join(" "));return}Bi(new ui(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const R2="firebase-heartbeat-database",C2=1,Ql="firebase-heartbeat-store";let im=null;function VE(){return im||(im=OE(R2,C2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ql)}catch(n){console.warn(n)}}}}).catch(s=>{throw ar.create("idb-open",{originalErrorMessage:s.message})})),im}async function N2(s){try{const n=(await VE()).transaction(Ql),r=await n.objectStore(Ql).get(kE(s));return await n.done,r}catch(e){if(e instanceof hi)ps.warn(e.message);else{const n=ar.create("idb-get",{originalErrorMessage:e?.message});ps.warn(n.message)}}}async function xv(s,e){try{const r=(await VE()).transaction(Ql,"readwrite");await r.objectStore(Ql).put(e,kE(s)),await r.done}catch(n){if(n instanceof hi)ps.warn(n.message);else{const r=ar.create("idb-set",{originalErrorMessage:n?.message});ps.warn(r.message)}}}function kE(s){return`${s.name}!${s.options.appId}`}const x2=1024,D2=30;class O2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new V2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Dv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>D2){const l=k2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ps.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Dv(),{heartbeatsToSend:n,unsentEntries:r}=M2(this._heartbeatsCache.heartbeats),l=sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ps.warn(e),""}}}function Dv(){return new Date().toISOString().substring(0,10)}function M2(s,e=x2){const n=[];let r=s.slice();for(const l of s){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),Ov(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Ov(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class V2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CE()?NE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await N2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ov(s){return sh(JSON.stringify({version:2,heartbeats:s})).length}function k2(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function P2(s){Bi(new ui("platform-logger",e=>new Yw(e),"PRIVATE")),Bi(new ui("heartbeat",e=>new O2(e),"PRIVATE")),Fn(ym,Cv,s),Fn(ym,Cv,"esm2020"),Fn("fire-js","")}P2("");function PE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const L2=PE,LE=new oa("auth","Firebase",PE());const ah=new Ch("@firebase/auth");function U2(s,...e){ah.logLevel<=Oe.WARN&&ah.warn(`Auth (${wo}): ${s}`,...e)}function Yc(s,...e){ah.logLevel<=Oe.ERROR&&ah.error(`Auth (${wo}): ${s}`,...e)}function Gn(s,...e){throw Xm(s,...e)}function oi(s,...e){return Xm(s,...e)}function Ym(s,e,n){const r={...L2(),[e]:n};return new oa("auth","Firebase",r).create(e,{appName:s.name})}function ms(s){return Ym(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function z2(s,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Gn(s,"argument-error"),Ym(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xm(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return LE.create(s,...e)}function me(s,e,...n){if(!s)throw Xm(e,...n)}function fs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Yc(e),new Error(e)}function gs(s,e){s||fs(e)}function Em(){return typeof self<"u"&&self.location?.href||""}function j2(){return Mv()==="http:"||Mv()==="https:"}function Mv(){return typeof self<"u"&&self.location?.protocol||null}function B2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(j2()||RE()||"connection"in navigator)?navigator.onLine:!0}function q2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class su{constructor(e,n){this.shortDelay=e,this.longDelay=n,gs(n>e,"Short delay should be less than long delay!"),this.isMobile=fw()||pw()}get(){return B2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $m(s,e){gs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class UE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const H2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const F2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G2=new su(3e4,6e4);function vs(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Hi(s,e,n,r,l={}){return zE(s,l,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const p=iu({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const g={method:e,headers:_,...u};return mw()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&So(s.emulatorConfig.host)&&(g.credentials="include"),UE.fetch()(await jE(s,s.config.apiHost,n,p),g)})}async function zE(s,e,n){s._canInitEmulator=!1;const r={...H2,...e};try{const l=new Q2(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw qc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[_,g]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw qc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw qc(s,"user-disabled",d);const T=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ym(s,T,g);Gn(s,T)}}catch(l){if(l instanceof hi)throw l;Gn(s,"network-request-failed",{message:String(l)})}}async function ru(s,e,n,r,l={}){const u=await Hi(s,e,n,r,l);return"mfaPendingCredential"in u&&Gn(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function jE(s,e,n,r){const l=`${e}${n}?${r}`,u=s,d=u.config.emulator?$m(s.config,l):`${s.config.apiScheme}://${l}`;return F2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function K2(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Q2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(oi(this.auth,"network-request-failed")),G2.get())})}}function qc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=oi(s,e,r);return l.customData._tokenResponse=n,l}function Vv(s){return s!==void 0&&s.enterprise!==void 0}class Y2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return K2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function X2(s,e){return Hi(s,"GET","/v2/recaptchaConfig",vs(s,e))}async function $2(s,e){return Hi(s,"POST","/v1/accounts:delete",e)}async function oh(s,e){return Hi(s,"POST","/v1/accounts:lookup",e)}function Bl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J2(s,e=!1){const n=gt(s),r=await n.getIdToken(e),l=Jm(r);me(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:Bl(sm(l.auth_time)),issuedAtTime:Bl(sm(l.iat)),expirationTime:Bl(sm(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function sm(s){return Number(s)*1e3}function Jm(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const l=TE(n);return l?JSON.parse(l):(Yc("Failed to decode base64 JWT payload"),null)}catch(l){return Yc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function kv(s){const e=Jm(s);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function yo(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof hi&&Z2(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Z2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class W2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Tm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function lh(s){const e=s.auth,n=await s.getIdToken(),r=await yo(s,oh(e,{idToken:n}));me(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?BE(l.providerUserInfo):[],d=tI(s.providerData,u),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,g=p?_:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Tm(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(s,T)}async function eI(s){const e=gt(s);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tI(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function BE(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function nI(s,e){const n=await zE(s,{},async()=>{const r=iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await jE(s,l,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return s.emulatorConfig&&So(s.emulatorConfig.host)&&(_.credentials="include"),UE.fetch()(d,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iI(s,e){return Hi(s,"POST","/v2/accounts:revokeToken",vs(s,e))}class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");const n=kv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:u}=await nI(e,n);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:u}=n,d=new lo;return r&&(me(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(me(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(me(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return fs("not implemented")}}function er(s,e){me(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new W2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Tm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await yo(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return J2(this,e)}reload(){return eI(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(ms(this.auth));const e=await this.getIdToken();return await yo(this,$2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,_=n._redirectEventId??void 0,g=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:A,emailVerified:O,isAnonymous:K,providerData:J,stsTokenManager:te}=n;me(A&&te,e,"internal-error");const ne=lo.fromJSON(this.name,te);me(typeof A=="string",e,"internal-error"),er(r,e.name),er(l,e.name),me(typeof O=="boolean",e,"internal-error"),me(typeof K=="boolean",e,"internal-error"),er(u,e.name),er(d,e.name),er(p,e.name),er(_,e.name),er(g,e.name),er(T,e.name);const fe=new ri({uid:A,auth:e,email:l,emailVerified:O,displayName:r,isAnonymous:K,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:ne,createdAt:g,lastLoginAt:T});return J&&Array.isArray(J)&&(fe.providerData=J.map(Te=>({...Te}))),_&&(fe._redirectEventId=_),fe}static async _fromIdTokenResponse(e,n,r=!1){const l=new lo;l.updateFromServerResponse(n);const u=new ri({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await lh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];me(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?BE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new lo;p.updateFromIdToken(r);const _=new ri({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Tm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(_,g),_}}const Pv=new Map;function ds(s){gs(s instanceof Function,"Expected a class definition");let e=Pv.get(s);return e?(gs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Pv.set(s,e),e)}class qE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qE.type="NONE";const Lv=qE;function Xc(s,e,n){return`firebase:${s}:${e}:${n}`}class uo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Xc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Xc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await oh(this.auth,{idToken:e}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new uo(ds(Lv),e,r);const l=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=l[0]||ds(Lv);const d=Xc(r,e.config.apiKey,e.name);let p=null;for(const g of n)try{const T=await g._get(d);if(T){let A;if(typeof T=="string"){const O=await oh(e,{idToken:T}).catch(()=>{});if(!O)break;A=await ri._fromGetAccountInfoResponse(e,O,T)}else A=ri._fromJSON(e,T);g!==u&&(p=A),u=g;break}}catch{}const _=l.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new uo(u,e,r):(u=_[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(d)}catch{}})),new uo(u,e,r))}}function Uv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YE(e))return"Blackberry";if(XE(e))return"Webos";if(FE(e))return"Safari";if((e.includes("chrome/")||GE(e))&&!e.includes("edge/"))return"Chrome";if(QE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function HE(s=nn()){return/firefox\//i.test(s)}function FE(s=nn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GE(s=nn()){return/crios\//i.test(s)}function KE(s=nn()){return/iemobile/i.test(s)}function QE(s=nn()){return/android/i.test(s)}function YE(s=nn()){return/blackberry/i.test(s)}function XE(s=nn()){return/webos/i.test(s)}function Zm(s=nn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function sI(s=nn()){return Zm(s)&&!!window.navigator?.standalone}function rI(){return gw()&&document.documentMode===10}function $E(s=nn()){return Zm(s)||QE(s)||XE(s)||YE(s)||/windows phone/i.test(s)||KE(s)}function JE(s,e=[]){let n;switch(s){case"Browser":n=Uv(nn());break;case"Worker":n=`${Uv(nn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wo}/${r}`}class aI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((d,p)=>{try{const _=e(u);d(_)}catch(_){p(_)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function oI(s,e={}){return Hi(s,"GET","/v2/passwordPolicy",vs(s,e))}const lI=6;class uI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class cI{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zv(this),this.idTokenSubscription=new zv(this),this.beforeStateQueue=new aI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ds(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await oh(this,{idToken:e}),r=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Rn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(ms(this));const n=e?gt(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oI(this),n=new uI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await iI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ds(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[ds(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const _=e.addObserver(n,r,l);return()=>{d=!0,_()}}else{const _=e.addObserver(n);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&U2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Es(s){return gt(s)}class zv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Aw(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hI(s){Nh=s}function ZE(s){return Nh.loadJS(s)}function fI(){return Nh.recaptchaEnterpriseScript}function dI(){return Nh.gapiScript}function mI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class pI{constructor(){this.enterprise=new gI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yI="recaptcha-enterprise",WE="NO_RECAPTCHA";class _I{constructor(e){this.type=yI,this.auth=Es(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{X2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new Y2(_);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,d(g.siteKey)}}).catch(_=>{p(_)})})}function l(u,d,p){const _=window.grecaptcha;Vv(_)?_.enterprise.ready(()=>{_.enterprise.execute(u,{action:e}).then(g=>{d(g)}).catch(()=>{d(WE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pI().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(p=>{if(!n&&Vv(window.grecaptcha))l(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=fI();_.length!==0&&(_+=p),ZE(_).then(()=>{l(p,u,d)}).catch(g=>{d(g)})}}).catch(p=>{d(p)})})}}async function jv(s,e,n,r=!1,l=!1){const u=new _I(s);let d;if(l)d=WE;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function uh(s,e,n,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await jv(s,e,n,n==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await jv(s,e,n,n==="getOobCode");return r(s,d)}else return Promise.reject(u)})}function vI(s,e){const n=la(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(ur(u,e??{}))return l;Gn(l,"already-initialized")}return n.initialize({options:e})}function EI(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ds);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function TI(s,e,n){const r=Es(s);me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=eT(e),{host:d,port:p}=bI(e),_=p===null?"":`:${p}`,g={url:`${u}//${d}${_}/`},T=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),me(ur(g,r.config.emulator)&&ur(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,So(d)?(wE(`${u}//${d}${_}`),IE("Auth",!0)):AI()}function eT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function bI(s){const e=eT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:Bv(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:Bv(d)}}}function Bv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function AI(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Wm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,n){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}async function SI(s,e){return Hi(s,"POST","/v1/accounts:signUp",e)}async function wI(s,e){return ru(s,"POST","/v1/accounts:signInWithPassword",vs(s,e))}async function tT(s,e){return Hi(s,"POST","/v1/accounts:sendOobCode",vs(s,e))}async function II(s,e){return tT(s,e)}async function RI(s,e){return tT(s,e)}async function CI(s,e){return ru(s,"POST","/v1/accounts:signInWithEmailLink",vs(s,e))}async function NI(s,e){return ru(s,"POST","/v1/accounts:signInWithEmailLink",vs(s,e))}class Yl extends Wm{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new Yl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Yl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uh(e,n,"signInWithPassword",wI);case"emailLink":return CI(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uh(e,r,"signUpPassword",SI);case"emailLink":return NI(e,{idToken:n,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function co(s,e){return ru(s,"POST","/v1/accounts:signInWithIdp",vs(s,e))}const xI="http://localhost";class ta extends Wm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=n;if(!r||!l)return null;const d=new ta(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return co(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,co(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,co(e,n)}buildRequest(){const e={requestUri:xI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=iu(n)}return e}}function DI(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OI(s){const e=Vl(kl(s)).link,n=e?Vl(kl(e)).deep_link_id:null,r=Vl(kl(s)).deep_link_id;return(r?Vl(kl(r)).link:null)||r||n||e||s}class ep{constructor(e){const n=Vl(kl(e)),r=n.apiKey??null,l=n.oobCode??null,u=DI(n.mode??null);me(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=OI(e);try{return new ep(n)}catch{return null}}}class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(e,n){return Yl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ep.parseLink(n);return me(r,"argument-error"),Yl._fromEmailAndCode(e,r.code,r.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class tp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class au extends tp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tr extends au{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch{return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";class hs extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ta._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hs.credential(n,r)}catch{return null}}}hs.GOOGLE_SIGN_IN_METHOD="google.com";hs.PROVIDER_ID="google.com";class nr extends au{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}}nr.GITHUB_SIGN_IN_METHOD="github.com";nr.PROVIDER_ID="github.com";class ir extends au{constructor(){super("twitter.com")}static credential(e,n){return ta._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ir.credential(n,r)}catch{return null}}}ir.TWITTER_SIGN_IN_METHOD="twitter.com";ir.PROVIDER_ID="twitter.com";async function MI(s,e){return ru(s,"POST","/v1/accounts:signUp",vs(s,e))}class na{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const u=await ri._fromIdTokenResponse(e,r,l),d=qv(r);return new na({user:u,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=qv(r);return new na({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function qv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class ch extends hi{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new ch(e,n,r,l)}}function nT(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(s,u,e,r):u})}async function VI(s,e,n=!1){const r=await yo(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return na._forOperation(s,"link",r)}async function kI(s,e,n=!1){const{auth:r}=s;if(Rn(r.app))return Promise.reject(ms(r));const l="reauthenticate";try{const u=await yo(s,nT(r,l,e,s),n);me(u.idToken,r,"internal-error");const d=Jm(u.idToken);me(d,r,"internal-error");const{sub:p}=d;return me(s.uid===p,r,"user-mismatch"),na._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&Gn(r,"user-mismatch"),u}}async function iT(s,e,n=!1){if(Rn(s.app))return Promise.reject(ms(s));const r="signIn",l=await nT(s,r,e),u=await na._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(u.user),u}async function PI(s,e){return iT(Es(s),e)}async function sT(s){const e=Es(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LI(s,e,n){const r=Es(s);await uh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",RI)}async function UI(s,e,n){if(Rn(s.app))return Promise.reject(ms(s));const r=Es(s),d=await uh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MI).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&sT(s),_}),p=await na._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function zI(s,e,n){return Rn(s.app)?Promise.reject(ms(s)):PI(gt(s),Io.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sT(s),r})}async function jI(s,e){const n=gt(s),l={requestType:"VERIFY_EMAIL",idToken:await s.getIdToken()},{email:u}=await II(n.auth,l);u!==s.email&&await s.reload()}async function BI(s,e){return Hi(s,"POST","/v1/accounts:update",e)}async function rT(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=gt(s),u={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=await yo(r,BI(r.auth,u));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const p=r.providerData.find(({providerId:_})=>_==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function qI(s,e){return gt(s).setPersistence(e)}function HI(s,e,n,r){return gt(s).onIdTokenChanged(e,n,r)}function FI(s,e,n){return gt(s).beforeAuthStateChanged(e,n)}function GI(s,e,n,r){return gt(s).onAuthStateChanged(e,n,r)}function KI(s){return gt(s).signOut()}const hh="__sak";class aT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const QI=1e3,YI=10;class oT extends aT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$E(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);rI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,YI):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},QI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}oT.type="LOCAL";const lT=oT;class uT extends aT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uT.type="SESSION";const cT=uT;function XI(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new xh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async g=>g(n.origin,u)),_=await XI(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];function np(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class $I{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,_)=>{const g=np("",20);l.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(A){const O=A;if(O.data.eventId===g)switch(O.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(O.data.response);break;default:clearTimeout(T),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Pi(){return window}function JI(s){Pi().location.href=s}function hT(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function ZI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WI(){return navigator?.serviceWorker?.controller||null}function eR(){return hT()?self:null}const fT="firebaseLocalStorageDb",tR=1,fh="firebaseLocalStorage",dT="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dh(s,e){return s.transaction([fh],e?"readwrite":"readonly").objectStore(fh)}function nR(){const s=indexedDB.deleteDatabase(fT);return new ou(s).toPromise()}function bm(){const s=indexedDB.open(fT,tR);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(fh,{keyPath:dT})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(fh)?e(r):(r.close(),await nR(),e(await bm()))})})}async function Hv(s,e,n){const r=Dh(s,!0).put({[dT]:e,value:n});return new ou(r).toPromise()}async function iR(s,e){const n=Dh(s,!1).get(e),r=await new ou(n).toPromise();return r===void 0?null:r.value}function Fv(s,e){const n=Dh(s,!0).delete(e);return new ou(n).toPromise()}const sR=800,rR=3;class mT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>rR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(eR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ZI(),!this.activeServiceWorker)return;this.sender=new $I(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bm();return await Hv(e,hh,"1"),await Fv(e,hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Hv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>iR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Dh(l,!1).getAll();return new ou(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mT.type="LOCAL";const aR=mT;new su(3e4,6e4);function pT(s,e){return e?ds(e):(me(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class ip extends Wm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oR(s){return iT(s.auth,new ip(s),s.bypassAuthState)}function lR(s){const{auth:e,user:n}=s;return me(n,e,"internal-error"),kI(n,new ip(s),s.bypassAuthState)}async function uR(s){const{auth:e,user:n}=s;return me(n,e,"internal-error"),VI(n,new ip(s),s.bypassAuthState)}class gT{constructor(e,n,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oR;case"linkViaPopup":case"linkViaRedirect":return uR;case"reauthViaPopup":case"reauthViaRedirect":return lR;default:Gn(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cR=new su(2e3,1e4);async function hR(s,e,n){if(Rn(s.app))return Promise.reject(oi(s,"operation-not-supported-in-this-environment"));const r=Es(s);z2(s,e,tp);const l=pT(r,n);return new Xr(r,"signInViaPopup",e,l).executeNotNull()}class Xr extends gT{constructor(e,n,r,l,u){super(e,n,l,u),this.provider=r,this.authWindow=null,this.pollId=null,Xr.currentPopupAction&&Xr.currentPopupAction.cancel(),Xr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const e=np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cR.get())};e()}}Xr.currentPopupAction=null;const fR="pendingRedirect",$c=new Map;class dR extends gT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const r=await mR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mR(s,e){const n=yR(e),r=gR(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function pR(s,e){$c.set(s._key(),e)}function gR(s){return ds(s._redirectPersistence)}function yR(s){return Xc(fR,s.config.apiKey,s.name)}async function _R(s,e,n=!1){if(Rn(s.app))return Promise.reject(ms(s));const r=Es(s),l=pT(r,e),d=await new dR(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const vR=600*1e3;class ER{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!yT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(oi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gv(e))}saveEventToCache(e){this.cachedEventUids.add(Gv(e)),this.lastProcessedEventTime=Date.now()}}function Gv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function yT({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function TR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yT(s);default:return!1}}async function bR(s,e={}){return Hi(s,"GET","/v1/projects",e)}const AR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SR=/^https?/;async function wR(s){if(s.config.emulator)return;const{authorizedDomains:e}=await bR(s);for(const n of e)try{if(IR(n))return}catch{}Gn(s,"unauthorized-domain")}function IR(s){const e=Em(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!SR.test(n))return!1;if(AR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const RR=new su(3e4,6e4);function Kv(){const s=Pi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function CR(s){return new Promise((e,n)=>{function r(){Kv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kv(),n(oi(s,"network-request-failed"))},timeout:RR.get()})}if(Pi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pi().gapi?.load)r();else{const l=mI("iframefcb");return Pi()[l]=()=>{gapi.load?r():n(oi(s,"network-request-failed"))},ZE(`${dI()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function NR(s){return Jc=Jc||CR(s),Jc}const xR=new su(5e3,15e3),DR="__/auth/iframe",OR="emulator/auth/iframe",MR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kR(s){const e=s.config;me(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?$m(e,OR):`https://${s.config.authDomain}/${DR}`,r={apiKey:e.apiKey,appName:s.name,v:wo},l=VR.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${iu(r).slice(1)}`}async function PR(s){const e=await NR(s),n=Pi().gapi;return me(n,s,"internal-error"),e.open({where:document.body,url:kR(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MR,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=oi(s,"network-request-failed"),p=Pi().setTimeout(()=>{u(d)},xR.get());function _(){Pi().clearTimeout(p),l(r)}r.ping(_).then(_,()=>{u(d)})}))}const LR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UR=500,zR=600,jR="_blank",BR="http://localhost";class Qv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qR(s,e,n,r=UR,l=zR){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...LR,width:r.toString(),height:l.toString(),top:u,left:d},g=nn().toLowerCase();n&&(p=GE(g)?jR:n),HE(g)&&(e=e||BR,_.scrollbars="yes");const T=Object.entries(_).reduce((O,[K,J])=>`${O}${K}=${J},`,"");if(sI(g)&&p!=="_self")return HR(e||"",p),new Qv(null);const A=window.open(e||"",p,T);me(A,s,"popup-blocked");try{A.focus()}catch{}return new Qv(A)}function HR(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const FR="__/auth/handler",GR="emulator/auth/handler",KR=encodeURIComponent("fac");async function Yv(s,e,n,r,l,u){me(s.config.authDomain,s,"auth-domain-config-required"),me(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:wo,eventId:l};if(e instanceof tp){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",bw(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(e instanceof au){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const _=await s._getAppCheckToken(),g=_?`#${KR}=${encodeURIComponent(_)}`:"";return`${QR(s)}?${iu(p).slice(1)}${g}`}function QR({config:s}){return s.emulator?$m(s,GR):`https://${s.authDomain}/${FR}`}const rm="webStorageSupport";class YR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cT,this._completeRedirectFn=_R,this._overrideRedirectResult=pR}async _openPopup(e,n,r,l){gs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Yv(e,n,r,Em(),l);return qR(e,u,np())}async _openRedirect(e,n,r,l){await this._originValidation(e);const u=await Yv(e,n,r,Em(),l);return JI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(gs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await PR(e),r=new ER(e);return n.register("authEvent",l=>(me(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rm,{type:rm},l=>{const u=l?.[0]?.[rm];u!==void 0&&n(!!u),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $E()||FE()||Zm()}}const XR=YR;var Xv="@firebase/auth",$v="1.12.0";class $R{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function JR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZR(s){Bi(new ui("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;me(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JE(s)},g=new cI(r,l,u,_);return EI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bi(new ui("auth-internal",e=>{const n=Es(e.getProvider("auth").getImmediate());return(r=>new $R(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fn(Xv,$v,JR(s)),Fn(Xv,$v,"esm2020")}const WR=300,eC=SE("authIdTokenMaxAge")||WR;let Jv=null;const tC=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>eC)return;const l=n?.token;Jv!==l&&(Jv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function nC(s=Qm()){const e=la(s,"auth");if(e.isInitialized())return e.getImmediate();const n=vI(s,{popupRedirectResolver:XR,persistence:[aR,lT,cT]}),r=SE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=tC(u.toString());FI(n,d,()=>d(n.currentUser)),HI(n,p=>d(p))}}const l=bE("auth");return l&&TI(n,`http://${l}`),n}function iC(){return document.getElementsByTagName("head")?.[0]??document}hI({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=oi("internal-error");u.customData=l,n(u)},r.type="text/javascript",r.charset="UTF-8",iC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZR("Browser");var Zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var or,_T;(function(){var s;function e(N,w){function C(){}C.prototype=w.prototype,N.F=w.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(V,D,P){for(var I=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)I[Ye-2]=arguments[Ye];return w.prototype[D].apply(V,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=N.g[0],C=N.g[1],D=N.g[2];let P=N.g[3],I;I=w+(P^C&(D^P))+V[0]+3614090360&4294967295,w=C+(I<<7&4294967295|I>>>25),I=P+(D^w&(C^D))+V[1]+3905402710&4294967295,P=w+(I<<12&4294967295|I>>>20),I=D+(C^P&(w^C))+V[2]+606105819&4294967295,D=P+(I<<17&4294967295|I>>>15),I=C+(w^D&(P^w))+V[3]+3250441966&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(P^C&(D^P))+V[4]+4118548399&4294967295,w=C+(I<<7&4294967295|I>>>25),I=P+(D^w&(C^D))+V[5]+1200080426&4294967295,P=w+(I<<12&4294967295|I>>>20),I=D+(C^P&(w^C))+V[6]+2821735955&4294967295,D=P+(I<<17&4294967295|I>>>15),I=C+(w^D&(P^w))+V[7]+4249261313&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(P^C&(D^P))+V[8]+1770035416&4294967295,w=C+(I<<7&4294967295|I>>>25),I=P+(D^w&(C^D))+V[9]+2336552879&4294967295,P=w+(I<<12&4294967295|I>>>20),I=D+(C^P&(w^C))+V[10]+4294925233&4294967295,D=P+(I<<17&4294967295|I>>>15),I=C+(w^D&(P^w))+V[11]+2304563134&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(P^C&(D^P))+V[12]+1804603682&4294967295,w=C+(I<<7&4294967295|I>>>25),I=P+(D^w&(C^D))+V[13]+4254626195&4294967295,P=w+(I<<12&4294967295|I>>>20),I=D+(C^P&(w^C))+V[14]+2792965006&4294967295,D=P+(I<<17&4294967295|I>>>15),I=C+(w^D&(P^w))+V[15]+1236535329&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(D^P&(C^D))+V[1]+4129170786&4294967295,w=C+(I<<5&4294967295|I>>>27),I=P+(C^D&(w^C))+V[6]+3225465664&4294967295,P=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(P^w))+V[11]+643717713&4294967295,D=P+(I<<14&4294967295|I>>>18),I=C+(P^w&(D^P))+V[0]+3921069994&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(D^P&(C^D))+V[5]+3593408605&4294967295,w=C+(I<<5&4294967295|I>>>27),I=P+(C^D&(w^C))+V[10]+38016083&4294967295,P=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(P^w))+V[15]+3634488961&4294967295,D=P+(I<<14&4294967295|I>>>18),I=C+(P^w&(D^P))+V[4]+3889429448&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(D^P&(C^D))+V[9]+568446438&4294967295,w=C+(I<<5&4294967295|I>>>27),I=P+(C^D&(w^C))+V[14]+3275163606&4294967295,P=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(P^w))+V[3]+4107603335&4294967295,D=P+(I<<14&4294967295|I>>>18),I=C+(P^w&(D^P))+V[8]+1163531501&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(D^P&(C^D))+V[13]+2850285829&4294967295,w=C+(I<<5&4294967295|I>>>27),I=P+(C^D&(w^C))+V[2]+4243563512&4294967295,P=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(P^w))+V[7]+1735328473&4294967295,D=P+(I<<14&4294967295|I>>>18),I=C+(P^w&(D^P))+V[12]+2368359562&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(C^D^P)+V[5]+4294588738&4294967295,w=C+(I<<4&4294967295|I>>>28),I=P+(w^C^D)+V[8]+2272392833&4294967295,P=w+(I<<11&4294967295|I>>>21),I=D+(P^w^C)+V[11]+1839030562&4294967295,D=P+(I<<16&4294967295|I>>>16),I=C+(D^P^w)+V[14]+4259657740&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(C^D^P)+V[1]+2763975236&4294967295,w=C+(I<<4&4294967295|I>>>28),I=P+(w^C^D)+V[4]+1272893353&4294967295,P=w+(I<<11&4294967295|I>>>21),I=D+(P^w^C)+V[7]+4139469664&4294967295,D=P+(I<<16&4294967295|I>>>16),I=C+(D^P^w)+V[10]+3200236656&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(C^D^P)+V[13]+681279174&4294967295,w=C+(I<<4&4294967295|I>>>28),I=P+(w^C^D)+V[0]+3936430074&4294967295,P=w+(I<<11&4294967295|I>>>21),I=D+(P^w^C)+V[3]+3572445317&4294967295,D=P+(I<<16&4294967295|I>>>16),I=C+(D^P^w)+V[6]+76029189&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(C^D^P)+V[9]+3654602809&4294967295,w=C+(I<<4&4294967295|I>>>28),I=P+(w^C^D)+V[12]+3873151461&4294967295,P=w+(I<<11&4294967295|I>>>21),I=D+(P^w^C)+V[15]+530742520&4294967295,D=P+(I<<16&4294967295|I>>>16),I=C+(D^P^w)+V[2]+3299628645&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(D^(C|~P))+V[0]+4096336452&4294967295,w=C+(I<<6&4294967295|I>>>26),I=P+(C^(w|~D))+V[7]+1126891415&4294967295,P=w+(I<<10&4294967295|I>>>22),I=D+(w^(P|~C))+V[14]+2878612391&4294967295,D=P+(I<<15&4294967295|I>>>17),I=C+(P^(D|~w))+V[5]+4237533241&4294967295,C=D+(I<<21&4294967295|I>>>11),I=w+(D^(C|~P))+V[12]+1700485571&4294967295,w=C+(I<<6&4294967295|I>>>26),I=P+(C^(w|~D))+V[3]+2399980690&4294967295,P=w+(I<<10&4294967295|I>>>22),I=D+(w^(P|~C))+V[10]+4293915773&4294967295,D=P+(I<<15&4294967295|I>>>17),I=C+(P^(D|~w))+V[1]+2240044497&4294967295,C=D+(I<<21&4294967295|I>>>11),I=w+(D^(C|~P))+V[8]+1873313359&4294967295,w=C+(I<<6&4294967295|I>>>26),I=P+(C^(w|~D))+V[15]+4264355552&4294967295,P=w+(I<<10&4294967295|I>>>22),I=D+(w^(P|~C))+V[6]+2734768916&4294967295,D=P+(I<<15&4294967295|I>>>17),I=C+(P^(D|~w))+V[13]+1309151649&4294967295,C=D+(I<<21&4294967295|I>>>11),I=w+(D^(C|~P))+V[4]+4149444226&4294967295,w=C+(I<<6&4294967295|I>>>26),I=P+(C^(w|~D))+V[11]+3174756917&4294967295,P=w+(I<<10&4294967295|I>>>22),I=D+(w^(P|~C))+V[2]+718787259&4294967295,D=P+(I<<15&4294967295|I>>>17),I=C+(P^(D|~w))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+P&4294967295}r.prototype.v=function(N,w){w===void 0&&(w=N.length);const C=w-this.blockSize,V=this.C;let D=this.h,P=0;for(;P<w;){if(D==0)for(;P<=C;)l(this,N,P),P+=this.blockSize;if(typeof N=="string"){for(;P<w;)if(V[D++]=N.charCodeAt(P++),D==this.blockSize){l(this,V),D=0;break}}else for(;P<w;)if(V[D++]=N[P++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)N[w++]=this.g[C]>>>V&255;return N};function u(N,w){var C=p;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=w(N)}function d(N,w){this.h=w;const C=[];let V=!0;for(let D=N.length-1;D>=0;D--){const P=N[D]|0;V&&P==w||(C[D]=P,V=!1)}this.g=C}var p={};function _(N){return-128<=N&&N<128?u(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return ne(g(-N));const w=[];let C=1;for(let V=0;N>=C;V++)w[V]=N/C|0,C*=4294967296;return new d(w,0)}function T(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return ne(T(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(w,8));let V=A;for(let P=0;P<N.length;P+=8){var D=Math.min(8,N.length-P);const I=parseInt(N.substring(P,P+D),w);D<8?(D=g(Math.pow(w,D)),V=V.j(D).add(g(I))):(V=V.j(C),V=V.add(g(I)))}return V}var A=_(0),O=_(1),K=_(16777216);s=d.prototype,s.m=function(){if(te(this))return-ne(this).m();let N=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);N+=(V>=0?V:4294967296+V)*w,w*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(J(this))return"0";if(te(this))return"-"+ne(this).toString(N);const w=g(Math.pow(N,6));var C=this;let V="";for(;;){const D=Qe(C,w).g;C=fe(C,D.j(w));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=D,J(C))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function J(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function te(N){return N.h==-1}s.l=function(N){return N=fe(this,N),te(N)?-1:J(N)?0:1};function ne(N){const w=N.g.length,C=[];for(let V=0;V<w;V++)C[V]=~N.g[V];return new d(C,~N.h).add(O)}s.abs=function(){return te(this)?ne(this):this},s.add=function(N){const w=Math.max(this.g.length,N.g.length),C=[];let V=0;for(let D=0;D<=w;D++){let P=V+(this.i(D)&65535)+(N.i(D)&65535),I=(P>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=I>>>16,P&=65535,I&=65535,C[D]=I<<16|P}return new d(C,C[C.length-1]&-2147483648?-1:0)};function fe(N,w){return N.add(ne(w))}s.j=function(N){if(J(this)||J(N))return A;if(te(this))return te(N)?ne(this).j(ne(N)):ne(ne(this).j(N));if(te(N))return ne(this.j(ne(N)));if(this.l(K)<0&&N.l(K)<0)return g(this.m()*N.m());const w=this.g.length+N.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const P=this.i(V)>>>16,I=this.i(V)&65535,Ye=N.i(D)>>>16,yt=N.i(D)&65535;C[2*V+2*D]+=I*yt,Te(C,2*V+2*D),C[2*V+2*D+1]+=P*yt,Te(C,2*V+2*D+1),C[2*V+2*D+1]+=I*Ye,Te(C,2*V+2*D+1),C[2*V+2*D+2]+=P*Ye,Te(C,2*V+2*D+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new d(C,0)};function Te(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function ye(N,w){this.g=N,this.h=w}function Qe(N,w){if(J(w))throw Error("division by zero");if(J(N))return new ye(A,A);if(te(N))return w=Qe(ne(N),w),new ye(ne(w.g),ne(w.h));if(te(w))return w=Qe(N,ne(w)),new ye(ne(w.g),w.h);if(N.g.length>30){if(te(N)||te(w))throw Error("slowDivide_ only works with positive integers.");for(var C=O,V=w;V.l(N)<=0;)C=at(C),V=at(V);var D=ke(C,1),P=ke(V,1);for(V=ke(V,2),C=ke(C,2);!J(V);){var I=P.add(V);I.l(N)<=0&&(D=D.add(C),P=I),V=ke(V,1),C=ke(C,1)}return w=fe(N,D.j(w)),new ye(D,w)}for(D=A;N.l(w)>=0;){for(C=Math.max(1,Math.floor(N.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=g(C),I=P.j(w);te(I)||I.l(N)>0;)C-=V,P=g(C),I=P.j(w);J(P)&&(P=O),D=D.add(P),N=fe(N,I)}return new ye(D,N)}s.B=function(N){return Qe(this,N).h},s.and=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&N.i(V);return new d(C,this.h&N.h)},s.or=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|N.i(V);return new d(C,this.h|N.h)},s.xor=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^N.i(V);return new d(C,this.h^N.h)};function at(N){const w=N.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(C,N.h)}function ke(N,w){const C=w>>5;w%=32;const V=N.g.length-C,D=[];for(let P=0;P<V;P++)D[P]=w>0?N.i(P+C)>>>w|N.i(P+C+1)<<32-w:N.i(P+C);return new d(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,_T=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=T,or=d}).apply(typeof Zv<"u"?Zv:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vT,Pl,ET,Zc,Am,TT,bT,AT;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(c,m){if(m)e:{var v=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var L=c[b];if(!(L in v))break e;v=v[L]}c=c[c.length-1],b=v[c],m=m(b),m!=b&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var u=u||{},d=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function _(c,m,v){return c.call.apply(c.bind,arguments)}function g(c,m,v){return g=_,g.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function A(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,L,B){for(var Z=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)Z[Ae-2]=arguments[Ae];return m.prototype[L].apply(b,Z)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function K(c){const m=c.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=c[b];return v}return[]}function J(c,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const B=L.length||0;c.length=v+B;for(let Z=0;Z<B;Z++)c[v+Z]=L[Z]}else c.push(L)}}class te{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ne(c){d.setTimeout(()=>{throw c},0)}function fe(){var c=N;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Te{constructor(){this.h=this.g=null}add(m,v){const b=ye.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ye=new te(()=>new Qe,c=>c.reset());class Qe{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ke=!1,N=new Te,w=()=>{const c=Promise.resolve(void 0);at=()=>{c.then(C)}};function C(){for(var c;c=fe();){try{c.h.call(c.g)}catch(v){ne(v)}var m=ye;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}ke=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function Ye(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}A(Ye,D),Ye.prototype.init=function(c,m){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ye.Z.h.call(this)},Ye.prototype.h=function(){Ye.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var yt="closure_listenable_"+(Math.random()*1e6|0),H=0;function ee(c,m,v,b,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++H,this.da=this.fa=!1}function ue(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pe(c,m,v){for(const b in c)m.call(v,c[b],b,c)}function ze(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(c,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)c[v]=b[v];for(let B=0;B<Q.length;B++)v=Q[B],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function ie(c){this.src=c,this.g={},this.h=0}ie.prototype.add=function(c,m,v,b,L){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const Z=be(c,m,b,L);return Z>-1?(m=c[Z],v||(m.fa=!1)):(m=new ee(m,this.src,B,!!b,L),m.fa=v,c.push(m)),m};function ge(c,m){const v=m.type;if(v in c.g){var b=c.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(ue(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function be(c,m,v,b){for(let L=0;L<c.length;++L){const B=c[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var Re="closure_lm_"+(Math.random()*1e6|0),_t={};function Ze(c,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Ze(c,m[B],v,b,L);return null}return v=yr(v),c&&c[yt]?c.J(m,v,p(b)?!!b.capture:!1,L):Fi(c,m,v,!1,b,L)}function Fi(c,m,v,b,L,B){if(!m)throw Error("Invalid event type");const Z=p(L)?!!L.capture:!!L;let Ae=Kn(c);if(Ae||(c[Re]=Ae=new ie(c)),v=Ae.add(m,v,b,Z,B),v.proxy)return v;if(b=Ts(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)P||(L=Z),L===void 0&&(L=!1),c.addEventListener(m.toString(),b,L);else if(c.attachEvent)c.attachEvent(gn(m.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ts(){function c(v){return m.call(c.src,c.listener,v)}const m=da;return c}function gr(c,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)gr(c,m[B],v,b,L);else b=p(b)?!!b.capture:!!b,v=yr(v),c&&c[yt]?(c=c.i,B=String(m).toString(),B in c.g&&(m=c.g[B],v=be(m,v,b,L),v>-1&&(ue(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[B],c.h--)))):c&&(c=Kn(c))&&(m=c.g[m.toString()],c=-1,m&&(c=be(m,v,b,L)),(v=c>-1?m[c]:null)&&Gi(v))}function Gi(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[yt])ge(m.i,c);else{var v=c.type,b=c.proxy;m.removeEventListener?m.removeEventListener(v,b,c.capture):m.detachEvent?m.detachEvent(gn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=Kn(m))?(ge(v,c),v.h==0&&(v.src=null,m[Re]=null)):ue(c)}}}function gn(c){return c in _t?_t[c]:_t[c]="on"+c}function da(c,m){if(c.da)c=!0;else{m=new Ye(m,this);const v=c.listener,b=c.ha||c.src;c.fa&&Gi(c),c=v.call(b,m)}return c}function Kn(c){return c=c[Re],c instanceof ie?c:null}var bs="__closure_events_fn_"+(Math.random()*1e9>>>0);function yr(c){return typeof c=="function"?c:(c[bs]||(c[bs]=function(m){return c.handleEvent(m)}),c[bs])}function dt(){V.call(this),this.i=new ie(this),this.M=this,this.G=null}A(dt,V),dt.prototype[yt]=!0,dt.prototype.removeEventListener=function(c,m,v,b){gr(this,c,m,v,b)};function Ge(c,m){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var L=m;m=new D(b,c),W(m,L)}L=!0;let B,Z;if(v)for(Z=v.length-1;Z>=0;Z--)B=m.g=v[Z],L=fi(B,b,!0,m)&&L;if(B=m.g=c,L=fi(B,b,!0,m)&&L,L=fi(B,b,!1,m)&&L,v)for(Z=0;Z<v.length;Z++)B=m.g=v[Z],L=fi(B,b,!1,m)&&L}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let b=0;b<v.length;b++)ue(v[b]);delete c.g[m],c.h--}}this.G=null},dt.prototype.J=function(c,m,v,b){return this.i.add(String(c),m,!1,v,b)},dt.prototype.K=function(c,m,v,b){return this.i.add(String(c),m,!0,v,b)};function fi(c,m,v,b){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const Z=m[B];if(Z&&!Z.da&&Z.capture==v){const Ae=Z.listener,Et=Z.ha||Z.src;Z.fa&&ge(c.i,Z),L=Ae.call(Et,b)!==!1&&L}}return L&&!b.defaultPrevented}function _r(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function ma(c){c.g=_r(()=>{c.g=null,c.i&&(c.i=!1,ma(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class qt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ma(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function se(c){V.call(this),this.h=c,this.g={}}A(se,V);var je=[];function on(c){Pe(c.g,function(m,v){this.g.hasOwnProperty(v)&&Gi(m)},c),c.g={}}se.prototype.N=function(){se.Z.N.call(this),on(this)},se.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yn=d.JSON.stringify,pa=d.JSON.parse,mu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function pu(){}function gu(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){D.call(this,"d")}A(Ht,D);function Nn(){D.call(this,"c")}A(Nn,D);var vt={},yu=null;function ga(){return yu=yu||new dt}vt.Ia="serverreachability";function _u(c){D.call(this,vt.Ia,c)}A(_u,D);function di(c){const m=ga();Ge(m,new _u(m))}vt.STAT_EVENT="statevent";function vr(c,m){D.call(this,vt.STAT_EVENT,c),this.stat=m}A(vr,D);function St(c){const m=ga();Ge(m,new vr(m,c))}vt.Ja="timingevent";function mi(c,m){D.call(this,vt.Ja,c),this.size=m}A(mi,D);function pi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function Xh(c,m,v,b,L,B){c.info(function(){if(c.g)if(B){var Z="",Ae=B.split("&");for(let He=0;He<Ae.length;He++){var Et=Ae[He].split("=");if(Et.length>1){const ct=Et[0];Et=Et[1];const Mn=ct.split("_");Z=Mn.length>=2&&Mn[1]=="type"?Z+(ct+"="+Et+"&"):Z+(ct+"=redacted&")}}}else Z=null;else Z=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+Z})}function vu(c,m,v,b,L,B,Z){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+Z})}function gi(c,m,v,b){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+$h(c,v)+(b?" "+b:"")})}function Er(c,m){c.info(function(){return"TIMEOUT: "+m})}Yn.prototype.info=function(){};function $h(c,m){if(!c.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var v=B[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let Z=1;Z<b.length;Z++)b[Z]=""}}}}return yn(B)}catch{return m}}var Tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Oo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mo;function br(){}A(br,pu),br.prototype.g=function(){return new XMLHttpRequest},Mo=new br;function Ki(c){return encodeURIComponent(String(c))}function Eu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Xn(c,m,v,b){this.j=c,this.i=m,this.l=v,this.S=b||1,this.V=new se(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var wt={},Ut={};function yi(c,m,v){c.M=1,c.A=Ar(Rt(m)),c.u=v,c.R=!0,ya(c,null)}function ya(c,m){c.F=Date.now(),_i(c),c.B=Rt(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),Ta(v.i,"t",b),c.C=0,v=c.j.L,c.h=new $n,c.g=ku(c.j,v?m:null,!c.u),c.P>0&&(c.O=new qt(g(c.Y,c,c.g),c.P)),m=c.V,v=c.g,b=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(je[0]=L.toString()),L=je);for(let B=0;B<L.length;B++){const Z=Ze(v,L[B],b||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),di(),Xh(c.i,c.v,c.B,c.l,c.S,c.u)}Xn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Wn(c)==3?m.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)e:{const Ae=Wn(this.g),Et=this.g.ya(),He=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Ae!=4||Et==7||(Et==8||He<=0?di(3):di(2)),vi(this);var m=this.g.ca();this.X=m;var v=Jh(this);if(this.o=m==200,vu(this.i,this.v,this.B,this.l,this.S,Ae,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(b)){var B=b;break t}}B=null}if(c=B)gi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,c);else{this.o=!1,this.m=3,St(12),_n(this),xn(this);break e}}if(this.R){c=!0;let ct;for(;!this.K&&this.C<v.length;)if(ct=bu(this,v),ct==Ut){Ae==4&&(this.m=4,St(14),c=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==wt){this.m=4,St(15),gi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else gi(this.i,this.l,ct,null),Ei(this,ct);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||v.length!=0||this.h.h||(this.m=1,St(16),c=!1),this.o=this.o&&c,!c)gi(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),xn(this);else if(v.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yo(Z),Z.P=!0,St(11))}}else gi(this.i,this.l,v,null),Ei(this,v);Ae==4&&_n(this),this.o&&!this.K&&(Ae==4?Du(this.j,this):(this.o=!1,_i(this)))}else Yi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),_n(this),xn(this)}}}catch{}};function Jh(c){if(!Tu(c))return c.g.la();const m=Ft(c.g);if(m==="")return"";let v="";const b=m.length,L=Wn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),xn(c),"";c.h.i=new d.TextDecoder}for(let B=0;B<b;B++)c.h.h=!0,v+=c.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function Tu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function bu(c,m){var v=c.C,b=m.indexOf(`
`,v);return b==-1?Ut:(v=Number(m.substring(v,b)),isNaN(v)?wt:(b+=1,b+v>m.length?Ut:(m=m.slice(b,b+v),c.C=b+v,m)))}Xn.prototype.cancel=function(){this.K=!0,_n(this)};function _i(c){c.T=Date.now()+c.H,_a(c,c.H)}function _a(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=pi(g(c.aa,c),m)}function vi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Xn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Er(this.i,this.B),this.M!=2&&(di(),St(17)),_n(this),this.m=2,xn(this)):_a(this,this.T-c)};function xn(c){c.j.I==0||c.K||Du(c.j,c)}function _n(c){vi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,on(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function Ei(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||bi(v.h,c))){if(!c.L&&bi(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ia(v),xs(v);else break e;xr(v),St(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=pi(g(v.Va,v),6e3));Ti(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ci(v,11)}else if((c.L||v.g==c)&&Ia(v),!I(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let He=L[m];const ct=He[0];if(!(ct<=v.K))if(v.K=ct,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const Mn=He[3];Mn!=null&&(v.ka=Mn,v.j.info("VER="+v.ka));const Ni=He[4];Ni!=null&&(v.za=Ni,v.j.info("SVER="+v.za));const ei=He[5];ei!=null&&typeof ei=="number"&&ei>0&&(b=1.5*ei,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const ti=c.g;if(ti){const Dr=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dr){var B=b.h;B.g||Dr.indexOf("spdy")==-1&&Dr.indexOf("quic")==-1&&Dr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Po(B,B.h),B.h=null))}if(b.G){const Ra=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(b.wa=Ra,Xe(b.J,b.G,Ra))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var Z=c;if(b.na=Vu(b,b.L?b.ba:null,b.W),Z.L){Lo(b.h,Z);var Ae=Z,Et=b.O;Et&&(Ae.H=Et),Ae.D&&(vi(Ae),_i(Ae)),b.g=Z}else Nu(b);v.i.length>0&&Ri(v)}else He[0]!="stop"&&He[0]!="close"||Ci(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ci(v,7):Ko(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}di(4)}catch{}}var It=class{constructor(c,m){this.g=c,this.map=m}};function Vo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ko(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ti(c){return c.h?1:c.g?c.g.size:0}function bi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Po(c,m){c.g?c.g.add(m):c.h=m}function Lo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Vo.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return K(c.i)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let L,B=null;b>=0?(L=c[v].substring(0,b),B=c[v].substring(b+1)):L=c[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof vn?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,As(this,c.u),this.h=c.h,zo(this,Ru(c.i)),this.m=c.m):c&&(m=String(c).match(Au))?(this.l=!1,zt(this,m[1]||"",!0),this.o=Ai(m[2]||""),this.g=Ai(m[3]||"",!0),As(this,m[4]),this.h=Ai(m[5]||"",!0),zo(this,m[6]||"",!0),this.m=Ai(m[7]||"")):(this.l=!1,this.i=new ws(null,this.l))}vn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Sr(m,Ea,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Sr(m,Ea,!0),"@"),c.push(Ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Sr(v,v.charAt(0)=="/"?jo:Su,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Sr(v,wu)),c.join("")},vn.prototype.resolve=function(c){const m=Rt(this);let v=!!c.j;v?zt(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var b=c.h;if(v)As(m,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let Z=0;Z<L.length;){const Ae=L[Z++];Ae=="."?b&&Z==L.length&&B.push(""):Ae==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&Z==L.length&&B.push("")):(B.push(Ae),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=c.i.toString()!=="",v?zo(m,Ru(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Rt(c){return new vn(c)}function zt(c,m,v){c.j=v?Ai(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function As(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function zo(c,m,v){m instanceof ws?(c.i=m,ba(c.i,c.l)):(v||(m=Sr(m,Ss)),c.i=new ws(m,c.l))}function Xe(c,m,v){c.i.set(m,v)}function Ar(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ai(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Sr(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,ln),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ln(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ea=/[#\/\?@]/g,Su=/[#\?:]/g,jo=/[#\?]/g,Ss=/[#\?@]/g,wu=/#/g;function ws(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function un(c){c.g||(c.g=new Map,c.h=0,c.i&&va(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ws.prototype,s.add=function(c,m){un(this),this.i=null,c=Is(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Iu(c,m){un(c),m=Is(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Bo(c,m){return un(c),m=Is(c,m),c.g.has(m)}s.forEach=function(c,m){un(this),this.g.forEach(function(v,b){v.forEach(function(L){c.call(m,L,b,this)},this)},this)};function qo(c,m){un(c);let v=[];if(typeof m=="string")Bo(c,m)&&(v=v.concat(c.g.get(Is(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return un(this),this.i=null,c=Is(this,c),Bo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=qo(this,c),c.length>0?String(c[0]):m):m};function Ta(c,m,v){Iu(c,m),v.length>0&&(c.i=null,c.g.set(Is(c,m),K(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Ki(v);v=qo(this,v);for(let B=0;B<v.length;B++){let Z=L;v[B]!==""&&(Z+="="+Ki(v[B])),c.push(Z)}}return this.i=c.join("&")};function Ru(c){const m=new ws;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Is(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ba(c,m){m&&!c.j&&(un(c),c.i=null,c.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(Iu(this,b),Ta(this,L,v))},c)),c.j=m}function Jn(c,m){const v=new Yn;if(d.Image){const b=new Image;b.onload=T(Dn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=T(Dn,v,"TestLoadImage: error",!1,m,b),b.onabort=T(Dn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(Dn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else m(!1)}function Ho(c,m){const v=new Yn,b=new AbortController,L=setTimeout(()=>{b.abort(),Dn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?Dn(v,"TestPingServer: ok",!0,m):Dn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Dn(v,"TestPingServer: error",!1,m)})}function Dn(c,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function Rs(){this.g=new mu}function Si(c){this.i=c.Sb||null,this.h=c.ab||!1}A(Si,pu),Si.prototype.g=function(){return new wr(this.i,this.h)};function wr(c,m){dt.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(wr,dt),s=wr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Zn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Aa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Aa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Cs(this):Zn(this),this.readyState==3&&Aa(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Cs(this))},s.Na=function(c){this.g&&(this.response=c,Cs(this))},s.ga=function(){this.g&&Cs(this)};function Cs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Zn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function On(c){let m="";return Pe(c,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Ir(c,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=On(v),typeof c=="string"?v!=null&&Ki(v):Xe(c,m,v))}function We(c){dt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(We,dt);var wi=/^https?$/i,Fo=["POST","PUT"];s=We.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mo.g(),this.g.onreadystatechange=O(g(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(B){Rr(this,B);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Fo,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Z]of v)this.g.setRequestHeader(B,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){Rr(this,B)}};function Rr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Go(c),Qi(c)}function Go(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ge(this,"complete"),Ge(this,"abort"),Qi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),We.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Cr(this):this.Xa())},s.Xa=function(){Cr(this)};function Cr(c){if(c.h&&typeof u<"u"){if(c.v&&Wn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ge(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const B=c.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let Z=String(c.D).match(Au)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),b=!wi.test(Z?Z.toLowerCase():"")}v=b}if(v)Ge(c,"complete"),Ge(c,"success");else{c.o=6;try{var L=Wn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Go(c)}}finally{Qi(c)}}}}function Qi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Ge(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),pa(m)}};function Ft(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(c){const m={};c=(c.g&&Wn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(I(c[b]))continue;var v=Eu(c[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}ze(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Ns(c){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,c),this.Za=Ii("retryDelaySeedMs",1e4,c),this.Ta=Ii("forwardChannelMaxRetries",2,c),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Vo(c&&c.concurrentRequestLimit),this.Ba=new Rs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ns.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,b){St(0),this.W=c,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Vu(this,null,this.W),Ri(this)};function Ko(c){if(Sa(c),c.I==3){var m=c.V++,v=Rt(c.J);if(Xe(v,"SID",c.M),Xe(v,"RID",m),Xe(v,"TYPE","terminate"),Nr(c,v),m=new Xn(c,c.j,m),m.M=2,m.A=Ar(Rt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=ku(m.j,null),m.g.ea(m.A)),m.F=Date.now(),_i(m)}Mu(c)}function xs(c){c.g&&(Yo(c),c.g.cancel(),c.g=null)}function Sa(c){xs(c),c.v&&(d.clearTimeout(c.v),c.v=null),Ia(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Ri(c){if(!ko(c.h)&&!c.m){c.m=!0;var m=c.Ea;at||w(),ke||(at(),ke=!0),N.add(m,c),c.D=0}}function wa(c,m){return Ti(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=pi(g(c.Ea,c,m),Ou(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Xn(this,this.j,c);let B=this.o;if(this.U&&(B?(B=M(B),W(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Cu(this,L,m),v=Rt(this.J),Xe(v,"RID",c),Xe(v,"CVER",22),this.G&&Xe(v,"X-HTTP-Session-Id",this.G),Nr(this,v),B&&(this.R?m="headers="+Ki(On(B))+"&"+m:this.u&&Ir(v,this.u,B)),Po(this.h,L),this.Ra&&Xe(v,"TYPE","init"),this.S?(Xe(v,"$req",m),Xe(v,"SID","null"),L.U=!0,yi(L,v,null)):yi(L,v,m),this.I=2}}else this.I==3&&(c?Qo(this,c):this.i.length==0||ko(this.h)||Qo(this))};function Qo(c,m){var v;m?v=m.l:v=c.V++;const b=Rt(c.J);Xe(b,"SID",c.M),Xe(b,"RID",v),Xe(b,"AID",c.K),Nr(c,b),c.u&&c.o&&Ir(b,c.u,c.o),v=new Xn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Cu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Po(c.h,v),yi(v,b,m)}function Nr(c,m){c.H&&Pe(c.H,function(v,b){Xe(m,b,v)}),c.l&&Pe({},function(v,b){Xe(m,b,v)})}function Cu(c,m,v){v=Math.min(c.i.length,v);const b=c.l?g(c.l.Ka,c.l,c):null;e:{var L=c.i;let Ae=-1;for(;;){const Et=["count="+v];Ae==-1?v>0?(Ae=L[0].g,Et.push("ofs="+Ae)):Ae=0:Et.push("ofs="+Ae);let He=!0;for(let ct=0;ct<v;ct++){var B=L[ct].g;const Mn=L[ct].map;if(B-=Ae,B<0)Ae=Math.max(0,L[ct].g-100),He=!1;else try{B="req"+B+"_"||"";try{var Z=Mn instanceof Map?Mn:Object.entries(Mn);for(const[Ni,ei]of Z){let ti=ei;p(ei)&&(ti=yn(ei)),Et.push(B+Ni+"="+encodeURIComponent(ti))}}catch(Ni){throw Et.push(B+"type="+encodeURIComponent("_badmap")),Ni}}catch{b&&b(Mn)}}if(He){Z=Et.join("&");break e}}Z=void 0}return c=c.i.splice(0,v),m.G=c,Z}function Nu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;at||w(),ke||(at(),ke=!0),N.add(m,c),c.A=0}}function xr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=pi(g(c.Da,c),Ou(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,xu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=pi(g(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),xs(this),xu(this))};function Yo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function xu(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Rt(c.na);Xe(m,"RID","rpc"),Xe(m,"SID",c.M),Xe(m,"AID",c.K),Xe(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(m,"TO",c.ia),Xe(m,"TYPE","xmlhttp"),Nr(c,m),c.u&&c.o&&Ir(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ar(Rt(m)),v.u=null,v.R=!0,ya(v,c)}s.Va=function(){this.C!=null&&(this.C=null,xs(this),xr(this),St(19))};function Ia(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Du(c,m){var v=null;if(c.g==m){Ia(c),Yo(c),c.g=null;var b=2}else if(bi(c.h,m))v=m.G,Lo(c.h,m),b=1;else return;if(c.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;b=ga(),Ge(b,new mi(b,v)),Ri(c)}else Nu(c);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&wa(c,m)||b==2&&xr(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function Ou(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Ci(c,m){if(c.j.info("Error code "+m),m==2){var v=g(c.bb,c),b=c.Ua;const L=!b;b=new vn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||zt(b,"https"),Ar(b),L?Jn(b.toString(),v):Ho(b.toString(),v)}else St(2);c.I=0,c.l&&c.l.pa(m),Mu(c),Sa(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Mu(c){if(c.I=0,c.ja=[],c.l){const m=Uo(c.h);(m.length!=0||c.i.length!=0)&&(J(c.ja,m),J(c.ja,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.oa()}}function Vu(c,m,v){var b=v instanceof vn?Rt(v):new vn(v);if(b.g!="")m&&(b.g=m+"."+b.g),As(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new vn(null);b&&zt(B,b),m&&(B.g=m),L&&As(B,L),v&&(B.h=v),b=B}return v=c.G,m=c.wa,v&&m&&Xe(b,v,m),Xe(b,"VER",c.ka),Nr(c,b),b}function ku(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new We(new Si({ab:v})):new We(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pu(){}s=Pu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ds(){}Ds.prototype.g=function(c,m){return new sn(c,m)};function sn(c,m){dt.call(this),this.g=new Ns(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!I(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Xi(this)}A(sn,dt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Ko(this.g)},sn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=yn(c),c=v);m.i.push(new It(m.Ya++,c)),m.I==3&&Ri(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,sn.Z.N.call(this)};function Lu(c){Ht.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}A(Lu,Ht);function Uu(){Nn.call(this),this.status=1}A(Uu,Nn);function Xi(c){this.g=c}A(Xi,Pu),Xi.prototype.ra=function(){Ge(this.g,"a")},Xi.prototype.qa=function(c){Ge(this.g,new Lu(c))},Xi.prototype.pa=function(c){Ge(this.g,new Uu)},Xi.prototype.oa=function(){Ge(this.g,"b")},Ds.prototype.createWebChannel=Ds.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,AT=function(){return new Ds},bT=function(){return ga()},TT=vt,Am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,Zc=Tr,Oo.COMPLETE="complete",ET=Oo,gu.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",dt.prototype.listen=dt.prototype.J,Pl=gu,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,vT=We}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let Ro="12.8.0";function sC(s){Ro=s}const ia=new Ch("@firebase/firestore");function so(){return ia.logLevel}function re(s,...e){if(ia.logLevel<=Oe.DEBUG){const n=e.map(sp);ia.debug(`Firestore (${Ro}): ${s}`,...n)}}function ys(s,...e){if(ia.logLevel<=Oe.ERROR){const n=e.map(sp);ia.error(`Firestore (${Ro}): ${s}`,...n)}}function _o(s,...e){if(ia.logLevel<=Oe.WARN){const n=e.map(sp);ia.warn(`Firestore (${Ro}): ${s}`,...n)}}function sp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function pe(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ST(s,r,n)}function ST(s,e,n){let r=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ys(r),new Error(r)}function Ke(s,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||ST(e,l,r)}function Ee(s,e){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class wT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class aC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class oC{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,n(_)):Promise.resolve();let u=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=u;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zr)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new wT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class lC{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class uC{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new lC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Wv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const r=u=>{u.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,re("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Wv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Wv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hC(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class rp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=hC(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=e.charAt(l[u]%62))}return r}}function Me(s,e){return s<e?-1:s>e?1:0}function Sm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return am(l)===am(u)?Me(l,u):am(l)?1:-1}return Me(s.length,e.length)}const fC=55296,dC=57343;function am(s){const e=s.charCodeAt(0);return e>=fC&&e<=dC}function vo(s,e,n){return s.length===e.length&&s.every(((r,l)=>n(r,e[l])))}const e0="__name__";class Vi{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&pe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const u=Vi.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Me(e.length,n.length)}static compareSegments(e,n){const r=Vi.isNumericId(e),l=Vi.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Vi.extractNumericId(e).compare(Vi.extractNumericId(n)):Sm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return or.fromString(e.substring(4,e.length-2))}}class rt extends Vi{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const mC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Vi{construct(e,n,r){return new $t(e,n,r)}static isValidIdentifier(e){return mC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===e0}static keyField(){return new $t([e0])}static fromServerFormat(e){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ae(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ae(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(u(),l++)}if(u(),d)throw new ae(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}class he{constructor(e){this.path=e}static fromPath(e){return new he(rt.fromString(e))}static fromName(e){return new he(rt.fromString(e).popFirst(5))}static empty(){return new he(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new rt(e.slice()))}}function IT(s,e,n){if(!n)throw new ae(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function pC(s,e,n,r){if(e===!0&&r===!0)throw new ae(X.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function t0(s){if(!he.isDocumentKey(s))throw new ae(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function n0(s){if(he.isDocumentKey(s))throw new ae(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function RT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Oh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":pe(12329,{type:typeof s})}function Wr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ae(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Oh(s);throw new ae(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Vt(s,e){const n={typeString:s};return e&&(n.value=e),n}function lu(s,e){if(!RT(s))throw new ae(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new ae(X.INVALID_ARGUMENT,n);return!0}const i0=-62135596800,s0=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*s0);return new ut(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<i0)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/s0}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-i0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Vt("string",ut._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new ut(0,0))}static max(){return new _e(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Xl=-1;function gC(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=_e.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new cr(l,he.empty(),e)}function yC(s){return new cr(s.readTime,s.key,Xl)}class cr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cr(_e.min(),he.empty(),Xl)}static max(){return new cr(_e.max(),he.empty(),Xl)}}function _C(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(s.documentKey,e.documentKey),n!==0?n:Me(s.largestBatchId,e.largestBatchId))}const vC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Co(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==vC)throw s;re("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):$.reject(n)}static resolve(e){return new $(((n,r)=>{n(e)}))}static reject(e){return new $(((n,r)=>{r(e)}))}static waitFor(e){return new $(((n,r)=>{let l=0,u=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&n()}),(_=>r(_)))})),d=!0,u===l&&n()}))}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next((l=>l?$.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(e,n){return new $(((r,l)=>{const u=e.length,d=new Array(u);let p=0;for(let _=0;_<u;_++){const g=_;n(e[g]).next((T=>{d[g]=T,++p,p===u&&r(d)}),(T=>l(T)))}}))}static doWhile(e,n){return new $(((r,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):r()};u()}))}}function TC(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(s){return s.name==="IndexedDbTransactionError"}class Mh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mh.ce=-1;const ap=-1;function Vh(s){return s==null}function dh(s){return s===0&&1/s==-1/0}function bC(s){return typeof s=="number"&&Number.isInteger(s)&&!dh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const CT="";function AC(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=r0(e)),e=SC(s.get(n),e);return r0(e)}function SC(s,e){let n=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case CT:n+="";break;default:n+=u}}return n}function r0(s){return s+CT+""}function a0(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function ua(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function NT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}}class Fc{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,r,l,u){this.key=e,this.value=n,this.color=r??Xt.RED,this.left=l??Xt.EMPTY,this.right=u??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,u){return new Xt(e??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Xt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pe(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw pe(57766)}get value(){throw pe(16141)}get color(){throw pe(16727)}get left(){throw pe(29726)}get right(){throw pe(36894)}copy(e,n,r,l,u){return this}insert(e,n,r){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new o0(this.data.getIterator())}getIteratorFrom(e){return new o0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class o0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ai{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new ai([])}unionWith(e){let n=new Lt($t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ai(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class xT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new xT("Invalid base64 string: "+u):u}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const wC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(s){if(Ke(!!s,39018),typeof s=="string"){let e=0;const n=wC.exec(s);if(Ke(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(s.seconds),nanos:At(s.nanos)}}function At(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function fr(s){return typeof s=="string"?Jt.fromBase64String(s):Jt.fromUint8Array(s)}const DT="server_timestamp",OT="__type__",MT="__previous_value__",VT="__local_write_time__";function op(s){return(s?.mapValue?.fields||{})[OT]?.stringValue===DT}function kh(s){const e=s.mapValue.fields[MT];return op(e)?kh(e):e}function $l(s){const e=hr(s.mapValue.fields[VT].timestampValue);return new ut(e.seconds,e.nanos)}class IC{constructor(e,n,r,l,u,d,p,_,g,T,A){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=g,this.isUsingEmulator=T,this.apiKey=A}}const mh="(default)";class Jl{constructor(e,n){this.projectId=e,this.database=n||mh}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===mh}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}function RC(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ae(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(s.options.projectId,e)}const kT="__type__",CC="__max__",Gc={mapValue:{}},PT="__vector__",ph="value";function dr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?op(s)?4:xC(s)?9007199254740991:NC(s)?10:11:pe(28295,{value:s})}function qi(s,e){if(s===e)return!0;const n=dr(s);if(n!==dr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return $l(s).isEqual($l(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=hr(l.timestampValue),p=hr(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return fr(l.bytesValue).isEqual(fr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return At(l.geoPointValue.latitude)===At(u.geoPointValue.latitude)&&At(l.geoPointValue.longitude)===At(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return At(l.integerValue)===At(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=At(l.doubleValue),p=At(u.doubleValue);return d===p?dh(d)===dh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return vo(s.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if(a0(d)!==a0(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!qi(d[_],p[_])))return!1;return!0})(s,e);default:return pe(52216,{left:s})}}function Zl(s,e){return(s.values||[]).find((n=>qi(n,e)))!==void 0}function Eo(s,e){if(s===e)return 0;const n=dr(s),r=dr(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=At(u.integerValue||u.doubleValue),_=At(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,e);case 3:return l0(s.timestampValue,e.timestampValue);case 4:return l0($l(s),$l(e));case 5:return Sm(s.stringValue,e.stringValue);case 6:return(function(u,d){const p=fr(u),_=fr(d);return p.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),_=d.split("/");for(let g=0;g<p.length&&g<_.length;g++){const T=Me(p[g],_[g]);if(T!==0)return T}return Me(p.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=Me(At(u.latitude),At(d.latitude));return p!==0?p:Me(At(u.longitude),At(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return u0(s.arrayValue,e.arrayValue);case 10:return(function(u,d){const p=u.fields||{},_=d.fields||{},g=p[ph]?.arrayValue,T=_[ph]?.arrayValue,A=Me(g?.values?.length||0,T?.values?.length||0);return A!==0?A:u0(g,T)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Gc.mapValue&&d===Gc.mapValue)return 0;if(u===Gc.mapValue)return 1;if(d===Gc.mapValue)return-1;const p=u.fields||{},_=Object.keys(p),g=d.fields||{},T=Object.keys(g);_.sort(),T.sort();for(let A=0;A<_.length&&A<T.length;++A){const O=Sm(_[A],T[A]);if(O!==0)return O;const K=Eo(p[_[A]],g[T[A]]);if(K!==0)return K}return Me(_.length,T.length)})(s.mapValue,e.mapValue);default:throw pe(23264,{he:n})}}function l0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Me(s,e);const n=hr(s),r=hr(e),l=Me(n.seconds,r.seconds);return l!==0?l:Me(n.nanos,r.nanos)}function u0(s,e){const n=s.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=Eo(n[l],r[l]);if(u)return u}return Me(n.length,r.length)}function To(s){return wm(s)}function wm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=hr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return fr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return he.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=wm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${wm(n.fields[d])}`;return l+"}"})(s.mapValue):pe(61005,{value:s})}function Wc(s){switch(dr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kh(s);return e?16+Wc(e):16;case 5:return 2*s.stringValue.length;case 6:return fr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+Wc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return ua(r.fields,((u,d)=>{l+=u.length+Wc(d)})),l})(s.mapValue);default:throw pe(13486,{value:s})}}function c0(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Im(s){return!!s&&"integerValue"in s}function lp(s){return!!s&&"arrayValue"in s}function h0(s){return!!s&&"nullValue"in s}function f0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function eh(s){return!!s&&"mapValue"in s}function NC(s){return(s?.mapValue?.fields||{})[kT]?.stringValue===PT}function ql(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ua(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ql(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ql(s.arrayValue.values[n]);return e}return{...s}}function xC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===CC}class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(n)}setAll(e){let n=$t.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const _=this.getFieldsMap(n);this.applyChanges(_,r,l),r={},l=[],n=p.popLast()}d?r[p.lastSegment()]=ql(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];eh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){ua(n,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new qn(ql(this.value))}}function LT(s){const e=[];return ua(s.fields,((n,r)=>{const l=new $t([n]);if(eh(r)){const u=LT(r.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new ai(e)}class tn{constructor(e,n,r,l,u,d,p){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new tn(e,0,_e.min(),_e.min(),_e.min(),qn.empty(),0)}static newFoundDocument(e,n,r,l){return new tn(e,1,n,_e.min(),r,l,0)}static newNoDocument(e,n){return new tn(e,2,n,_e.min(),_e.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,_e.min(),_e.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gh{constructor(e,n){this.position=e,this.inclusive=n}}function d0(s,e,n){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],d=s.position[l];if(u.field.isKeyField()?r=he.comparator(he.fromName(d.referenceValue),n.key):r=Eo(d,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function m0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!qi(s.position[n],e.position[n]))return!1;return!0}class yh{constructor(e,n="asc"){this.field=e,this.dir=n}}function DC(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class UT{}class Mt extends UT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new MC(e,n,r):n==="array-contains"?new PC(e,r):n==="in"?new LC(e,r):n==="not-in"?new UC(e,r):n==="array-contains-any"?new zC(e,r):new Mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new VC(e,r):new kC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Eo(n,this.value)):n!==null&&dr(this.value)===dr(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends UT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ci(e,n)}matches(e){return zT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zT(s){return s.op==="and"}function jT(s){return OC(s)&&zT(s)}function OC(s){for(const e of s.filters)if(e instanceof ci)return!1;return!0}function Rm(s){if(s instanceof Mt)return s.field.canonicalString()+s.op.toString()+To(s.value);if(jT(s))return s.filters.map((e=>Rm(e))).join(",");{const e=s.filters.map((n=>Rm(n))).join(",");return`${s.op}(${e})`}}function BT(s,e){return s instanceof Mt?(function(r,l){return l instanceof Mt&&r.op===l.op&&r.field.isEqual(l.field)&&qi(r.value,l.value)})(s,e):s instanceof ci?(function(r,l){return l instanceof ci&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,p)=>u&&BT(d,l.filters[p])),!0):!1})(s,e):void pe(19439)}function qT(s){return s instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`})(s):s instanceof ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(qT).join(" ,")+"}"})(s):"Filter"}class MC extends Mt{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class VC extends Mt{constructor(e,n){super(e,"in",n),this.keys=HT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class kC extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=HT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function HT(s,e){return(e.arrayValue?.values||[]).map((n=>he.fromName(n.referenceValue)))}class PC extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lp(n)&&Zl(n.arrayValue,this.value)}}class LC extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class UC extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zl(this.value.arrayValue,n)}}class zC extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Zl(this.value.arrayValue,r)))}}class jC{constructor(e,n=null,r=[],l=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function p0(s,e=null,n=[],r=[],l=null,u=null,d=null){return new jC(s,e,n,r,l,u,d)}function up(s){const e=Ee(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Rm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>To(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>To(r))).join(",")),e.Te=n}return e.Te}function cp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!DC(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!BT(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!m0(s.startAt,e.startAt)&&m0(s.endAt,e.endAt)}function Cm(s){return he.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class uu{constructor(e,n=null,r=[],l=[],u=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function BC(s,e,n,r,l,u,d,p){return new uu(s,e,n,r,l,u,d,p)}function hp(s){return new uu(s)}function g0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function qC(s){return he.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function FT(s){return s.collectionGroup!==null}function Hl(s){const e=Ee(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Lt($t.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new yh(u,r))})),n.has($t.keyField().canonicalString())||e.Ie.push(new yh($t.keyField(),r))}return e.Ie}function Li(s){const e=Ee(s);return e.Ee||(e.Ee=HC(e,Hl(s))),e.Ee}function HC(s,e){if(s.limitType==="F")return p0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new yh(l.field,u)}));const n=s.endAt?new gh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new gh(s.startAt.position,s.startAt.inclusive):null;return p0(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Nm(s,e){const n=s.filters.concat([e]);return new uu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function xm(s,e,n){return new uu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Ph(s,e){return cp(Li(s),Li(e))&&s.limitType===e.limitType}function GT(s){return`${up(Li(s))}|lt:${s.limitType}`}function ro(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>qT(l))).join(", ")}]`),Vh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>To(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>To(l))).join(",")),`Target(${r})`})(Li(s))}; limitType=${s.limitType})`}function Lh(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):he.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of Hl(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,_){const g=d0(d,p,_);return d.inclusive?g<=0:g<0})(r.startAt,Hl(r),l)||r.endAt&&!(function(d,p,_){const g=d0(d,p,_);return d.inclusive?g>=0:g>0})(r.endAt,Hl(r),l))})(s,e)}function FC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function KT(s){return(e,n)=>{let r=!1;for(const l of Hl(s)){const u=GC(l,e,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function GC(s,e,n){const r=s.field.isKeyField()?he.comparator(e.key,n.key):(function(u,d,p){const _=d.data.field(u),g=p.data.field(u);return _!==null&&g!==null?Eo(_,g):pe(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return pe(19790,{direction:s.dir})}}class ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,((n,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return NT(this.inner)}size(){return this.innerSize}}const KC=new ft(he.comparator);function _s(){return KC}const QT=new ft(he.comparator);function Ll(...s){let e=QT;for(const n of s)e=e.insert(n.key,n);return e}function YT(s){let e=QT;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function $r(){return Fl()}function XT(){return Fl()}function Fl(){return new ca((s=>s.toString()),((s,e)=>s.isEqual(e)))}const QC=new ft(he.comparator),YC=new Lt(he.comparator);function Ve(...s){let e=YC;for(const n of s)e=e.add(n);return e}const XC=new Lt(Me);function $C(){return XC}function fp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function $T(s){return{integerValue:""+s}}function JC(s,e){return bC(e)?$T(e):fp(s,e)}class Uh{constructor(){this._=void 0}}function ZC(s,e,n){return s instanceof Wl?(function(l,u){const d={fields:{[OT]:{stringValue:DT},[VT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&op(u)&&(u=kh(u)),u&&(d.fields[MT]=u),{mapValue:d}})(n,e):s instanceof eu?ZT(s,e):s instanceof tu?WT(s,e):(function(l,u){const d=JT(l,u),p=y0(d)+y0(l.Ae);return Im(d)&&Im(l.Ae)?$T(p):fp(l.serializer,p)})(s,e)}function WC(s,e,n){return s instanceof eu?ZT(s,e):s instanceof tu?WT(s,e):n}function JT(s,e){return s instanceof _h?(function(r){return Im(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Wl extends Uh{}class eu extends Uh{constructor(e){super(),this.elements=e}}function ZT(s,e){const n=e1(e);for(const r of s.elements)n.some((l=>qi(l,r)))||n.push(r);return{arrayValue:{values:n}}}class tu extends Uh{constructor(e){super(),this.elements=e}}function WT(s,e){let n=e1(e);for(const r of s.elements)n=n.filter((l=>!qi(l,r)));return{arrayValue:{values:n}}}class _h extends Uh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function y0(s){return At(s.integerValue||s.doubleValue)}function e1(s){return lp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class eN{constructor(e,n){this.field=e,this.transform=n}}function tN(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof eu&&l instanceof eu||r instanceof tu&&l instanceof tu?vo(r.elements,l.elements,qi):r instanceof _h&&l instanceof _h?qi(r.Ae,l.Ae):r instanceof Wl&&l instanceof Wl})(s.transform,e.transform)}class nN{constructor(e,n){this.version=e,this.transformResults=n}}class Ui{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ui}static exists(e){return new Ui(void 0,e)}static updateTime(e){return new Ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class zh{}function t1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new i1(s.key,Ui.none()):new cu(s.key,s.data,Ui.none());{const n=s.data,r=qn.empty();let l=new Lt($t.comparator);for(let u of e.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new ha(s.key,r,new ai(l.toArray()),Ui.none())}}function iN(s,e,n){s instanceof cu?(function(l,u,d){const p=l.value.clone(),_=v0(l.fieldTransforms,u,d.transformResults);p.setAll(_),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,n):s instanceof ha?(function(l,u,d){if(!th(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=v0(l.fieldTransforms,u,d.transformResults),_=u.data;_.setAll(n1(l)),_.setAll(p),u.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Gl(s,e,n,r){return s instanceof cu?(function(u,d,p,_){if(!th(u.precondition,d))return p;const g=u.value.clone(),T=E0(u.fieldTransforms,_,d);return g.setAll(T),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null})(s,e,n,r):s instanceof ha?(function(u,d,p,_){if(!th(u.precondition,d))return p;const g=E0(u.fieldTransforms,_,d),T=d.data;return T.setAll(n1(u)),T.setAll(g),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(s,e,n,r):(function(u,d,p){return th(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,n)}function sN(s,e){let n=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=JT(r.transform,l||null);u!=null&&(n===null&&(n=qn.empty()),n.set(r.field,u))}return n||null}function _0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&vo(r,l,((u,d)=>tN(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class cu extends zh{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ha extends zh{constructor(e,n,r,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function n1(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function v0(s,e,n){const r=new Map;Ke(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let l=0;l<n.length;l++){const u=s[l],d=u.transform,p=e.data.field(u.field);r.set(u.field,WC(d,p,n[l]))}return r}function E0(s,e,n){const r=new Map;for(const l of s){const u=l.transform,d=n.data.field(l.field);r.set(l.field,ZC(u,d,e))}return r}class i1 extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rN extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class aN{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&iN(u,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=XT();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(l.key)?null:p;const _=t1(d,p);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(_e.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,((n,r)=>_0(n,r)))&&vo(this.baseMutations,e.baseMutations,((n,r)=>_0(n,r)))}}class dp{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return QC})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new dp(e,n,r,l)}}class oN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class lN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ot,Ue;function uN(s){switch(s){case X.OK:return pe(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return pe(15467,{code:s})}}function s1(s){if(s===void 0)return ys("GRPC error has no .code"),X.UNKNOWN;switch(s){case Ot.OK:return X.OK;case Ot.CANCELLED:return X.CANCELLED;case Ot.UNKNOWN:return X.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return X.INTERNAL;case Ot.UNAVAILABLE:return X.UNAVAILABLE;case Ot.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ot.NOT_FOUND:return X.NOT_FOUND;case Ot.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ot.ABORTED:return X.ABORTED;case Ot.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ot.DATA_LOSS:return X.DATA_LOSS;default:return pe(39323,{code:s})}}(Ue=Ot||(Ot={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function cN(){return new TextEncoder}const hN=new or([4294967295,4294967295],0);function T0(s){const e=cN().encode(s),n=new _T;return n.update(e),new Uint8Array(n.digest())}function b0(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new or([n,r],0),new or([l,u],0)]}class mp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(r<0)throw new Ul(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=or.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(or.fromNumber(r)));return l.compare(hN)===1&&(l=new or([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=T0(e),[r,l]=b0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new mp(u,l,n);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=T0(e),[r,l]=b0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.be(d)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jh{constructor(e,n,r,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jh(_e.min(),l,new ft(Me),_s(),Ve())}}class hu{constructor(e,n,r,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hu(r,n,Ve(),Ve(),Ve())}}class nh{constructor(e,n,r,l){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=l}}class r1{constructor(e,n){this.targetId=e,this.Ce=n}}class a1{constructor(e,n,r=Jt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class A0{constructor(){this.ve=0,this.Fe=S0(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),r=Ve();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:pe(38017,{changeType:u})}})),new hu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=S0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class fN{constructor(e){this.Ge=e,this.ze=new Map,this.je=_s(),this.He=Kc(),this.Je=Kc(),this.Ze=new ft(Me)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:pe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Cm(u))if(r===0){const d=new he(u.path);this.et(n,d,tn.newNoDocument(d,_e.min()))}else Ke(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(n);const g=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let d,p;try{d=fr(r).toUint8Array()}catch(_){if(_ instanceof xT)return _o("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new mp(d,l,u)}catch(_){return _o(_ instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&Cm(p.target)){const _=new he(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,tn.newNoDocument(_,e))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let r=Ve();this.Je.forEach(((u,d)=>{let p=!0;d.forEachWhile((_=>{const g=this.ot(_);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new jh(e,n,this.Ze,this.je,r);return this.je=_s(),this.He=Kc(),this.Je=Kc(),this.Ze=new ft(Me),l}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new A0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Lt(Me),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Lt(Me),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new A0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Kc(){return new ft(he.comparator)}function S0(){return new ft(he.comparator)}const dN={asc:"ASCENDING",desc:"DESCENDING"},mN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pN={and:"AND",or:"OR"};class gN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dm(s,e){return s.useProto3Json||Vh(e)?e:{value:e}}function vh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function yN(s,e){return vh(s,e.toTimestamp())}function zi(s){return Ke(!!s,49232),_e.fromTimestamp((function(n){const r=hr(n);return new ut(r.seconds,r.nanos)})(s))}function pp(s,e){return Om(s,e).canonicalString()}function Om(s,e){const n=(function(l){return new rt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function l1(s){const e=rt.fromString(s);return Ke(d1(e),10190,{key:e.toString()}),e}function Mm(s,e){return pp(s.databaseId,e.path)}function om(s,e){const n=l1(e);if(n.get(1)!==s.databaseId.projectId)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new he(c1(n))}function u1(s,e){return pp(s.databaseId,e)}function _N(s){const e=l1(s);return e.length===4?rt.emptyPath():c1(e)}function Vm(s){return new rt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function c1(s){return Ke(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function w0(s,e,n){return{name:Mm(s,e),fields:n.value.mapValue.fields}}function vN(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:pe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(g,T){return g.useProto3Json?(Ke(T===void 0||typeof T=="string",58123),Jt.fromBase64String(T||"")):(Ke(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Jt.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(g){const T=g.code===void 0?X.UNKNOWN:s1(g.code);return new ae(T,g.message||"")})(d);n=new a1(r,l,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=om(s,r.document.name),u=zi(r.document.updateTime),d=r.document.createTime?zi(r.document.createTime):_e.min(),p=new qn({mapValue:{fields:r.document.fields}}),_=tn.newFoundDocument(l,u,d,p),g=r.targetIds||[],T=r.removedTargetIds||[];n=new nh(g,T,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=om(s,r.document),u=r.readTime?zi(r.readTime):_e.min(),d=tn.newNoDocument(l,u),p=r.removedTargetIds||[];n=new nh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=om(s,r.document),u=r.removedTargetIds||[];n=new nh([],u,l,null)}else{if(!("filter"in e))return pe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new lN(l,u),p=r.targetId;n=new r1(p,d)}}return n}function EN(s,e){let n;if(e instanceof cu)n={update:w0(s,e.key,e.value)};else if(e instanceof i1)n={delete:Mm(s,e.key)};else if(e instanceof ha)n={update:w0(s,e.key,e.data),updateMask:NN(e.fieldMask)};else{if(!(e instanceof rN))return pe(16599,{dt:e.type});n={verify:Mm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,d){const p=d.transform;if(p instanceof Wl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof eu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof tu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof _h)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pe(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:yN(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:pe(27497)})(s,e.precondition)),n}function TN(s,e){return s&&s.length>0?(Ke(e!==void 0,14353),s.map((n=>(function(l,u){let d=l.updateTime?zi(l.updateTime):zi(u);return d.isEqual(_e.min())&&(d=zi(u)),new nN(d,l.transformResults||[])})(n,e)))):[]}function bN(s,e){return{documents:[u1(s,e.path)]}}function AN(s,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=u1(s,l);const u=(function(g){if(g.length!==0)return f1(ci.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(g){if(g.length!==0)return g.map((T=>(function(O){return{field:ao(O.field),direction:IN(O.dir)}})(T)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Dm(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:l}}function SN(s){let e=_N(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Ke(r===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(A){const O=h1(A);return O instanceof ci&&jT(O)?O.getFilters():[O]})(n.where));let d=[];n.orderBy&&(d=(function(A){return A.map((O=>(function(J){return new yh(oo(J.field),(function(ne){switch(ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(O)))})(n.orderBy));let p=null;n.limit&&(p=(function(A){let O;return O=typeof A=="object"?A.value:A,Vh(O)?null:O})(n.limit));let _=null;n.startAt&&(_=(function(A){const O=!!A.before,K=A.values||[];return new gh(K,O)})(n.startAt));let g=null;return n.endAt&&(g=(function(A){const O=!A.before,K=A.values||[];return new gh(K,O)})(n.endAt)),BC(e,l,d,u,p,"F",_,g)}function wN(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function h1(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=oo(n.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=oo(n.unaryFilter.field);return Mt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=oo(n.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=oo(n.unaryFilter.field);return Mt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pe(61313);default:return pe(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Mt.create(oo(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pe(58110);default:return pe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ci.create(n.compositeFilter.filters.map((r=>h1(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pe(1026)}})(n.compositeFilter.op))})(s):pe(30097,{filter:s})}function IN(s){return dN[s]}function RN(s){return mN[s]}function CN(s){return pN[s]}function ao(s){return{fieldPath:s.canonicalString()}}function oo(s){return $t.fromServerFormat(s.fieldPath)}function f1(s){return s instanceof Mt?(function(n){if(n.op==="=="){if(f0(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(h0(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(f0(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(h0(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:RN(n.op),value:n.value}}})(s):s instanceof ci?(function(n){const r=n.getFilters().map((l=>f1(l)));return r.length===1?r[0]:{compositeFilter:{op:CN(n.op),filters:r}}})(s):pe(54877,{filter:s})}function NN(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function d1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function m1(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class sr{constructor(e,n,r,l,u=_e.min(),d=_e.min(),p=Jt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class xN{constructor(e){this.yt=e}}function DN(s){const e=SN({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?xm(e,e.limit,"L"):e}class ON{constructor(){this.Sn=new MN}addToCollectionParentIndex(e,n){return this.Sn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(cr.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(cr.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class MN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new Lt(rt.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Lt(rt.comparator)).toArray()}}const I0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},p1=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(p1,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class bo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new bo(0)}static ar(){return new bo(-1)}}const R0="LruGarbageCollector",VN=1048576;function C0([s,e],[n,r]){const l=Me(s,n);return l===0?Me(e,r):l}class kN{constructor(e){this.Pr=e,this.buffer=new Lt(C0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();C0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){re(R0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?re(R0,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Ar(3e5)}))}}class LN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Mh.ce);const r=new kN(n);return this.Vr.forEachTarget(e,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(I0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,l,u,d,p,_,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(r=A,p=Date.now(),this.removeTargets(e,r,n)))).next((A=>(u=A,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(g=Date.now(),so()<=Oe.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(_-p)+`ms
	Removed ${A} documents in `+(g-_)+`ms
Total Duration: ${g-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:A}))))}}function UN(s,e){return new LN(s,e)}class zN{constructor(){this.changes=new ca((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class BN{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&Gl(r.mutation,l,ai.empty(),ut.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ve()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ve()){const l=$r();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((u=>{let d=Ll();return u.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=$r();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ve())))}populateOverlays(e,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,r,l){let u=_s();const d=Fl(),p=(function(){return Fl()})();return n.forEach(((_,g)=>{const T=r.get(g.key);l.has(g.key)&&(T===void 0||T.mutation instanceof ha)?u=u.insert(g.key,g):T!==void 0?(d.set(g.key,T.mutation.getFieldMask()),Gl(T.mutation,g,T.mutation.getFieldMask(),ut.now())):d.set(g.key,ai.empty())})),this.recalculateAndSaveOverlays(e,u).next((_=>(_.forEach(((g,T)=>d.set(g,T))),n.forEach(((g,T)=>p.set(g,new jN(T,d.get(g)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=Fl();let l=new ft(((d,p)=>d-p)),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((_=>{const g=n.get(_);if(g===null)return;let T=r.get(_)||ai.empty();T=p.applyToLocalView(g,T),r.set(_,T);const A=(l.get(p.batchId)||Ve()).add(_);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),g=_.key,T=_.value,A=XT();T.forEach((O=>{if(!u.has(O)){const K=t1(n.get(O),r.get(O));K!==null&&A.set(O,K),u=u.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,g,A))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return qC(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-u.size):$.resolve($r());let p=Xl,_=u;return d.next((g=>$.forEach(g,((T,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),u.get(T)?$.resolve():this.remoteDocumentCache.getEntry(e,T).next((O=>{_=_.insert(T,O)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,_,g,Ve()))).next((T=>({batchId:p,changes:YT(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next((r=>{let l=Ll();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const u=n.collectionGroup;let d=Ll();return this.indexManager.getCollectionParents(e,u).next((p=>$.forEach(p,(_=>{const g=(function(A,O){return new uu(O,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,_.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,r,l).next((T=>{T.forEach(((A,O)=>{d=d.insert(A,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,l)))).next((d=>{u.forEach(((_,g)=>{const T=g.getKey();d.get(T)===null&&(d=d.insert(T,tn.newInvalidDocument(T)))}));let p=Ll();return d.forEach(((_,g)=>{const T=u.get(_);T!==void 0&&Gl(T.mutation,g,ai.empty(),ut.now()),Lh(n,g)&&(p=p.insert(_,g))})),p}))}}class qN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return $.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:zi(l.createTime)}})(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:DN(l.bundledQuery),readTime:zi(l.readTime)}})(n)),$.resolve()}}class HN{constructor(){this.overlays=new ft(he.comparator),this.Lr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$r();return $.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,u)=>{this.bt(e,n,u)})),$.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const l=$r(),u=n.length+1,d=new he(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,g=_.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&_.largestBatchId>r&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let u=new ft(((g,T)=>g-T));const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let T=u.get(g.largestBatchId);T===null&&(T=$r(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const p=$r(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((g,T)=>p.set(g,T))),!(p.size()>=l)););return $.resolve(p)}bt(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new oN(n,r));let u=this.Lr.get(n);u===void 0&&(u=Ve(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class FN{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}class gp{constructor(){this.kr=new Lt(Bt.Kr),this.qr=new Lt(Bt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Bt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Bt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new he(new rt([])),r=new Bt(n,e),l=new Bt(n,e+1),u=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new he(new rt([])),r=new Bt(n,e),l=new Bt(n,e+1);let u=Ve();return this.qr.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new Bt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return he.comparator(e.key,n.key)||Me(e.Hr,n.Hr)}static Ur(e,n){return Me(e.Hr,n.Hr)||he.comparator(e.key,n.key)}}class GN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Lt(Bt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new aN(u,n,r,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Bt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,n){return $.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.Xr(r),u=l<0?0:l;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?ap:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bt(n,0),l=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,l],(d=>{const p=this.Zr(d.Hr);u.push(p)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(Me);return n.forEach((l=>{const u=new Bt(l,0),d=new Bt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(p=>{r=r.add(p.Hr)}))})),$.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let u=r;he.isDocumentKey(u)||(u=u.child(""));const d=new Bt(new he(u),0);let p=new Lt(Me);return this.Jr.forEachWhile((_=>{const g=_.key.path;return!!r.isPrefixOf(g)&&(g.length===l&&(p=p.add(_.Hr)),!0)}),d),$.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((r=>{const l=this.Zr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Ke(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return $.forEach(n.mutations,(l=>{const u=new Bt(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Bt(n,0),l=this.Jr.firstAfterOrEqual(r);return $.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class KN{constructor(e){this.ti=e,this.docs=(function(){return new ft(he.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,d=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let r=_s();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():tn.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let u=_s();const d=n.path,p=new he(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:g,value:{document:T}}=_.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||_C(yC(T),r)<=0||(l.has(T.key)||Lh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(e,n,r,l){pe(9500)}ni(e,n){return $.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new QN(this)}getSize(e){return $.resolve(this.size)}}class QN extends zN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(r)})),$.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class YN{constructor(e){this.persistence=e,this.ri=new ca((n=>up(n)),cp),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.ii=0,this.si=new gp,this.targetCount=0,this.oi=bo._r()}forEachTarget(e,n){return this.ri.forEach(((r,l)=>n(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),$.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.lr(n),$.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let l=0;const u=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),$.waitFor(u).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.si.containsKey(n))}}class g1{constructor(e,n){this._i={},this.overlays={},this.ai=new Mh(0),this.ui=!1,this.ui=!0,this.ci=new FN,this.referenceDelegate=e(this),this.li=new YN(this),this.indexManager=new ON,this.remoteDocumentCache=(function(l){return new KN(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new xN(n),this.Pi=new qN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new HN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new GN(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const l=new XN(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(e,n){return $.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class XN extends EC{constructor(e){super(),this.currentSequenceNumber=e}}class yp{constructor(e){this.persistence=e,this.Ri=new gp,this.Ai=null}static Vi(e){return new yp(e)}get di(){if(this.Ai)return this.Ai;throw pe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(r=>{const l=he.fromPath(r);return this.mi(e,l).next((u=>{u||n.removeEntry(l,_e.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Eh{constructor(e,n){this.persistence=e,this.fi=new ca((r=>AC(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=UN(this,n)}static Vi(e,n){return new Eh(e,n)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return $.forEach(this.fi,((r,l)=>this.wr(e,r,l).next((u=>u?$.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,n).next((p=>{p||(r++,u.removeEntry(d,_e.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),$.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wc(e.data.value)),n}wr(e,n,r){return $.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.fi.get(n);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class _p{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=l}static Es(e,n){let r=Ve(),l=Ve();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new _p(e,n.fromCache,r,l)}}class $N{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class JN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return yw()?8:TC(nn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const u={result:null};return this.gs(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(e,n,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new $N;return this.ys(e,n,d).next((p=>{if(u.result=p,this.As)return this.ws(e,n,d,p.size)}))})).next((()=>u.result))}ws(e,n,r,l){return r.documentReadCount<this.Vs?(so()<=Oe.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(so()<=Oe.DEBUG&&re("QueryEngine","Query:",ro(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(so()<=Oe.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Li(n))):$.resolve())}gs(e,n){if(g0(n))return $.resolve(null);let r=Li(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=xm(n,null,"F"),r=Li(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const d=Ve(...u);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((_=>{const g=this.bs(n,p);return this.Ss(n,g,d,_.readTime)?this.gs(e,xm(n,null,"F")):this.Ds(e,g,n,_)}))))})))))}ps(e,n,r,l){return g0(n)||l.isEqual(_e.min())?$.resolve(null):this.fs.getDocuments(e,r).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,r,l)?$.resolve(null):(so()<=Oe.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ro(n)),this.Ds(e,d,n,gC(l,Xl)).next((p=>p)))}))}bs(e,n){let r=new Lt(KT(e));return n.forEach(((l,u)=>{Lh(e,u)&&(r=r.add(u))})),r}Ss(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(e,n,r){return so()<=Oe.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",ro(n)),this.fs.getDocumentsMatchingQuery(e,n,cr.min(),r)}Ds(e,n,r,l){return this.fs.getDocumentsMatchingQuery(e,r,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const vp="LocalStore",ZN=3e8;class WN{constructor(e,n,r,l){this.persistence=e,this.Cs=n,this.serializer=l,this.vs=new ft(Me),this.Fs=new ca((u=>up(u)),cp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function ex(s,e,n,r){return new WN(s,e,n,r)}async function y1(s,e){const n=Ee(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],p=[];let _=Ve();for(const g of l){d.push(g.batchId);for(const T of g.mutations)_=_.add(T.key)}for(const g of u){p.push(g.batchId);for(const T of g.mutations)_=_.add(T.key)}return n.localDocuments.getDocuments(r,_).next((g=>({Ns:g,removedBatchIds:d,addedBatchIds:p})))}))}))}function tx(s,e){const n=Ee(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,g,T){const A=g.batch,O=A.keys();let K=$.resolve();return O.forEach((J=>{K=K.next((()=>T.getEntry(_,J))).next((te=>{const ne=g.docVersions.get(J);Ke(ne!==null,48541),te.version.compareTo(ne)<0&&(A.applyToRemoteDocument(te,g),te.isValidDocument()&&(te.setReadTime(g.commitVersion),T.addEntry(te)))}))})),K.next((()=>p.mutationQueue.removeMutationBatch(_,A)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=Ve();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(_=_.add(p.batch.mutations[g].key));return _})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function _1(s){const e=Ee(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function nx(s,e){const n=Ee(s),r=e.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const p=[];e.targetChanges.forEach(((T,A)=>{const O=l.get(A);if(!O)return;p.push(n.li.removeMatchingKeys(u,T.removedDocuments,A).next((()=>n.li.addMatchingKeys(u,T.addedDocuments,A))));let K=O.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?K=K.withResumeToken(Jt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):T.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(T.resumeToken,r)),l=l.insert(A,K),(function(te,ne,fe){return te.resumeToken.approximateByteSize()===0||ne.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=ZN?!0:fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0})(O,K,T)&&p.push(n.li.updateTargetData(u,K))}));let _=_s(),g=Ve();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(ix(u,d,e.documentUpdates).next((T=>{_=T.Bs,g=T.Ls}))),!r.isEqual(_e.min())){const T=n.li.getLastRemoteSnapshotVersion(u).next((A=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(T)}return $.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,_,g))).next((()=>_))})).then((u=>(n.vs=l,u)))}function ix(s,e,n){let r=Ve(),l=Ve();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let d=_s();return n.forEach(((p,_)=>{const g=u.get(p);_.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(_e.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!g.isValidDocument()||_.version.compareTo(g.version)>0||_.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):re(vp,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function sx(s,e){const n=Ee(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ap),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function rx(s,e){const n=Ee(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.li.getTargetData(r,e).next((u=>u?(l=u,$.resolve(l)):n.li.allocateTargetId(r).next((d=>(l=new sr(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function km(s,e,n){const r=Ee(s),l=r.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!No(d))throw d;re(vp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(l.target)}function N0(s,e,n){const r=Ee(s);let l=_e.min(),u=Ve();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,g,T){const A=Ee(_),O=A.Fs.get(T);return O!==void 0?$.resolve(A.vs.get(O)):A.li.getTargetData(g,T)})(r,d,Li(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{u=_}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,n?l:_e.min(),n?u:Ve()))).next((p=>(ax(r,FC(e),p),{documents:p,ks:u})))))}function ax(s,e,n){let r=s.Ms.get(e)||_e.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(e,r)}class x0{constructor(){this.activeTargetIds=$C()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ox{constructor(){this.vo=new x0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new x0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lx{Mo(e){}shutdown(){}}const D0="ConnectivityMonitor";class O0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){re(D0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){re(D0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qc=null;function Pm(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}const lm="RestConnection",ux={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class cx{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===mh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(e,n,r,l,u){const d=Pm(),p=this.Qo(e,n.toUriEncodedString());re(lm,`Sending RPC '${e}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,u);const{host:g}=new URL(p),T=So(g);return this.zo(e,p,_,r,T).then((A=>(re(lm,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw _o(lm,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",r),A}))}jo(e,n,r,l,u,d){return this.Wo(e,n,r,l,u)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}Qo(e,n){const r=ux[e];let l=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class hx{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Wt="WebChannelConnection",Ml=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class ho extends cx{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ho.c_){const e=bT();Ml(e,TT.STAT_EVENT,(n=>{n.stat===Am.PROXY?re(Wt,"STAT_EVENT: detected buffering proxy"):n.stat===Am.NOPROXY&&re(Wt,"STAT_EVENT: detected no buffering proxy")})),ho.c_=!0}}zo(e,n,r,l,u){const d=Pm();return new Promise(((p,_)=>{const g=new vT;g.setWithCredentials(!0),g.listenOnce(ET.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Zc.NO_ERROR:const A=g.getResponseJson();re(Wt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case Zc.TIMEOUT:re(Wt,`RPC '${e}' ${d} timed out`),_(new ae(X.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const O=g.getStatus();if(re(Wt,`RPC '${e}' ${d} failed with status:`,O,"response text:",g.getResponseText()),O>0){let K=g.getResponseJson();Array.isArray(K)&&(K=K[0]);const J=K?.error;if(J&&J.status&&J.message){const te=(function(fe){const Te=fe.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Te)>=0?Te:X.UNKNOWN})(J.status);_(new ae(te,J.message))}else _(new ae(X.UNKNOWN,"Server responded with status "+g.getStatus()))}else _(new ae(X.UNAVAILABLE,"Connection failed."));break;default:pe(9055,{l_:e,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{re(Wt,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);re(Wt,`RPC '${e}' ${d} sending request:`,l),g.send(n,"POST",T,r,15)}))}T_(e,n,r){const l=Pm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const g=u.join("");re(Wt,`Creating RPC '${e}' stream ${l}: ${g}`,p);const T=d.createWebChannel(g,p);this.I_(T);let A=!1,O=!1;const K=new hx({Ho:J=>{O?re(Wt,`Not sending because RPC '${e}' stream ${l} is closed:`,J):(A||(re(Wt,`Opening RPC '${e}' stream ${l} transport.`),T.open(),A=!0),re(Wt,`RPC '${e}' stream ${l} sending:`,J),T.send(J))},Jo:()=>T.close()});return Ml(T,Pl.EventType.OPEN,(()=>{O||(re(Wt,`RPC '${e}' stream ${l} transport opened.`),K.i_())})),Ml(T,Pl.EventType.CLOSE,(()=>{O||(O=!0,re(Wt,`RPC '${e}' stream ${l} transport closed`),K.o_(),this.E_(T))})),Ml(T,Pl.EventType.ERROR,(J=>{O||(O=!0,_o(Wt,`RPC '${e}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),K.o_(new ae(X.UNAVAILABLE,"The operation could not be completed")))})),Ml(T,Pl.EventType.MESSAGE,(J=>{if(!O){const te=J.data[0];Ke(!!te,16349);const ne=te,fe=ne?.error||ne[0]?.error;if(fe){re(Wt,`RPC '${e}' stream ${l} received error:`,fe);const Te=fe.status;let ye=(function(ke){const N=Ot[ke];if(N!==void 0)return s1(N)})(Te),Qe=fe.message;ye===void 0&&(ye=X.INTERNAL,Qe="Unknown error status: "+Te+" with message "+fe.message),O=!0,K.o_(new ae(ye,Qe)),T.close()}else re(Wt,`RPC '${e}' stream ${l} received:`,te),K.__(te)}})),ho.u_(),setTimeout((()=>{K.s_()}),0),K}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return AT()}}function fx(s){return new ho(s)}function um(){return typeof document<"u"?document:null}function Bh(s){return new gN(s,!0)}ho.c_=!1;class v1{constructor(e,n,r=1e3,l=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&re("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const M0="PersistentStream";class E1{constructor(e,n,r,l,u,d,p,_){this.Ci=e,this.b_=r,this.S_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new v1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(ys(n.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new ae(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return re(M0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(re(M0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dx extends E1{constructor(e,n,r,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=vN(this.serializer,e),r=(function(u){if(!("targetChange"in u))return _e.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?_e.min():d.readTime?zi(d.readTime):_e.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Vm(this.serializer),n.addTarget=(function(u,d){let p;const _=d.target;if(p=Cm(_)?{documents:bN(u,_)}:{query:AN(u,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=o1(u,d.resumeToken);const g=Dm(u,d.expectedCount);g!==null&&(p.expectedCount=g)}else if(d.snapshotVersion.compareTo(_e.min())>0){p.readTime=vh(u,d.snapshotVersion.toTimestamp());const g=Dm(u,d.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,e);const r=wN(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Vm(this.serializer),n.removeTarget=e,this.K_(n)}}class mx extends E1{constructor(e,n,r,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=TN(e.writeResults,e.commitTime),r=zi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Vm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>EN(this.serializer,r)))};this.K_(n)}}class px{}class gx extends px{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(e,Om(n,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ae(X.UNKNOWN,u.toString())}))}jo(e,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,Om(n,r),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ae(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function yx(s,e,n,r){return new gx(s,e,n,r)}class _x{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ys(n),this.aa=!1):re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const sa="RemoteStore";class vx{constructor(e,n,r,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{fa(this)&&(re(sa,"Restarting streams for network reachability change."),await(async function(_){const g=Ee(_);g.Ea.add(4),await fu(g),g.Va.set("Unknown"),g.Ea.delete(4),await qh(g)})(this))}))})),this.Va=new _x(r,l)}}async function qh(s){if(fa(s))for(const e of s.Ra)await e(!0)}async function fu(s){for(const e of s.Ra)await e(!1)}function T1(s,e){const n=Ee(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ap(n)?bp(n):xo(n).O_()&&Tp(n,e))}function Ep(s,e){const n=Ee(s),r=xo(n);n.Ia.delete(e),r.O_()&&b1(n,e),n.Ia.size===0&&(r.O_()?r.L_():fa(n)&&n.Va.set("Unknown"))}function Tp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xo(s).Z_(e)}function b1(s,e){s.da.$e(e),xo(s).X_(e)}function bp(s){s.da=new fN({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),xo(s).start(),s.Va.ua()}function Ap(s){return fa(s)&&!xo(s).x_()&&s.Ia.size>0}function fa(s){return Ee(s).Ea.size===0}function A1(s){s.da=void 0}async function Ex(s){s.Va.set("Online")}async function Tx(s){s.Ia.forEach(((e,n)=>{Tp(s,e)}))}async function bx(s,e){A1(s),Ap(s)?(s.Va.ha(e),bp(s)):s.Va.set("Unknown")}async function Ax(s,e,n){if(s.Va.set("Online"),e instanceof a1&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,e)}catch(r){re(sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Th(s,r)}else if(e instanceof nh?s.da.Xe(e):e instanceof r1?s.da.st(e):s.da.tt(e),!n.isEqual(_e.min()))try{const r=await _1(s.localStore);n.compareTo(r)>=0&&await(function(u,d){const p=u.da.Tt(d);return p.targetChanges.forEach(((_,g)=>{if(_.resumeToken.approximateByteSize()>0){const T=u.Ia.get(g);T&&u.Ia.set(g,T.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,g)=>{const T=u.Ia.get(_);if(!T)return;u.Ia.set(_,T.withResumeToken(Jt.EMPTY_BYTE_STRING,T.snapshotVersion)),b1(u,_);const A=new sr(T.target,_,g,T.sequenceNumber);Tp(u,A)})),u.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){re(sa,"Failed to raise snapshot:",r),await Th(s,r)}}async function Th(s,e,n){if(!No(e))throw e;s.Ea.add(1),await fu(s),s.Va.set("Offline"),n||(n=()=>_1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{re(sa,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await qh(s)}))}function S1(s,e){return e().catch((n=>Th(s,n,e)))}async function Hh(s){const e=Ee(s),n=mr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ap;for(;Sx(e);)try{const l=await sx(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,wx(e,l)}catch(l){await Th(e,l)}w1(e)&&I1(e)}function Sx(s){return fa(s)&&s.Ta.length<10}function wx(s,e){s.Ta.push(e);const n=mr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function w1(s){return fa(s)&&!mr(s).x_()&&s.Ta.length>0}function I1(s){mr(s).start()}async function Ix(s){mr(s).ra()}async function Rx(s){const e=mr(s);for(const n of s.Ta)e.ea(n.mutations)}async function Cx(s,e,n){const r=s.Ta.shift(),l=dp.from(r,e,n);await S1(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Hh(s)}async function Nx(s,e){e&&mr(s).Y_&&await(async function(r,l){if((function(d){return uN(d)&&d!==X.ABORTED})(l.code)){const u=r.Ta.shift();mr(r).B_(),await S1(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Hh(r)}})(s,e),w1(s)&&I1(s)}async function V0(s,e){const n=Ee(s);n.asyncQueue.verifyOperationInProgress(),re(sa,"RemoteStore received new credentials");const r=fa(n);n.Ea.add(3),await fu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qh(n)}async function xx(s,e){const n=Ee(s);e?(n.Ea.delete(2),await qh(n)):e||(n.Ea.add(2),await fu(n),n.Va.set("Unknown"))}function xo(s){return s.ma||(s.ma=(function(n,r,l){const u=Ee(n);return u.sa(),new dx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:Ex.bind(null,s),Yo:Tx.bind(null,s),t_:bx.bind(null,s),J_:Ax.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Ap(s)?bp(s):s.Va.set("Unknown")):(await s.ma.stop(),A1(s))}))),s.ma}function mr(s){return s.fa||(s.fa=(function(n,r,l){const u=Ee(n);return u.sa(),new mx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Ix.bind(null,s),t_:Nx.bind(null,s),ta:Rx.bind(null,s),na:Cx.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Hh(s)):(await s.fa.stop(),s.Ta.length>0&&(re(sa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Sp{constructor(e,n,r,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,u){const d=Date.now()+r,p=new Sp(e,n,d,l,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wp(s,e){if(ys("AsyncQueue",`${e}: ${s}`),No(s))return new ae(X.UNAVAILABLE,`${e}: ${s}`);throw s}class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=Ll(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class k0{constructor(){this.ga=new ft(he.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):pe(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ao{constructor(e,n,r,l,u,d,p,_,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,l,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new Ao(e,n,fo.emptySet(n),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class Dx{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Ox{constructor(){this.queries=P0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Ee(n),u=l.queries;l.queries=P0(),u.forEach(((d,p)=>{for(const _ of p.ba)_.onError(r)}))})(this,new ae(X.ABORTED,"Firestore shutting down"))}}function P0(){return new ca((s=>GT(s)),Ph)}async function Mx(s,e){const n=Ee(s);let r=3;const l=e.query;let u=n.queries.get(l);u?!u.Sa()&&e.Da()&&(r=2):(u=new Dx,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=wp(d,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Ip(n)}async function Vx(s,e){const n=Ee(s),r=e.query;let l=3;const u=n.queries.get(r);if(u){const d=u.ba.indexOf(e);d>=0&&(u.ba.splice(d,1),u.ba.length===0?l=e.Da()?0:1:!u.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kx(s,e){const n=Ee(s);let r=!1;for(const l of e){const u=l.query,d=n.queries.get(u);if(d){for(const p of d.ba)p.Fa(l)&&(r=!0);d.wa=l}}r&&Ip(n)}function Px(s,e,n){const r=Ee(s),l=r.queries.get(e);if(l)for(const u of l.ba)u.onError(n);r.queries.delete(e)}function Ip(s){s.Ca.forEach((e=>{e.next()}))}var Lm,L0;(L0=Lm||(Lm={})).Ma="default",L0.Cache="cache";class Lx{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Lm.Cache}}class R1{constructor(e){this.key=e}}class C1{constructor(e){this.key=e}}class Ux{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ve(),this.mutatedKeys=Ve(),this.eu=KT(e),this.tu=new fo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new k0,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,A)=>{const O=l.get(T),K=Lh(this.query,A)?A:null,J=!!O&&this.mutatedKeys.has(O.key),te=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let ne=!1;O&&K?O.data.isEqual(K.data)?J!==te&&(r.track({type:3,doc:K}),ne=!0):this.su(O,K)||(r.track({type:2,doc:K}),ne=!0,(_&&this.eu(K,_)>0||g&&this.eu(K,g)<0)&&(p=!0)):!O&&K?(r.track({type:0,doc:K}),ne=!0):O&&!K&&(r.track({type:1,doc:O}),ne=!0,(_||g)&&(p=!0)),ne&&(K?(d=d.add(K),u=te?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Ss:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,A)=>(function(K,J){const te=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe(20277,{Vt:ne})}};return te(K)-te(J)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(r),l=l??!1;const p=n&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,g=_!==this.Xa;return this.Xa=_,d.length!==0||g?{snapshot:new Ao(this.query,e.tu,u,d,e.mutatedKeys,_===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new k0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ve(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new C1(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new R1(r))})),n}cu(e){this.Za=e.ks,this.Ya=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Rp="SyncEngine";class zx{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jx{constructor(e){this.key=e,this.hu=!1}}class Bx{constructor(e,n,r,l,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ca((p=>GT(p)),Ph),this.Iu=new Map,this.Eu=new Set,this.Ru=new ft(he.comparator),this.Au=new Map,this.Vu=new gp,this.du={},this.mu=new Map,this.fu=bo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qx(s,e,n=!0){const r=V1(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await N1(r,e,n,!0),l}async function Hx(s,e){const n=V1(s);await N1(n,e,!0,!1)}async function N1(s,e,n,r){const l=await rx(s.localStore,Li(e)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await Fx(s,e,u,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&T1(s.remoteStore,l),p}async function Fx(s,e,n,r,l){s.pu=(A,O,K)=>(async function(te,ne,fe,Te){let ye=ne.view.ru(fe);ye.Ss&&(ye=await N0(te.localStore,ne.query,!1).then((({documents:N})=>ne.view.ru(N,ye))));const Qe=Te&&Te.targetChanges.get(ne.targetId),at=Te&&Te.targetMismatches.get(ne.targetId)!=null,ke=ne.view.applyChanges(ye,te.isPrimaryClient,Qe,at);return z0(te,ne.targetId,ke.au),ke.snapshot})(s,A,O,K);const u=await N0(s.localStore,e,!0),d=new Ux(e,u.ks),p=d.ru(u.documents),_=hu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),g=d.applyChanges(p,s.isPrimaryClient,_);z0(s,n,g.au);const T=new zx(e,n,d);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),g.snapshot}async function Gx(s,e,n){const r=Ee(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!Ph(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await km(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&Ep(r.remoteStore,l.targetId),Um(r,l.targetId)})).catch(Co)):(Um(r,l.targetId),await km(r.localStore,l.targetId,!0))}async function Kx(s,e){const n=Ee(s),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ep(n.remoteStore,r.targetId))}async function Qx(s,e,n){const r=eD(s);try{const l=await(function(d,p){const _=Ee(d),g=ut.now(),T=p.reduce(((K,J)=>K.add(J.key)),Ve());let A,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let J=_s(),te=Ve();return _.xs.getEntries(K,T).next((ne=>{J=ne,J.forEach(((fe,Te)=>{Te.isValidDocument()||(te=te.add(fe))}))})).next((()=>_.localDocuments.getOverlayedDocuments(K,J))).next((ne=>{A=ne;const fe=[];for(const Te of p){const ye=sN(Te,A.get(Te.key).overlayedDocument);ye!=null&&fe.push(new ha(Te.key,ye,LT(ye.value.mapValue),Ui.exists(!0)))}return _.mutationQueue.addMutationBatch(K,g,fe,p)})).next((ne=>{O=ne;const fe=ne.applyToLocalDocumentSet(A,te);return _.documentOverlayCache.saveOverlays(K,ne.batchId,fe)}))})).then((()=>({batchId:O.batchId,changes:YT(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let g=d.du[d.currentUser.toKey()];g||(g=new ft(Me)),g=g.insert(p,_),d.du[d.currentUser.toKey()]=g})(r,l.batchId,n),await du(r,l.changes),await Hh(r.remoteStore)}catch(l){const u=wp(l,"Failed to persist write");n.reject(u)}}async function x1(s,e){const n=Ee(s);try{const r=await nx(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(Ke(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ke(d.hu,14607):l.removedDocuments.size>0&&(Ke(d.hu,42227),d.hu=!1))})),await du(n,r,e)}catch(r){await Co(r)}}function U0(s,e,n){const r=Ee(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Ee(d);_.onlineState=p;let g=!1;_.queries.forEach(((T,A)=>{for(const O of A.ba)O.va(p)&&(g=!0)})),g&&Ip(_)})(r.eventManager,e),l.length&&r.Pu.J_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Yx(s,e,n){const r=Ee(s);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),u=l&&l.key;if(u){let d=new ft(he.comparator);d=d.insert(u,tn.newNoDocument(u,_e.min()));const p=Ve().add(u),_=new jh(_e.min(),new Map,new ft(Me),d,p);await x1(r,_),r.Ru=r.Ru.remove(u),r.Au.delete(e),Cp(r)}else await km(r.localStore,e,!1).then((()=>Um(r,e,n))).catch(Co)}async function Xx(s,e){const n=Ee(s),r=e.batch.batchId;try{const l=await tx(n.localStore,e);O1(n,r,null),D1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await du(n,l)}catch(l){await Co(l)}}async function $x(s,e,n){const r=Ee(s);try{const l=await(function(d,p){const _=Ee(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let T;return _.mutationQueue.lookupMutationBatch(g,p).next((A=>(Ke(A!==null,37113),T=A.keys(),_.mutationQueue.removeMutationBatch(g,A)))).next((()=>_.mutationQueue.performConsistencyCheck(g))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(g,T,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T))).next((()=>_.localDocuments.getDocuments(g,T)))}))})(r.localStore,e);O1(r,e,n),D1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await du(r,l)}catch(l){await Co(l)}}function D1(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function O1(s,e,n){const r=Ee(s);let l=r.du[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),r.du[r.currentUser.toKey()]=l}}function Um(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||M1(s,r)}))}function M1(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(Ep(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),Cp(s))}function z0(s,e,n){for(const r of n)r instanceof R1?(s.Vu.addReference(r.key,e),Jx(s,r)):r instanceof C1?(re(Rp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||M1(s,r.key)):pe(19791,{wu:r})}function Jx(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(re(Rp,"New document in limbo: "+n),s.Eu.add(r),Cp(s))}function Cp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new he(rt.fromString(e)),r=s.fu.next();s.Au.set(r,new jx(n)),s.Ru=s.Ru.insert(n,r),T1(s.remoteStore,new sr(Li(hp(n.path)),r,"TargetPurposeLimboResolution",Mh.ce))}}async function du(s,e,n){const r=Ee(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,e,n).then((g=>{if((g||n)&&r.isPrimaryClient){const T=g?!g.fromCache:n?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(g){l.push(g);const T=_p.Es(_.targetId,g);u.push(T)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(_,g){const T=Ee(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(g,(O=>$.forEach(O.Ts,(K=>T.persistence.referenceDelegate.addReference(A,O.targetId,K))).next((()=>$.forEach(O.Is,(K=>T.persistence.referenceDelegate.removeReference(A,O.targetId,K)))))))))}catch(A){if(!No(A))throw A;re(vp,"Failed to update sequence numbers: "+A)}for(const A of g){const O=A.targetId;if(!A.fromCache){const K=T.vs.get(O),J=K.snapshotVersion,te=K.withLastLimboFreeSnapshotVersion(J);T.vs=T.vs.insert(O,te)}}})(r.localStore,u))}async function Zx(s,e){const n=Ee(s);if(!n.currentUser.isEqual(e)){re(Rp,"User change. New user:",e.toKey());const r=await y1(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((p=>{p.forEach((_=>{_.reject(new ae(X.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await du(n,r.Ns)}}function Wx(s,e){const n=Ee(s),r=n.Au.get(e);if(r&&r.hu)return Ve().add(r.key);{let l=Ve();const u=n.Iu.get(e);if(!u)return l;for(const d of u){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function V1(s){const e=Ee(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=x1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yx.bind(null,e),e.Pu.J_=kx.bind(null,e.eventManager),e.Pu.yu=Px.bind(null,e.eventManager),e}function eD(s){const e=Ee(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$x.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ex(this.persistence,new JN,e.initialUser,this.serializer)}Cu(e){return new g1(yp.Vi,this.serializer)}Du(e){return new ox}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class tD extends bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof Eh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new PN(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new g1((r=>Eh.Vi(r,n)),this.serializer)}}class zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>U0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Zx.bind(null,this.syncEngine),await xx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Ox})()}createDatastore(e){const n=Bh(e.databaseInfo.databaseId),r=fx(e.databaseInfo);return yx(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,u,d,p){return new vx(r,l,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>U0(this.syncEngine,n,0)),(function(){return O0.v()?new O0:new lx})())}createSyncEngine(e,n){return(function(l,u,d,p,_,g,T){const A=new Bx(l,u,d,p,_,g);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ee(n);re(sa,"RemoteStore shutting down."),r.Ea.add(5),await fu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zm.provider={build:()=>new zm};class nD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ys("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const pr="FirestoreClient";class iD{constructor(e,n,r,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=l,this.user=en.UNAUTHENTICATED,this.clientId=rp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{re(pr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(re(pr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function cm(s,e){s.asyncQueue.verifyOperationInProgress(),re(pr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await y1(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function j0(s,e){s.asyncQueue.verifyOperationInProgress();const n=await sD(s);re(pr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>V0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>V0(e.remoteStore,l))),s._onlineComponents=e}async function sD(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){re(pr,"Using user provided OfflineComponentProvider");try{await cm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await cm(s,new bh)}}else re(pr,"Using default OfflineComponentProvider"),await cm(s,new tD(void 0));return s._offlineComponents}async function k1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(re(pr,"Using user provided OnlineComponentProvider"),await j0(s,s._uninitializedComponentsProvider._online)):(re(pr,"Using default OnlineComponentProvider"),await j0(s,new zm))),s._onlineComponents}function rD(s){return k1(s).then((e=>e.syncEngine))}async function B0(s){const e=await k1(s),n=e.eventManager;return n.onListen=qx.bind(null,e.syncEngine),n.onUnlisten=Gx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Hx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Kx.bind(null,e.syncEngine),n}function aD(s,e,n,r){const l=new nD(r),u=new Lx(e,l,n);return s.asyncQueue.enqueueAndForget((async()=>Mx(await B0(s),u))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>Vx(await B0(s),u)))}}function oD(s,e){const n=new Zr;return s.asyncQueue.enqueueAndForget((async()=>Qx(await rD(s),e,n))),n.promise}function P1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const lD="ComponentProvider",q0=new Map;function uD(s,e,n,r,l){return new IC(s,e,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,P1(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const L1="firestore.googleapis.com",H0=!0;class F0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=L1,this.ssl=H0}else this.host=e.host,this.ssl=e.ssl??H0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=p1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VN)throw new ae(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=P1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fh{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new rC;switch(r.type){case"firstParty":return new uC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=q0.get(n);r&&(re(lD,"Removing Datastore"),q0.delete(n),r.terminate())})(this),Promise.resolve()}}function cD(s,e,n,r={}){s=Wr(s,Fh);const l=So(e),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;l&&(wE(`https://${p}`),IE("Firestore",!0)),u.host!==L1&&u.host!==p&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:p,ssl:l,emulatorOptions:r};if(!ur(_,d)&&(s._setSettings(_),r.mockUserToken)){let g,T;if(typeof r.mockUserToken=="string")g=r.mockUserToken,T=en.MOCK_USER;else{g=uw(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ae(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new en(A)}s._authCredentials=new aC(new wT(g,T))}}class Do{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Do(this.firestore,e,this._query)}}class kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(lu(n,kt._jsonSchema))return new kt(e,r||null,new he(rt.fromString(n.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:Vt("string",kt._jsonSchemaVersion),referencePath:Vt("string")};class lr extends Do{constructor(e,n,r){super(e,n,hp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new he(e))}withConverter(e){return new lr(this.firestore,e,this._path)}}function Np(s,e,...n){if(s=gt(s),IT("collection","path",e),s instanceof Fh){const r=rt.fromString(e,...n);return n0(r),new lr(s,null,r)}{if(!(s instanceof kt||s instanceof lr))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(rt.fromString(e,...n));return n0(r),new lr(s.firestore,null,r)}}function Ah(s,e,...n){if(s=gt(s),arguments.length===1&&(e=rp.newId()),IT("doc","path",e),s instanceof Fh){const r=rt.fromString(e,...n);return t0(r),new kt(s,null,new he(r))}{if(!(s instanceof kt||s instanceof lr))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(rt.fromString(e,...n));return t0(r),new kt(s.firestore,s instanceof lr?s.converter:null,new he(r))}}const G0="AsyncQueue";class K0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new v1(this,"async_queue_retry"),this._c=()=>{const r=um();r&&re(G0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=um();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=um();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Zr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;re(G0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ys("INTERNAL UNHANDLED ERROR: ",Q0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Sp.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&pe(47125,{Pc:Q0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Q0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class nu extends Fh{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new K0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new K0(e),this._firestoreClient=void 0,await e}}}function hD(s,e){const n=typeof s=="object"?s:Qm(),r=typeof s=="string"?s:mh,l=la(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=ow("firestore");u&&cD(l,...u)}return l}function U1(s){if(s._terminated)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||fD(s),s._firestoreClient}function fD(s){const e=s._freezeSettings(),n=uD(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new iD(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Jt.fromBase64String(e))}catch(n){throw new ae(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Vt("string",Hn._jsonSchemaVersion),bytes:Vt("string")};class z1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xp{constructor(e){this._methodName=e}}class ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(e){if(lu(e,ji._jsonSchema))return new ji(e.latitude,e.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Vt("string",ji._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};class li{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new li(e.vectorValues);throw new ae(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:Vt("string",li._jsonSchemaVersion),vectorValues:Vt("object")};const dD=/^__.*__$/;class mD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ha(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}function j1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe(40011,{dataSource:s})}}class Dp{constructor(e,n,r,l,u,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Dp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Sh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(j1(this.dataSource)&&dD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class pD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bh(e)}createContext(e,n,r,l=!1){return new Dp({dataSource:e,methodName:n,targetDoc:r,path:$t.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Op(s){const e=s._freezeSettings(),n=Bh(s._databaseId);return new pD(s._databaseId,!!e.ignoreUndefinedProperties,n)}function B1(s,e,n,r,l,u={}){const d=s.createContext(u.merge||u.mergeFields?2:0,e,n,l);F1("Data must be an object, but it was:",d,r);const p=q1(r,d);let _,g;if(u.merge)_=new ai(d.fieldMask),g=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const O=Gh(e,A,n);if(!d.contains(O))throw new ae(X.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);vD(T,O)||T.push(O)}_=new ai(T),g=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,g=d.fieldTransforms;return new mD(new qn(p),_,g)}class Mp extends xp{_toFieldTransform(e){return new eN(e.path,new Wl)}isEqual(e){return e instanceof Mp}}function gD(s,e,n,r=!1){return Vp(n,s.createContext(r?4:3,e))}function Vp(s,e){if(H1(s=gt(s)))return F1("Unsupported field value:",e,s),q1(s,e);if(s instanceof xp)return(function(r,l){if(!j1(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const p of r){let _=Vp(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),d++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ut.fromDate(r);return{timestampValue:vh(l.serializer,u)}}if(r instanceof ut){const u=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vh(l.serializer,u)}}if(r instanceof ji)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hn)return{bytesValue:o1(l.serializer,r._byteString)};if(r instanceof kt){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof li)return(function(d,p){const _=d instanceof li?d.toArray():d;return{mapValue:{fields:{[kT]:{stringValue:PT},[ph]:{arrayValue:{values:_.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return fp(p.serializer,T)}))}}}}}})(r,l);if(m1(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Oh(r)}`)})(s,e)}function q1(s,e){const n={};return NT(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(s,((r,l)=>{const u=Vp(l,e.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function H1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ut||s instanceof ji||s instanceof Hn||s instanceof kt||s instanceof xp||s instanceof li||m1(s))}function F1(s,e,n){if(!H1(n)||!RT(n)){const r=Oh(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function Gh(s,e,n){if((e=gt(e))instanceof z1)return e._internalPath;if(typeof e=="string")return _D(s,e);throw Sh("Field path arguments must be of type string or ",s,!1,void 0,n)}const yD=new RegExp("[~\\*/\\[\\]]");function _D(s,e,n){if(e.search(yD)>=0)throw Sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new z1(...e.split("."))._internalPath}catch{throw Sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Sh(s,e,n,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(u||d)&&(_+=" (found",u&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new ae(X.INVALID_ARGUMENT,p+s+_)}function vD(s,e){return s.some((n=>n.isEqual(e)))}class ED{convertValue(e,n="none"){switch(dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ua(e,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[ph].arrayValue?.values?.map((r=>At(r.doubleValue)));return new li(n)}convertGeoPoint(e){return new ji(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=kh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=hr(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);Ke(d1(r),9688,{name:e});const l=new Jl(r.get(1),r.get(3)),u=new he(r.popFirst(5));return l.isEqual(n)||ys(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class G1 extends ED{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,n)}}function K1(){return new Mp("serverTimestamp")}const Y0="@firebase/firestore",X0="4.10.0";function $0(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class Q1{constructor(e,n,r,l,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Gh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TD extends Q1{data(){return super.data()}}function bD(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ae(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kp{}class AD extends kp{}function SD(s,e,...n){let r=[];e instanceof kp&&r.push(e),r=r.concat(n),(function(u){const d=u.filter((_=>_ instanceof Pp)).length,p=u.filter((_=>_ instanceof Kh)).length;if(d>1||d>0&&p>0)throw new ae(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Kh extends AD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kh(e,n,r)}_apply(e){const n=this._parse(e);return Y1(e._query,n),new Do(e.firestore,e.converter,Nm(e._query,n))}_parse(e){const n=Op(e.firestore);return(function(u,d,p,_,g,T,A){let O;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ae(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Z0(A,T);const J=[];for(const te of A)J.push(J0(_,u,te));O={arrayValue:{values:J}}}else O=J0(_,u,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Z0(A,T),O=gD(p,d,A,T==="in"||T==="not-in");return Mt.create(g,T,O)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function wD(s,e,n){const r=e,l=Gh("where",s);return Kh._create(l,r,n)}class Pp extends kp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Pp(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let d=l;const p=u.getFlattenedFilters();for(const _ of p)Y1(d,_),d=Nm(d,_)})(e._query,n),new Do(e.firestore,e.converter,Nm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function J0(s,e,n){if(typeof(n=gt(n))=="string"){if(n==="")throw new ae(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FT(e)&&n.indexOf("/")!==-1)throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!he.isDocumentKey(r))throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return c0(s,new he(r))}if(n instanceof kt)return c0(s,n._key);throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oh(n)}.`)}function Z0(s,e){if(!Array.isArray(s)||s.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Y1(s,e){const n=(function(l,u){for(const d of l)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function X1(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}class zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ea extends Q1{constructor(e,n,r,l,u,d){super(e,n,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ea._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:Vt("string",ea._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class ih extends ea{data(e={}){return super.data(e)}}class mo{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new zl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ih(this._firestore,this._userDataWriter,r.key,r,new zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new ih(l._firestore,l._userDataWriter,p.doc.key,p.doc,new zl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const _=new ih(l._firestore,l._userDataWriter,p.doc.key,p.doc,new zl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,T=-1;return p.type!==0&&(g=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:ID(p.type),doc:_,oldIndex:g,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ID(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe(61501,{type:s})}}mo._jsonSchemaVersion="firestore/querySnapshot/1.0",mo._jsonSchema={type:Vt("string",mo._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};function $1(s,e,n){s=Wr(s,kt);const r=Wr(s.firestore,nu),l=X1(s.converter,e,n),u=Op(r);return J1(r,[B1(u,"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,Ui.none())])}function RD(s,e){const n=Wr(s.firestore,nu),r=Ah(s),l=X1(s.converter,e),u=Op(s.firestore);return J1(n,[B1(u,"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Ui.exists(!1))]).then((()=>r))}function jm(s,...e){s=gt(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||$0(e[r])||(n=e[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if($0(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let u,d,p;if(s instanceof kt)d=Wr(s.firestore,nu),p=hp(s._key.path),u={next:g=>{e[r]&&e[r](CD(d,s,g))},error:e[r+1],complete:e[r+2]};else{const g=Wr(s,Do);d=Wr(g.firestore,nu),p=g._query;const T=new G1(d);u={next:A=>{e[r]&&e[r](new mo(d,T,g,A))},error:e[r+1],complete:e[r+2]},bD(s._query)}const _=U1(d);return aD(_,p,l,u)}function J1(s,e){const n=U1(s);return oD(n,e)}function CD(s,e,n){const r=n.docs.get(e._key),l=new G1(s);return new ea(s,l,e._key,r,new zl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){sC(wo),Bi(new ui("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),p=new nu(new oC(r.getProvider("auth-internal")),new cC(d,r.getProvider("app-check-internal")),RC(d,l),d);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Fn(Y0,X0,e),Fn(Y0,X0,"esm2020")})();var ND="firebase",xD="12.8.0";Fn(ND,xD,"app");const Z1="@firebase/installations",Lp="0.6.19";const W1=1e4,eb=`w:${Lp}`,tb="FIS_v2",DD="https://firebaseinstallations.googleapis.com/v1",OD=3600*1e3,MD="installations",VD="Installations";const kD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ra=new oa(MD,VD,kD);function nb(s){return s instanceof hi&&s.code.includes("request-failed")}function ib({projectId:s}){return`${DD}/projects/${s}/installations`}function sb(s){return{token:s.token,requestStatus:2,expiresIn:LD(s.expiresIn),creationTime:Date.now()}}async function rb(s,e){const r=(await e.json()).error;return ra.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function ab({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function PD(s,{refreshToken:e}){const n=ab(s);return n.append("Authorization",UD(e)),n}async function ob(s){const e=await s();return e.status>=500&&e.status<600?s():e}function LD(s){return Number(s.replace("s","000"))}function UD(s){return`${tb} ${s}`}async function zD({appConfig:s,heartbeatServiceProvider:e},{fid:n}){const r=ib(s),l=ab(s),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const d={fid:n,authVersion:tb,appId:s.appId,sdkVersion:eb},p={method:"POST",headers:l,body:JSON.stringify(d)},_=await ob(()=>fetch(r,p));if(_.ok){const g=await _.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:sb(g.authToken)}}else throw await rb("Create Installation",_)}function lb(s){return new Promise(e=>{setTimeout(e,s)})}function jD(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const BD=/^[cdef][\w-]{21}$/,Bm="";function qD(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const n=HD(s);return BD.test(n)?n:Bm}catch{return Bm}}function HD(s){return jD(s).substr(0,22)}function Qh(s){return`${s.appName}!${s.appId}`}const ub=new Map;function cb(s,e){const n=Qh(s);hb(n,e),FD(n,e)}function hb(s,e){const n=ub.get(s);if(n)for(const r of n)r(e)}function FD(s,e){const n=GD();n&&n.postMessage({key:s,fid:e}),KD()}let Jr=null;function GD(){return!Jr&&"BroadcastChannel"in self&&(Jr=new BroadcastChannel("[Firebase] FID Change"),Jr.onmessage=s=>{hb(s.data.key,s.data.fid)}),Jr}function KD(){ub.size===0&&Jr&&(Jr.close(),Jr=null)}const QD="firebase-installations-database",YD=1,aa="firebase-installations-store";let hm=null;function Up(){return hm||(hm=OE(QD,YD,{upgrade:(s,e)=>{e===0&&s.createObjectStore(aa)}})),hm}async function wh(s,e){const n=Qh(s),l=(await Up()).transaction(aa,"readwrite"),u=l.objectStore(aa),d=await u.get(n);return await u.put(e,n),await l.done,(!d||d.fid!==e.fid)&&cb(s,e.fid),e}async function fb(s){const e=Qh(s),r=(await Up()).transaction(aa,"readwrite");await r.objectStore(aa).delete(e),await r.done}async function Yh(s,e){const n=Qh(s),l=(await Up()).transaction(aa,"readwrite"),u=l.objectStore(aa),d=await u.get(n),p=e(d);return p===void 0?await u.delete(n):await u.put(p,n),await l.done,p&&(!d||d.fid!==p.fid)&&cb(s,p.fid),p}async function zp(s){let e;const n=await Yh(s.appConfig,r=>{const l=XD(r),u=$D(s,l);return e=u.registrationPromise,u.installationEntry});return n.fid===Bm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function XD(s){const e=s||{fid:qD(),registrationStatus:0};return db(e)}function $D(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(ra.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=JD(s,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ZD(s)}:{installationEntry:e}}async function JD(s,e){try{const n=await zD(s,e);return wh(s.appConfig,n)}catch(n){throw nb(n)&&n.customData.serverCode===409?await fb(s.appConfig):await wh(s.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function ZD(s){let e=await W0(s.appConfig);for(;e.registrationStatus===1;)await lb(100),e=await W0(s.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await zp(s);return r||n}return e}function W0(s){return Yh(s,e=>{if(!e)throw ra.create("installation-not-found");return db(e)})}function db(s){return WD(s)?{fid:s.fid,registrationStatus:0}:s}function WD(s){return s.registrationStatus===1&&s.registrationTime+W1<Date.now()}async function e4({appConfig:s,heartbeatServiceProvider:e},n){const r=t4(s,n),l=PD(s,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const d={installation:{sdkVersion:eb,appId:s.appId}},p={method:"POST",headers:l,body:JSON.stringify(d)},_=await ob(()=>fetch(r,p));if(_.ok){const g=await _.json();return sb(g)}else throw await rb("Generate Auth Token",_)}function t4(s,{fid:e}){return`${ib(s)}/${e}/authTokens:generate`}async function jp(s,e=!1){let n;const r=await Yh(s.appConfig,u=>{if(!mb(u))throw ra.create("not-registered");const d=u.authToken;if(!e&&s4(d))return u;if(d.requestStatus===1)return n=n4(s,e),u;{if(!navigator.onLine)throw ra.create("app-offline");const p=a4(u);return n=i4(s,p),p}});return n?await n:r.authToken}async function n4(s,e){let n=await eE(s.appConfig);for(;n.authToken.requestStatus===1;)await lb(100),n=await eE(s.appConfig);const r=n.authToken;return r.requestStatus===0?jp(s,e):r}function eE(s){return Yh(s,e=>{if(!mb(e))throw ra.create("not-registered");const n=e.authToken;return o4(n)?{...e,authToken:{requestStatus:0}}:e})}async function i4(s,e){try{const n=await e4(s,e),r={...e,authToken:n};return await wh(s.appConfig,r),n}catch(n){if(nb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await fb(s.appConfig);else{const r={...e,authToken:{requestStatus:0}};await wh(s.appConfig,r)}throw n}}function mb(s){return s!==void 0&&s.registrationStatus===2}function s4(s){return s.requestStatus===2&&!r4(s)}function r4(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+OD}function a4(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function o4(s){return s.requestStatus===1&&s.requestTime+W1<Date.now()}async function l4(s){const e=s,{installationEntry:n,registrationPromise:r}=await zp(e);return r?r.catch(console.error):jp(e).catch(console.error),n.fid}async function u4(s,e=!1){const n=s;return await c4(n),(await jp(n,e)).token}async function c4(s){const{registrationPromise:e}=await zp(s);e&&await e}function h4(s){if(!s||!s.options)throw fm("App Configuration");if(!s.name)throw fm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!s.options[n])throw fm(n);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function fm(s){return ra.create("missing-app-config-values",{valueName:s})}const pb="installations",f4="installations-internal",d4=s=>{const e=s.getProvider("app").getImmediate(),n=h4(e),r=la(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},m4=s=>{const e=s.getProvider("app").getImmediate(),n=la(e,pb).getImmediate();return{getId:()=>l4(n),getToken:l=>u4(n,l)}};function p4(){Bi(new ui(pb,d4,"PUBLIC")),Bi(new ui(f4,m4,"PRIVATE"))}p4();Fn(Z1,Lp);Fn(Z1,Lp,"esm2020");const Ih="analytics",g4="firebase_id",y4="origin",_4=60*1e3,v4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bp="https://www.googletagmanager.com/gtag/js";const an=new Ch("@firebase/analytics");const E4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Cn=new oa("analytics","Analytics",E4);function T4(s){if(!s.startsWith(Bp)){const e=Cn.create("invalid-gtag-resource",{gtagURL:s});return an.warn(e.message),""}return s}function gb(s){return Promise.all(s.map(e=>e.catch(n=>n)))}function b4(s,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(s,e)),n}function A4(s,e){const n=b4("firebase-js-sdk-policy",{createScriptURL:T4}),r=document.createElement("script"),l=`${Bp}?l=${s}&id=${e}`;r.src=n?n?.createScriptURL(l):l,r.async=!0,document.head.appendChild(r)}function S4(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function w4(s,e,n,r,l,u){const d=r[l];try{if(d)await e[d];else{const _=(await gb(n)).find(g=>g.measurementId===l);_&&await e[_.appId]}}catch(p){an.error(p)}s("config",l,u)}async function I4(s,e,n,r,l){try{let u=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const p=await gb(n);for(const _ of d){const g=p.find(A=>A.measurementId===_),T=g&&e[g.appId];if(T)u.push(T);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),s("event",r,l||{})}catch(u){an.error(u)}}function R4(s,e,n,r){async function l(u,...d){try{if(u==="event"){const[p,_]=d;await I4(s,e,n,p,_)}else if(u==="config"){const[p,_]=d;await w4(s,e,n,r,p,_)}else if(u==="consent"){const[p,_]=d;s("consent",p,_)}else if(u==="get"){const[p,_,g]=d;s("get",p,_,g)}else if(u==="set"){const[p]=d;s("set",p)}else s(u,...d)}catch(p){an.error(p)}}return l}function C4(s,e,n,r,l){let u=function(...d){window[r].push(arguments)};return window[l]&&typeof window[l]=="function"&&(u=window[l]),window[l]=R4(u,s,e,n),{gtagCore:u,wrappedGtag:window[l]}}function N4(s){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Bp)&&n.src.includes(s))return n;return null}const x4=30,D4=1e3;class O4{constructor(e={},n=D4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const yb=new O4;function M4(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function V4(s){const{appId:e,apiKey:n}=s,r={method:"GET",headers:M4(n)},l=v4.replace("{app-id}",e),u=await fetch(l,r);if(u.status!==200&&u.status!==304){let d="";try{const p=await u.json();p.error?.message&&(d=p.error.message)}catch{}throw Cn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:d})}return u.json()}async function k4(s,e=yb,n){const{appId:r,apiKey:l,measurementId:u}=s.options;if(!r)throw Cn.create("no-app-id");if(!l){if(u)return{measurementId:u,appId:r};throw Cn.create("no-api-key")}const d=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new U4;return setTimeout(async()=>{p.abort()},_4),_b({appId:r,apiKey:l,measurementId:u},d,p,e)}async function _b(s,{throttleEndTimeMillis:e,backoffCount:n},r,l=yb){const{appId:u,measurementId:d}=s;try{await P4(r,e)}catch(p){if(d)return an.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:d};throw p}try{const p=await V4(s);return l.deleteThrottleMetadata(u),p}catch(p){const _=p;if(!L4(_)){if(l.deleteThrottleMetadata(u),d)return an.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:u,measurementId:d};throw p}const g=Number(_?.customData?.httpStatus)===503?Sv(n,l.intervalMillis,x4):Sv(n,l.intervalMillis),T={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return l.setThrottleMetadata(u,T),an.debug(`Calling attemptFetch again in ${g} millis`),_b(s,T,r,l)}}function P4(s,e){return new Promise((n,r)=>{const l=Math.max(e-Date.now(),0),u=setTimeout(n,l);s.addEventListener(()=>{clearTimeout(u),r(Cn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function L4(s){if(!(s instanceof hi)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class U4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function z4(s,e,n,r,l){if(l&&l.global){s("event",n,r);return}else{const u=await e,d={...r,send_to:u};s("event",n,d)}}async function j4(s,e,n,r){if(r&&r.global){const l={};for(const u of Object.keys(n))l[`user_properties.${u}`]=n[u];return s("set",l),Promise.resolve()}else{const l=await e;s("config",l,{update:!0,user_properties:n})}}async function B4(){if(CE())try{await NE()}catch(s){return an.warn(Cn.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return an.warn(Cn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function q4(s,e,n,r,l,u,d){const p=k4(s);p.then(O=>{n[O.measurementId]=O.appId,s.options.measurementId&&O.measurementId!==s.options.measurementId&&an.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${O.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(O=>an.error(O)),e.push(p);const _=B4().then(O=>{if(O)return r.getId()}),[g,T]=await Promise.all([p,_]);N4(u)||A4(u,g.measurementId),l("js",new Date);const A=d?.config??{};return A[y4]="firebase",A.update=!0,T!=null&&(A[g4]=T),l("config",g.measurementId,A),g.measurementId}class H4{constructor(e){this.app=e}_delete(){return delete po[this.app.options.appId],Promise.resolve()}}let po={},tE=[];const nE={};let dm="dataLayer",F4="gtag",iE,qp,sE=!1;function G4(){const s=[];if(RE()&&s.push("This is a browser extension environment."),_w()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,l)=>`(${l+1}) ${r}`).join(" "),n=Cn.create("invalid-analytics-context",{errorInfo:e});an.warn(n.message)}}function K4(s,e,n){G4();const r=s.options.appId;if(!r)throw Cn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)an.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Cn.create("no-api-key");if(po[r]!=null)throw Cn.create("already-exists",{id:r});if(!sE){S4(dm);const{wrappedGtag:u,gtagCore:d}=C4(po,tE,nE,dm,F4);qp=u,iE=d,sE=!0}return po[r]=q4(s,tE,nE,e,iE,dm,n),new H4(s)}function Q4(s=Qm()){s=gt(s);const e=la(s,Ih);return e.isInitialized()?e.getImmediate():Y4(s)}function Y4(s,e={}){const n=la(s,Ih);if(n.isInitialized()){const l=n.getImmediate();if(ur(e,n.getOptions()))return l;throw Cn.create("already-initialized")}return n.initialize({options:e})}function X4(s,e,n){s=gt(s),j4(qp,po[s.app.options.appId],e,n).catch(r=>an.error(r))}function $4(s,e,n,r){s=gt(s),z4(qp,po[s.app.options.appId],e,n,r).catch(l=>an.error(l))}const rE="@firebase/analytics",aE="0.10.19";function J4(){Bi(new ui(Ih,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("installations-internal").getImmediate();return K4(r,l,n)},"PUBLIC")),Bi(new ui("analytics-internal",s,"PRIVATE")),Fn(rE,aE),Fn(rE,aE,"esm2020");function s(e){try{const n=e.getProvider(Ih).getImmediate();return{logEvent:(r,l,u)=>$4(n,r,l,u),setUserProperties:(r,l)=>X4(n,r,l)}}catch(n){throw Cn.create("interop-component-reg-failed",{reason:n})}}}J4();const Z4={apiKey:"AIzaSyCZO36isf5dQQ5cf-NyIR7thq37X2goML4",authDomain:"cabinet-seujet.firebaseapp.com",projectId:"cabinet-seujet",storageBucket:"cabinet-seujet.firebasestorage.app",messagingSenderId:"1063154582452",appId:"1:1063154582452:web:25f1616aa778acbb6ca8e1",measurementId:"G-ETKGNPVR4W"},Hp=ME(Z4);typeof window<"u"&&Q4(Hp);const Yr=nC(Hp),go=hD(Hp),W4=new hs,eO=typeof window<"u"&&window.__app_id?window.__app_id:"default-app-id",io="/cabinet-seujet/",ki={drEva:`${io}assets/dra-eva.jpg`,karen:`${io}assets/karen.png`,lucienne:`${io}assets/lucienne.png`,clinic1:`${io}assets/clinica-1.jpg`,clinic2:`${io}assets/clinica-2.jpg`,clinic3:`${io}assets/clinica-3.jpg`,heroBg:"https://images.unsplash.com/photo-1629909613654-28e377c37b09?q=80&w=2000&auto=format&fit=crop"},vb={fr:{nav:{home:"Accueil",team:"L'quipe",mission:"Mission & Enseignement",clinic:"Services",login:"Connexion",mySpace:"Mon Espace",book:"Prendre Rendez-vous"},hero:{title:"Cabinet Mdical du Seujet",subtitle:"Cabinet mdical formateur : transmission et formation des tudiants et internes.",cta:"Prendre Rendez-vous"},doctors:{title:"Notre quipe",bio:"Biographie",contact:"Contact",book:"Prendre RDV"},testimonials:{title:"Tmoignages",subtitle:"La confiance de nos patients"},clinic:{title:"Le Cabinet",inclusivity:"Espace inclusif",accessibility:"Accessible aux personnes  mobilit rduite"},sections:{mission:"Notre Mission",teaching:"Enseignement & Formation",services:"Nos Prestations",equipment:"Plateau Technique",care:"Salle de Soins",community:"Engagements & Rseau",multilingual:"Un cabinet multilingue"},dashboard:{title:"Mon Espace Sant",backHome:"Retour  l'accueil",userDefault:"Utilisateur",incompleteProfile:"Profil incomplet",historyBtn:"Historique",editProfileBtn:"Modifier mon profil",logoutBtn:"Dconnexion",needApptTitle:"Besoin d'un rendez-vous ?",bookApptBtn:"Prendre Rendez-vous",historyTitle:"Historique des Contacts",noHistory:"Aucun historique trouv.",noHistorySub:"Vos prises de rendez-vous apparatront ici.",redirectOneDoc:"Redirection OneDoc",phoneCall:"Appel Tlphonique",interestRecorded:"Intrt enregistr"},footer:{rights:"Tous droits rservs.",privacy:"Politique de Confidentialit",quickLinks:"Liens Rapides",contact:"Contact"}},en:{nav:{home:"Home",team:"The Team",mission:"Mission & Teaching",clinic:"Services",login:"Login",mySpace:"My Space",book:"Book Appointment"},hero:{title:"Cabinet Mdical du Seujet",subtitle:"Training medical practice: transmission and training of students and residents.",cta:"Book Appointment"},doctors:{title:"Our Team",bio:"Biography",contact:"Contact",book:"Book Now"},testimonials:{title:"Testimonials",subtitle:"Our patients' trust"},clinic:{title:"The Clinic",inclusivity:"Inclusive Space",accessibility:"Wheelchair Accessible"},sections:{mission:"Our Mission",teaching:"Teaching & Training",services:"Our Services",equipment:"Technical Equipment",care:"Care Room",community:"Commitments & Network",multilingual:"A multilingual practice"},dashboard:{title:"My Health Space",backHome:"Back to Home",userDefault:"User",incompleteProfile:"Incomplete Profile",historyBtn:"History",editProfileBtn:"Edit Profile",logoutBtn:"Logout",needApptTitle:"Need an appointment?",bookApptBtn:"Book Appointment",historyTitle:"Contact History",noHistory:"No history found.",noHistorySub:"Your appointments will appear here.",redirectOneDoc:"OneDoc Redirection",phoneCall:"Phone Call",interestRecorded:"Interest Recorded"},footer:{rights:"All rights reserved.",privacy:"Privacy Policy",quickLinks:"Quick Links",contact:"Contact"}}},tO=[{title:{fr:"Inclusion",en:"Inclusion"},icon:"Heart"},{title:{fr:"Humanisme",en:"Humanism"},icon:"Users"},{title:{fr:"Transmission",en:"Transmission"},icon:"BookOpen"},{title:{fr:"Qualit",en:"Quality"},icon:"Star"},{title:{fr:"Mdecine Intgrative",en:"Integrative Medicine"},icon:"Activity"}],oE={title:{fr:"Clinique Docente UNIGE",en:"UNIGE Teaching Clinic"},description:{fr:"Cabinet formateur rattach  l'Universit de Genve. Nous formons les tudiants de 2me Bachelor et 3me Master en Mdecine Humaine.",en:"Training practice attached to UNIGE. We train 2nd Bachelor and 3rd Master students in Human Medicine."}},lE=[{iconType:"Stethoscope",title:{fr:"Mdecine de Famille",en:"Family Medicine"},description:{fr:"Suivi global et continu.",en:"Global and continuous care."}},{iconType:"Activity",title:{fr:"Mdecine d'Urgence",en:"Emergency Medicine"},description:{fr:"Prise en charge rapide des situations aigus.",en:"Rapid care for acute situations."}},{iconType:"Globe",title:{fr:"Prvention Voyage",en:"Travel Prevention"},description:{fr:"Conseils et vaccinations.",en:"Advice and vaccinations."}},{iconType:"Heart",title:{fr:"Sant Sexuelle",en:"Sexual Health"},description:{fr:"Dpistage et prvention inclusive.",en:"Inclusive screening and prevention."}},{iconType:"Users",title:{fr:"Rseau Collaboratif",en:"Collaborative Network"},description:{fr:"HUG, Cliniques prives, MEDIX.",en:"HUG, Private clinics, MEDIX."}},{iconType:"Video",title:{fr:"Tlconsultation",en:"Teleconsultation"},description:{fr:"Consultations  distance.",en:"Remote consultations."}}],uE={equipment:[{fr:"Laboratoire POCT",en:"POCT Laboratory"},{fr:"Ecographie POCUS",en:"POCUS Ultrasound"}],careRoom:[{fr:"ECG",en:"ECG"},{fr:"MAPA",en:"ABPM"},{fr:"Oximtrie nocturne",en:"Nocturnal Oximetry"},{fr:"Perfusios IV (Vitamines / Fer)",en:"IV Infusions"},{fr:"Soins de plaies & Sutures",en:"Wound Care & Sutures"},{fr:"Vaccinations",en:"Vaccinations"}]},nO=["MedFem","Onesimus","FeminEM","AfCEM"],iO=[{id:"doc1",name:"Dr. Eva Niyibizi",email:"niyibizi@hin.ch",role:"Mdecin Cheffe",bookable:!0,bookingMethod:"onedoc_or_phone",oneDocLink:"https://www.onedoc.ch/en/general-practitioner-gp/geneva/pbqre/dr-eva-niyibizi",specialty:{fr:"Interniste & Urgentiste",en:"Internist & Emergency Physician"},description:{fr:"Double spcialit, 10 ans d'exprience (HUG, La Colline, Jrusalem).",en:"Dual specialty, 10 years exp."},biography:{fr:"La Dre Eva Niyibizi est doublement spcialiste en Mdecine Interne Gnrale et en Mdecine d'Urgence. Forte d'une exprience clinique de 10 ans, elle a exerc au sein d'institutions de renom telles que les Hpitaux Universitaires de Genve (HUG), la Clinique La Colline, ainsi qu' Jrusalem (Isral). Elle maintient une activit de Mdecin Consultante aux urgences des HUG. Engage, elle est membre active de MedFem, Onesimus, FeminEM et AfCEM. Elle dirige le Cabinet du Seujet avec une vision intgrative, inclusive et humaniste.",en:"Dr. Eva Niyibizi holds a dual specialization in General Internal Medicine and Emergency Medicine. With 10 years of clinical experience, she has practiced at HUG, Clinique La Colline, and in Jerusalem. She is a Consultant Doctor at HUG emergencies. Committed to the community, she is a member of MedFem, Onesimus, FeminEM, and AfCEM. She leads the practice with an integrative, inclusive, and humanistic vision."},languages:["Franais","English","Hebrew","Kinyarwanda"],image:ki.drEva},{id:"team1",name:"Karen Brechbhl",email:"niyibizi@hin.ch",role:"Mdecin Assistant",bookable:!0,bookingMethod:"phone_only",specialty:{fr:"Mdecine Interne",en:"Internal Medicine"},description:{fr:"3me anne de rsidanat (formation post-gradue).",en:"3rd year resident."},biography:{fr:"Actuellement en 3me anne de rsidanat (formation post-gradue) en mdecine interne, Karen Brechbhl se distingue par un parcours riche et international. Elle a acquis une solide exprience aux soins intensifs au Portugal et en chirurgie aux HUG. Polyglotte, elle consulte couramment en franais, anglais et portugais, avec des notions de roumain. Ancienne joueuse de tennis d'lite, elle apporte rigueur et dynamisme  l'quipe.",en:"Currently in her 3rd year of residency in internal medicine, Karen Brechbhl stands out for her international background. She gained solid experience in intensive care in Portugal and surgery at HUG. A polyglot, she consults in French, English, and Portuguese. A former elite tennis player, she brings rigor and dynamism to the team."},languages:["Franais","English","Portugus","Romn"],image:ki.karen},{id:"team2",name:"Lucienne Foyeme",email:"niyibizi@hin.ch",role:"Assistante Mdicale",bookable:!1,specialty:{fr:"Administration & Soins",en:"Administration & Care"},description:{fr:"Le cur battant du cabinet avec plus de 15 ans d'exprience.",en:"The beating heart of the clinic."},biography:{fr:"Pilier du cabinet, Lucienne Foyeme est une assistante mdicale hautement qualifie avec plus de 15 ans d'exprience. Experte technique, elle matrise parfaitement les prises de sang, ECG, radiologies et soins de plaies. Elle assure galement une gestion administrative impeccable. Son dvouement aux autres se prolonge dans sa vie personnelle en tant que pompier volontaire.",en:"A pillar of the practice, Lucienne Foyeme is a highly skilled medical assistant with over 15 years of experience. A technical expert, she masters blood tests, ECGs, radiology, and wound care. She also ensures impeccable administrative management. Her dedication extends to her personal life as a volunteer firefighter."},languages:["Franais","English"],image:ki.lucienne}],sO={description:{fr:"Situ au cur de Genve, notre cabinet offre un espace moderne ddi  la mdecine de famille, l'enseignement et l'inclusion.",en:"Located in the heart of Geneva, our practice offers a modern space dedicated to family medicine, teaching, and inclusion."},address:"Quai du Seujet 14, 1201 Genve",phone:"+41 22 700 70 70",email:"niyibizi@hin.ch",mapEmbedUrl:"https://maps.google.com/maps?q=Quai+du+Seujet+14,+1201+Genve&t=&z=15&ie=UTF8&iwloc=&output=embed",openingHours:"Lun-Ven: 08:00 - 18:00",emergencyInfo:"En cas d'urgence vitale, composez le 144.",policies:"Annulation 24h  l'avance.",features:[{fr:"Communauts sous-reprsentes bienvenues",en:"Underrepresented communities welcome"},{fr:"Accessible fauteuil roulant",en:"Wheelchair Accessible"},{fr:"Cabinet Formateur",en:"Training Practice"}]},rO=(s,e,n)=>{const[r,l]=we.useState([]),[u,d]=we.useState(!0);return we.useEffect(()=>{if(!n||!s){l([]),d(!1);return}try{const p=Np(go,"appointments"),_=SD(p,wD("userId","==",s.uid)),g=jm(_,T=>{const A=T.docs.map(O=>({id:O.id,...O.data()}));A.sort((O,K)=>{const J=O.createdAt?O.createdAt.toDate():new Date(O.date);return(K.createdAt?K.createdAt.toDate():new Date(K.date))-J}),l(A),d(!1)},T=>{console.error("Erro ao buscar histrico:",T),d(!1)});return()=>g()}catch(p){console.error("Erro no hook useAppointments:",p),d(!1)}},[s,n]),{appointments:r,loading:u}},aO=()=>S.jsxs("div",{className:"fixed inset-0 bg-white z-[100] flex flex-col items-center justify-center",children:[S.jsx("div",{className:"w-16 h-16 border-4 border-gray-200 border-t-[#008080] rounded-full animate-spin mb-4"}),S.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-800 animate-pulse",children:"Cabinet du Seujet"}),S.jsx("p",{className:"text-gray-500 mt-2",children:"Chargement de votre espace..."})]}),mm=({isOpen:s,onClose:e,children:n,title:r})=>s?S.jsx("div",{className:"fixed inset-0 bg-black/60 z-[100] flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in duration-200",children:S.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col animate-in zoom-in-95 duration-200",children:[S.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-gray-50",children:[S.jsx("h3",{className:"font-bold text-lg text-gray-800",children:r}),S.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-200 rounded-full transition",children:S.jsx(_E,{size:20})})]}),S.jsx("div",{className:"p-6 overflow-y-auto flex-1 custom-scrollbar",children:n})]})}):null,oO={Stethoscope:FS,Activity:fE,Syringe:KS,Heart:gE,Users:XS,Shield:jS,MapPin:Fm,Phone:Kl,Mail:RS,Video:JS,Globe:pE,BookOpen:dE,Star:qS,CheckCircle:Hm,Monitor:yE,Microscope:OS,Award:dS},cE=({type:s,className:e})=>{const n=oO[s];return n?S.jsx(n,{className:e}):null},lO=({doctors:s,user:e,onClose:n,lang:r="fr"})=>{const[l,u]=we.useState(1),[d,p]=we.useState(null),_=(A,O)=>r==="fr"?A:O,g=s.filter(A=>A.bookable),T=async(A,O,K)=>{if(A.preventDefault(),e&&!e.isAnonymous)try{await RD(Np(go,"appointments"),{userId:e.uid,userName:e.displayName||"Patient",doctorName:d.name,doctorId:d.id,type:O==="onedoc"?"redirection_onedoc":"contact_tel",status:"interested",date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("fr-CH"),createdAt:K1()}),console.log("Salvo no histrico!")}catch(J){console.error("Erro ao salvar histrico:",J)}O==="onedoc"?window.open(K,"_blank"):O==="phone"&&(window.location.href=K)};return S.jsxs("div",{className:"min-h-[400px]",children:[l===1&&S.jsxs("div",{className:"space-y-6 text-center",children:[S.jsx("h4",{className:"text-xl font-bold text-gray-800",children:_("Choisissez votre praticien","Choose your practitioner")}),S.jsx("div",{className:"flex flex-wrap justify-center gap-6",children:g.map(A=>S.jsxs("div",{onClick:()=>{p(A),u(2)},className:"cursor-pointer bg-white p-6 rounded-xl shadow-md border-2 border-transparent hover:border-[#800020] transition w-full sm:w-64 flex flex-col items-center",children:[S.jsx("img",{src:A.image,className:"w-24 h-24 rounded-full object-cover mb-4 shadow-sm",alt:A.name}),S.jsx("h5",{className:"font-bold text-gray-800 text-lg",children:A.name}),S.jsx("p",{className:"text-xs text-[#800020] font-bold uppercase",children:A.role})]},A.id))})]}),l===2&&d&&S.jsxs("div",{className:"text-center space-y-8 animate-in fade-in zoom-in duration-300",children:[S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsx("img",{src:d.image,className:"w-20 h-20 rounded-full mb-3 shadow"}),S.jsxs("h4",{className:"text-xl font-bold text-gray-800",children:[_("Prendre rendez-vous avec","Book with")," ",d.name]})]}),S.jsxs("div",{className:"bg-gray-50 p-8 rounded-xl max-w-md mx-auto space-y-6 border border-gray-100",children:[d.bookingMethod==="onedoc_or_phone"&&S.jsxs("button",{onClick:A=>T(A,"onedoc",d.oneDocLink),className:"flex items-center justify-center gap-3 w-full bg-[#800020] text-white py-4 rounded-xl font-bold hover:bg-[#600018] transition shadow-lg",children:[S.jsx(mE,{size:20}),_("Rserver sur OneDoc","Book on OneDoc")]}),d.bookingMethod==="onedoc_or_phone"&&S.jsx("div",{className:"text-gray-400 text-sm font-medium",children:_("OU","OR")}),S.jsxs("div",{className:"text-gray-800",children:[S.jsx("p",{className:"mb-2 text-sm text-gray-500",children:_("Par tlphone au cabinet :","Call the practice :")}),S.jsxs("button",{onClick:A=>T(A,"phone","tel:+41227007070"),className:"text-2xl font-bold text-gray-800 flex items-center justify-center gap-2 hover:text-[#800020] transition w-full",children:[S.jsx(Kl,{size:24,className:"text-[#800020]"})," +41 22 700 70 70"]})]})]}),S.jsx("button",{onClick:()=>u(1),className:"text-gray-500 hover:text-gray-800 underline text-sm",children:_("Retour","Back")})]})]})},uO=({user:s,userData:e,onClose:n})=>{const[r,l]=we.useState(!1),[u,d]=we.useState({displayName:s.displayName||e?.displayName||"",phone:e?.phone||"",address:e?.address||"",birthDate:e?.birthDate||""}),p=g=>{d({...u,[g.target.name]:g.target.value})},_=async g=>{g.preventDefault(),l(!0);try{s.displayName!==u.displayName&&await rT(s,{displayName:u.displayName});const T=Ah(go,"users",s.uid);await $1(T,{displayName:u.displayName,phone:u.phone,address:u.address,birthDate:u.birthDate,updatedAt:new Date().toISOString()},{merge:!0}),alert("Profil mis  jour !"),n()}catch(T){console.error("Erro ao salvar perfil:",T),alert("Erreur: "+T.message)}finally{l(!1)}};return S.jsxs("form",{onSubmit:_,className:"space-y-5 p-2",children:[S.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Mettez  jour vos informations personnelles."}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Nom Complet"}),S.jsxs("div",{className:"relative",children:[S.jsx(Gm,{className:"absolute left-3 top-3 text-gray-400",size:18}),S.jsx("input",{type:"text",name:"displayName",value:u.displayName,onChange:p,className:"w-full pl-10 p-3 border border-gray-300 rounded-lg outline-none focus:border-[#800020] focus:ring-1 focus:ring-[#800020]",required:!0})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Tlphone"}),S.jsxs("div",{className:"relative",children:[S.jsx(Kl,{className:"absolute left-3 top-3 text-gray-400",size:18}),S.jsx("input",{type:"tel",name:"phone",value:u.phone,onChange:p,placeholder:"+41 79 000 00 00",className:"w-full pl-10 p-3 border border-gray-300 rounded-lg outline-none focus:border-[#800020] focus:ring-1 focus:ring-[#800020]"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Adresse"}),S.jsxs("div",{className:"relative",children:[S.jsx(Fm,{className:"absolute left-3 top-3 text-gray-400",size:18}),S.jsx("input",{type:"text",name:"address",value:u.address,onChange:p,placeholder:"Ville, Rue...",className:"w-full pl-10 p-3 border border-gray-300 rounded-lg outline-none focus:border-[#800020] focus:ring-1 focus:ring-[#800020]"})]})]}),S.jsxs("div",{className:"flex gap-3 pt-4",children:[S.jsx("button",{type:"button",onClick:n,className:"flex-1 py-3 border rounded-lg text-gray-600 hover:bg-gray-50",children:"Annuler"}),S.jsx("button",{type:"submit",disabled:r,className:"flex-1 py-3 bg-[#800020] text-white rounded-lg font-bold hover:bg-[#600015] flex justify-center gap-2 transition",children:r?"...":S.jsxs(S.Fragment,{children:[S.jsx(US,{size:18})," Enregistrer"]})})]})]})},cO=({user:s,userData:e,isDoctor:n,appointments:r,onClose:l,onEditProfile:u,onBookNew:d,onViewAppointment:p,lang:_})=>{const g=vb[_||"fr"].dashboard,T=()=>{KI(Yr).then(l)};return S.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 px-4 sm:px-6",children:S.jsxs("div",{className:"max-w-6xl mx-auto",children:[S.jsxs("div",{className:"flex justify-between items-center mb-8",children:[S.jsx("h1",{className:"text-3xl font-serif font-bold text-gray-800",children:g.title}),S.jsxs("button",{onClick:l,className:"text-sm text-gray-500 hover:text-[#800020] flex items-center gap-1 font-medium",children:[" ",g.backHome]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[S.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[S.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[S.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[S.jsx("div",{className:"w-14 h-14 bg-[#800020] text-white rounded-full flex items-center justify-center shadow-md",children:S.jsx(Gm,{size:28})}),S.jsxs("div",{className:"overflow-hidden",children:[S.jsx("p",{className:"font-bold text-gray-800 truncate",children:s.displayName||g.userDefault}),S.jsx("p",{className:"text-xs text-gray-500 truncate",children:s.email})]})]}),S.jsxs("div",{className:"mb-6 space-y-2 text-sm text-gray-600 bg-gray-50 p-3 rounded-lg border border-gray-100",children:[e?.phone&&S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Kl,{size:14})," ",e.phone]}),e?.address&&S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Fm,{size:14})," ",e.address]}),!e?.phone&&!e?.address&&S.jsx("span",{className:"text-xs italic text-gray-400",children:g.incompleteProfile})]}),S.jsxs("nav",{className:"space-y-2",children:[S.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 bg-gray-50 text-[#800020] font-bold rounded-lg border border-gray-100",children:[S.jsx(Zd,{size:18})," ",g.historyBtn]}),S.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 px-4 py-2 text-gray-600 hover:bg-gray-50 hover:text-[#800020] rounded-lg transition",children:[S.jsx(kS,{size:18})," ",g.editProfileBtn]}),S.jsx("div",{className:"pt-4 mt-4 border-t border-gray-100",children:S.jsxs("button",{onClick:T,className:"w-full flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition",children:[S.jsx(wS,{size:18})," ",g.logoutBtn]})})]})]}),S.jsxs("div",{className:"bg-[#800020] text-white p-6 rounded-2xl shadow-lg text-center",children:[S.jsx("h3",{className:"font-bold text-lg mb-4",children:g.needApptTitle}),S.jsx("button",{onClick:d,className:"w-full py-3 bg-white text-[#800020] rounded-lg font-bold hover:bg-gray-100 transition shadow-sm",children:g.bookApptBtn})]})]}),S.jsx("div",{className:"lg:col-span-3 space-y-6",children:S.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-100 min-h-[400px]",children:[S.jsx("div",{className:"flex justify-between items-center mb-6",children:S.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[S.jsx(Zd,{className:"text-[#800020]"})," ",g.historyTitle]})}),r.length===0?S.jsxs("div",{className:"text-center py-16 text-gray-400",children:[S.jsx("div",{className:"bg-gray-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:S.jsx(Zd,{size:32,className:"opacity-30"})}),S.jsx("p",{children:g.noHistory}),S.jsx("p",{className:"text-sm mt-2",children:g.noHistorySub})]}):S.jsx("div",{className:"space-y-4",children:r.map(A=>S.jsxs("div",{className:"border border-gray-100 p-5 rounded-xl hover:border-[#800020] transition bg-white shadow-sm flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[S.jsxs("div",{className:"flex gap-4 items-center",children:[S.jsx("div",{className:"w-12 h-12 bg-red-50 text-[#800020] rounded-full flex items-center justify-center shrink-0",children:A.type==="redirection_onedoc"?S.jsx(mE,{size:20}):S.jsx(Kl,{size:20})}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-bold text-gray-800",children:A.doctorName}),S.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(A.date).toLocaleDateString(),"  ",A.time]}),S.jsx("span",{className:`text-xs px-2 py-1 rounded mt-1 inline-block font-medium ${A.type==="redirection_onedoc"?"bg-blue-50 text-blue-700":"bg-green-50 text-green-700"}`,children:A.type==="redirection_onedoc"?g.redirectOneDoc:g.phoneCall})]})]}),S.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[S.jsx(Hm,{size:16})," ",g.interestRecorded]})]},A.id))})]})})]})]})})},hO=()=>{const[s,e]=we.useState("fr"),n=vb[s],[r,l]=we.useState("bg-gray-50"),[u,d]=we.useState(null),[p,_]=we.useState(null),[g,T]=we.useState(null),[A,O]=we.useState(sO),[K,J]=we.useState(lE),[te,ne]=we.useState(iO),[fe,Te]=we.useState(!1),[ye,Qe]=we.useState(!1),[at,ke]=we.useState(!1),[N,w]=we.useState(!1),[C,V]=we.useState(!1),[D,P]=we.useState(!1),[I,Ye]=we.useState("login"),[yt,H]=we.useState(!1),[ee,ue]=we.useState(!1),[Pe,ze]=we.useState(!1),[M,Q]=we.useState(null),[W,ie]=we.useState({}),[ge,be]=we.useState(0),[Re,_t]=we.useState(""),[Ze,Fi]=we.useState(""),[Ts,gr]=we.useState(""),[Gi,gn]=we.useState(""),[da,Kn]=we.useState(""),bs=!!(p&&at&&te.some(se=>se.email===p.email&&se.role==="Mdecin Cheffe")),yr=fe&&ye&&at,{appointments:dt}=rO(p,bs,yr),Ge=se=>se?typeof se=="string"?se:se[s]||se.fr||"":"",fi=se=>ie(je=>({...je,[se]:!je[se]}));we.useEffect(()=>{const se=()=>{const je=window.scrollY;V(je>50),je<700?l("bg-gray-50"):je>=700&&je<2500?l("bg-white"):l("bg-[#C6A591]")};return window.addEventListener("scroll",se),()=>window.removeEventListener("scroll",se)},[]),we.useEffect(()=>{(async()=>(await qI(Yr,lT),GI(Yr,async on=>{if(_(on),on&&!on.isAnonymous){const yn=Ah(go,"users",on.uid);jm(yn,pa=>{pa.exists()&&T(pa.data()),Qe(!0)})}else T(null),Qe(!0);Te(!0)})))()},[]),we.useEffect(()=>{if(!fe)return;const se=Np(go,"artifacts",eO,"public","data","doctors"),je=jm(se,on=>{on.empty||ne(on.docs.map(yn=>({id:yn.id,...yn.data()}))),ke(!0)},()=>ke(!0));return()=>je()},[fe]);const _r=()=>{P(!1),ue(!0)},ma=async se=>{se.preventDefault(),gn(""),Kn("");try{if(I==="login")await zI(Yr,Re,Ze),_r();else if(I==="signup"){const je=await UI(Yr,Re,Ze);await rT(je.user,{displayName:Ts}),await jI(je.user);try{await $1(Ah(go,"users",je.user.uid),{email:Re,createdAt:K1()})}catch{}Kn("Vrifiez votre email!"),setTimeout(_r,1500)}else I==="reset"&&(await LI(Yr,Re),Kn("Email envoy."),setTimeout(()=>Ye("login"),3e3))}catch(je){gn(je.message.replace("Firebase: ",""))}};if(!fe)return S.jsx(aO,{});const qt=({doc:se})=>S.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-100 hover:shadow-xl transition duration-300 flex flex-col hover:border-[#800020]",children:[S.jsxs("div",{className:"h-64 overflow-hidden relative group",children:[S.jsx("img",{src:se.image,alt:se.name,className:"w-full h-full object-cover transition duration-700 group-hover:scale-105"}),S.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-black/0 transition"})]}),S.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[S.jsx("h3",{className:"text-xl font-bold text-[#800020]",children:se.name}),S.jsx("p",{className:"text-[#800020] font-medium text-sm uppercase tracking-wide mb-1",children:se.role}),S.jsx("p",{className:"text-gray-500 font-medium text-sm mb-3",children:Ge(se.specialty)}),S.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-3",children:Ge(se.description)}),S.jsx("div",{className:"flex gap-1 mb-4 flex-wrap",children:se.languages&&se.languages.map(je=>S.jsx("span",{className:"text-[10px] bg-gray-100 px-2 py-1 rounded text-gray-600 border border-gray-200",children:je},je))}),S.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-100",children:[S.jsxs("button",{onClick:()=>fi(se.id),className:"flex items-center justify-between w-full text-sm font-bold text-gray-700 hover:text-[#800020] mb-3",children:[n.doctors.bio,W[se.id]?S.jsx(vS,{size:16}):S.jsx(yS,{size:16})]}),W[se.id]&&S.jsx("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded mb-3 text-justify animate-in fade-in",children:Ge(se.biography)}),se.bookable&&S.jsx("button",{onClick:()=>H(!0),className:"w-full bg-[#800020] text-white py-2 rounded text-sm font-bold hover:bg-[#600015] transition",children:n.doctors.book})]})]})]});return S.jsxs("div",{className:`font-sans text-gray-700 relative h-full transition-colors duration-1000 ease-in-out ${r}`,children:[S.jsxs("div",{className:"fixed bottom-6 right-6 z-50 flex gap-2",children:[S.jsx("button",{onClick:()=>e("fr"),className:`px-4 py-2 rounded-full shadow-lg border-2 font-bold transition ${s==="fr"?"bg-[#800020] text-white border-[#800020]":"bg-white text-gray-900 border-gray-400"}`,children:"FR"}),S.jsx("button",{onClick:()=>e("en"),className:`px-4 py-2 rounded-full shadow-lg border-2 font-bold transition ${s==="en"?"bg-[#800020] text-white border-[#800020]":"bg-white text-gray-900 border-gray-400"}`,children:"EN"})]}),u&&S.jsxs("div",{className:"fixed inset-0 z-[60] bg-black/90 flex items-center justify-center p-4",onClick:()=>d(null),children:[S.jsx("img",{src:u,className:"max-w-full max-h-[90vh] rounded shadow-2xl"}),S.jsx("button",{className:"absolute top-4 right-4 text-white",children:S.jsx(_E,{size:32})})]}),S.jsx(mm,{isOpen:yt,onClose:()=>H(!1),title:"Rendez-vous",children:S.jsx(lO,{doctors:te,user:p,onClose:()=>H(!1),lang:s})}),S.jsx(mm,{isOpen:Pe,onClose:()=>ze(!1),title:"Modifier mon profil",children:S.jsx(uO,{user:p,userData:g,onClose:()=>ze(!1)})}),S.jsx(mm,{isOpen:D,onClose:()=>P(!1),title:I==="login"?"Connexion":"Compte",children:S.jsxs("form",{onSubmit:ma,className:"space-y-4",children:[Gi&&S.jsx("div",{className:"text-red-500 text-sm",children:Gi}),S.jsx("input",{type:"email",placeholder:"Email",value:Re,onChange:se=>_t(se.target.value),className:"w-full p-3 border rounded"}),S.jsx("input",{type:"password",placeholder:"Mot de passe",value:Ze,onChange:se=>Fi(se.target.value),className:"w-full p-3 border rounded"}),S.jsx("button",{type:"submit",className:"w-full bg-[#800020] text-white py-3 rounded font-bold hover:bg-[#600015] transition",children:"Entrer"}),S.jsxs("button",{type:"button",onClick:()=>hR(Yr,W4).then(_r),className:"w-full border p-3 rounded flex justify-center items-center gap-3 hover:bg-gray-50 bg-white transition shadow-sm",children:[S.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),S.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),S.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),S.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),S.jsx("span",{className:"font-bold text-gray-600",children:"Google"})]}),S.jsxs("div",{className:"text-center text-sm space-y-2 mt-4",children:[I==="login"&&S.jsx("button",{type:"button",onClick:()=>Ye("signup"),className:"text-[#800020] font-bold hover:underline",children:"S'inscrire"}),I==="signup"&&S.jsx("button",{type:"button",onClick:()=>Ye("login"),className:"text-[#800020] font-bold hover:underline",children:"Se connecter"})]})]})}),ee&&p?S.jsx(cO,{user:p,userData:g,isDoctor:bs,appointments:dt,onClose:()=>ue(!1),onEditProfile:()=>ze(!0),onBookNew:()=>H(!0),lang:s}):S.jsxs("div",{className:"scroll-container",onScroll:se=>V(se.target.scrollTop>50),children:[S.jsxs("nav",{className:`fixed w-full z-40 transition-all duration-300 ${C?"bg-white shadow-md py-2":"bg-transparent py-4"}`,children:[S.jsxs("div",{className:"container mx-auto px-6 flex justify-between items-center",children:[S.jsx("div",{className:"flex items-center gap-2",children:S.jsx("span",{className:`text-xl font-bold tracking-wide ${C?"text-[#800020]":"text-white drop-shadow-md"}`,children:"CABINET DU SEUJET"})}),S.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[["home","mission","team","clinic"].map(se=>S.jsx("a",{href:`#${se}`,className:`font-medium text-sm uppercase tracking-wider ${C?"text-gray-600 hover:text-[#800020]":"text-white hover:text-gray-200 shadow-sm"}`,children:n.nav[se]},se)),p?S.jsxs("button",{onClick:()=>ue(!0),className:"flex items-center gap-2 font-bold text-[#800020] bg-white px-4 py-2 rounded-full shadow-sm hover:shadow-md transition",children:[S.jsx(Gm,{size:18})," ",n.nav.mySpace]}):S.jsx("button",{onClick:()=>{Ye("login"),P(!0)},className:`font-bold text-sm ${C?"text-[#800020]":"text-white"}`,children:n.nav.login}),S.jsx("button",{onClick:()=>H(!0),className:"bg-[#800020] text-white px-5 py-2 rounded-full font-bold shadow hover:bg-[#600018] transition",children:n.nav.book})]}),S.jsx("button",{onClick:()=>w(!N),className:`md:hidden ${C?"text-[#800020]":"text-white"}`,children:S.jsx(xS,{})})]}),N&&S.jsxs("div",{className:"md:hidden bg-white absolute top-full left-0 w-full shadow-xl py-4 px-6 flex flex-col space-y-4 border-t border-gray-100 text-gray-800",children:[S.jsx("a",{href:"#home",onClick:()=>w(!1),children:n.nav.home}),S.jsx("a",{href:"#mission",onClick:()=>w(!1),children:n.nav.mission}),S.jsx("a",{href:"#team",onClick:()=>w(!1),children:n.nav.team}),S.jsx("button",{onClick:()=>{P(!0),w(!1)},className:"text-left font-bold text-[#800020]",children:n.nav.login}),S.jsx("button",{onClick:()=>{H(!0),w(!1)},className:"bg-[#800020] text-white py-3 rounded text-center w-full",children:n.nav.book})]})]}),S.jsxs("section",{id:"home",className:"relative min-h-[90vh] flex items-center justify-center bg-cover bg-center",style:{backgroundImage:`url("${ki.heroBg}")`},children:[S.jsx("div",{className:"absolute inset-0 bg-[#800020]/20 mix-blend-multiply"}),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-black/30"}),S.jsxs("div",{className:"relative container mx-auto px-6 text-center text-white pt-20",children:[S.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 font-serif drop-shadow-lg",children:n.hero.title}),S.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto font-light leading-relaxed drop-shadow-md",children:n.hero.subtitle}),S.jsx("div",{className:"mb-8 flex justify-center gap-4 animate-in fade-in slide-in-from-bottom-4 duration-1000",children:S.jsxs("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full flex items-center gap-2 text-sm font-medium border border-white/30 text-white",children:[S.jsx(pE,{size:16}),S.jsx("span",{children:"FR / EN / PT / HE / RO / RW"})]})}),S.jsx("button",{onClick:()=>H(!0),className:"bg-[#800020] text-white px-8 py-4 rounded-full font-bold text-lg hover:bg-[#600018] transition shadow-xl",children:n.hero.cta})]})]}),S.jsx("section",{id:"mission",className:"py-20 bg-white",children:S.jsxs("div",{className:"container mx-auto px-6",children:[S.jsxs("div",{className:"text-center mb-16",children:[S.jsx("h2",{className:"text-3xl font-bold text-[#800020] mb-4",children:n.sections.mission}),S.jsx("div",{className:"flex flex-wrap justify-center gap-6 mt-8",children:tO.map((se,je)=>S.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 px-4 py-2 rounded-full border border-gray-100 shadow-sm text-gray-700 font-medium",children:[S.jsx(cE,{type:se.icon,className:"text-[#800020] w-5 h-5"})," ",Ge(se.title)]},je))})]}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center bg-gray-50 rounded-2xl p-8 md:p-12 shadow-sm border border-gray-100",children:[S.jsxs("div",{children:[S.jsxs("h3",{className:"text-xl font-bold text-[#800020] mb-4 flex items-center gap-2",children:[S.jsx(dE,{})," ",n.sections.teaching]}),S.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:Ge(oE.title)}),S.jsx("p",{className:"text-gray-700 leading-relaxed text-lg",children:Ge(oE.description)}),S.jsxs("div",{className:"mt-6 flex flex-wrap gap-2",children:[S.jsx("span",{className:"bg-white border px-3 py-1 rounded text-sm font-bold text-gray-600",children:"UNIGE"}),S.jsx("span",{className:"bg-white border px-3 py-1 rounded text-sm font-bold text-gray-600",children:"2me Bachelor"}),S.jsx("span",{className:"bg-white border px-3 py-1 rounded text-sm font-bold text-gray-600",children:"3me Master"})]})]}),S.jsxs("div",{children:[S.jsxs("h3",{className:"text-xl font-bold text-[#800020] mb-4 flex items-center gap-2",children:[S.jsx(gE,{})," ",n.sections.community]}),S.jsxs("div",{className:"flex flex-wrap gap-3",children:[nO.map(se=>S.jsx("span",{className:"bg-[#800020] text-white px-4 py-2 rounded-lg font-bold text-sm shadow-sm",children:se},se)),S.jsx("span",{className:"bg-gray-800 text-white px-4 py-2 rounded-lg font-bold text-sm shadow-sm",children:"MEDIX"})]})]})]})]})}),S.jsx("section",{id:"team",className:"py-20 bg-gray-50",children:S.jsxs("div",{className:"container mx-auto px-6",children:[S.jsxs("div",{className:"text-center mb-16",children:[S.jsx("h2",{className:"text-3xl font-bold text-[#800020] mb-2",children:n.doctors.title}),S.jsx("div",{className:"w-20 h-1 bg-gray-300 mx-auto"})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 items-start",children:te.map(se=>S.jsx(qt,{doc:se},se.id))})]})}),S.jsx("section",{id:"clinic",className:"py-20 bg-white",children:S.jsxs("div",{className:"container mx-auto px-6",children:[S.jsxs("h2",{className:"text-3xl font-bold text-center text-[#800020] mb-16",children:[n.sections.services," & ",n.sections.equipment]}),S.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-20",children:lE.map((se,je)=>S.jsxs("div",{className:"p-6 border border-gray-100 rounded-xl hover:border-[#800020] transition group bg-white shadow-sm",children:[S.jsx("div",{className:"w-12 h-12 bg-red-50 rounded-full flex items-center justify-center text-[#800020] mb-4 group-hover:bg-[#800020] group-hover:text-white transition",children:S.jsx(cE,{type:se.iconType})}),S.jsx("h4",{className:"font-bold text-lg mb-2",children:Ge(se.title)}),S.jsx("p",{className:"text-sm text-gray-600",children:Ge(se.description)})]},je))}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[S.jsxs("div",{className:"space-y-8",children:[S.jsxs("div",{children:[S.jsxs("h3",{className:"font-bold text-xl text-[#800020] border-b pb-3 mb-6 flex items-center gap-2",children:[S.jsx(yE,{size:24})," ",n.sections.equipment]}),S.jsx("ul",{className:"space-y-4",children:uE.equipment.map((se,je)=>S.jsxs("li",{className:"flex items-center gap-3 text-gray-700 bg-gray-50 p-3 rounded-lg border border-gray-100",children:[S.jsx(fE,{size:20,className:"text-[#800020]"})," ",Ge(se)]},je))})]}),S.jsxs("div",{children:[S.jsxs("h3",{className:"font-bold text-xl text-[#800020] border-b pb-3 mb-6 flex items-center gap-2",children:[S.jsx(Hm,{size:24})," ",n.sections.care]}),S.jsx("ul",{className:"space-y-3",children:uE.careRoom.map((se,je)=>S.jsxs("li",{className:"flex items-center gap-3 text-gray-700 text-sm",children:[S.jsx("div",{className:"w-2 h-2 rounded-full bg-[#800020]"})," ",Ge(se)]},je))})]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsx("img",{src:ki.clinic1,onClick:()=>d(ki.clinic1),className:"rounded-lg shadow-md cursor-pointer hover:opacity-90 transition h-40 w-full object-cover"}),S.jsx("img",{src:ki.clinic2,onClick:()=>d(ki.clinic2),className:"rounded-lg shadow-md cursor-pointer hover:opacity-90 transition h-40 w-full object-cover"}),S.jsx("img",{src:ki.clinic3,onClick:()=>d(ki.clinic3),className:"col-span-2 rounded-lg shadow-md cursor-pointer hover:opacity-90 transition h-48 w-full object-cover"})]})]})]})}),S.jsx("footer",{className:"bg-gray-900 text-white pt-16 pb-8 w-full max-w-full overflow-hidden",children:S.jsx("div",{className:"container mx-auto px-6",children:S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-2xl font-serif font-bold mb-4",children:"Cabinet du Seujet"}),S.jsx("p",{className:"text-gray-400 mb-4",children:"Quai du Seujet 14, 1201 Genve"}),S.jsx("p",{className:"text-white font-bold text-lg",children:"+41 22 700 70 70"}),S.jsx("p",{className:"text-gray-400",children:"niyibizi@hin.ch"})]}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-bold mb-4 text-gray-200",children:"Valeurs"}),S.jsx("span",{className:"inline-block bg-gray-800 px-3 py-1 rounded-full text-sm text-gray-300 border border-gray-700 mb-4",children:"Communauts sous-reprsentes bienvenues"}),S.jsx("p",{className:"text-gray-500 text-sm mt-8",children:" 2025 Cabinet du Seujet."})]}),S.jsx("div",{className:"h-48 bg-gray-800 rounded-xl overflow-hidden shadow-lg border border-gray-700",children:S.jsx("iframe",{src:A?.mapEmbedUrl,width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",className:"opacity-80 hover:opacity-100 transition"})})]})})})]})]})};rS.createRoot(document.getElementById("root")).render(S.jsx(we.StrictMode,{children:S.jsx(hO,{})}));
